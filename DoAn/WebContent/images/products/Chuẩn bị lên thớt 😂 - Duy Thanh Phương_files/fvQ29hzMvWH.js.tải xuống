if (self.CavalryLogger) { CavalryLogger.start_js(["6S8Pn"]); }

__d("ComposerMediaFileUploader",["requireCond","ActorURI","ReactComposerMediaConfig","cr:1086863","VideoUploader","VideoUploadFile","XComposerPhotoUploader","isMimeTypeForMedia"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("isMimeTypeForMedia").isMimeTypeForPhoto,h=b("isMimeTypeForMedia").isMimeTypeForVideo,i=function(){__p&&__p();function a(){this.subscribers=[]}var b=a.prototype;b.subscribe=function(a){this.subscribers.push(a)};b.notify=function(a){this.subscribers.forEach(function(b){return b(a)})};b.unsubscribe=function(a){this.subscribers=this.subscribers.filter(function(b){return b!==a})};return a}();a=function(){__p&&__p();a.createOrGetInstance=function(b,c){b=a.$1||new a(b,c);a.$1=b;return b};a.getInstance=function(){return a.$1};function a(a,b){this.startedObserver=new i(),this.progressObserver=new i(),this.successObserver=new i(),this.errorObserver=new i(),this.uploadStatuses=new Map(),this.uploadStatusChangeObserver=new i(),this.videoUploadsQueue=[],this.actorID=a,this.videoUploaderConfig=b,this.photoUploader=this.$2(this.actorID),this.videoUploader=this.$3(this.videoUploaderConfig)}var c=a.prototype;c.$4=function(a,b){var c;c=(c=this.uploadStatuses.get(a))==null?void 0:c.bytesTotal;if(c==null)return;this.uploadStatuses.set(a,{bytesLoaded:(a=b)!=null?a:c,bytesTotal:c});this.uploadStatusChangeObserver.notify(this.uploadStatuses)};c.$2=function(a){var c=this;a=b("cr:1086863")!=null&&b("cr:1086863").isSupported()?b("cr:1086863").getSingleton():void 0;return new(b("XComposerPhotoUploader"))({concurrentLimit:b("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(a,b){c.errorObserver.notify({entID:b.response.payload.photoID,error:b.response.getErrorSummary(),uploadID:a})},onUploadProgress:function(a,b){var d=Math.min(1,Math.max(0,b.event.loaded/b.event.total));c.progressObserver.notify({percentComplete:d,uploadID:a});c.$4(a,b.event.loaded)},onUploadStart:function(a,b){c.startedObserver.notify({uploadID:a})},onUploadSuccess:function(a,b){c.successObserver.notify({attachmentType:"PHOTO",entID:b.response.payload.photoID,uploadID:a}),c.$4(a)},resizer:a,retryLimit:b("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers["extends"]({},b("ReactComposerMediaConfig").photo.uploadData,{source:8}),uploadEndpoint:b("ActorURI").create(b("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})};c.$3=function(a){return new(b("VideoUploader"))(a)};c.upload=function(a){var b=this;a.forEach(function(a){var c=a.uploadID;c!=null&&b.uploadStatuses.get(c)==null&&b.uploadStatuses.set(c,{bytesLoaded:0,bytesTotal:a.size})});this.uploadStatusChangeObserver.notify(this.uploadStatuses);this.$5(a.filter(function(a){return g(a.type)}));this.$6(a.filter(function(a){return h(a.type)}))};c.$5=function(a){a.length>0&&this.photoUploader.getAsyncUploadRequest(a).send()};c.$6=function(a){__p&&__p();var c=this,d=this.videoUploader;a.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(a));if(this.videoUploadsQueue.length>0&&!d.isSessionInProgress()){var e=this.videoUploadsQueue.shift();d.subscribe("upload-started",function(a,b){a=e.uploadID;a!=null&&c.startedObserver.notify({uploadID:a})});d.subscribe("upload-progressed",function(a,b){a=Math.min(1,Math.max(0,(b.start_offset+b.sent_bytes)/b.file_size));var d=e.uploadID;d!=null&&(c.progressObserver.notify({percentComplete:a,uploadID:d}),c.$4(d,b.start_offset+b.sent_bytes))});d.subscribe("upload-finished",function(a,b){d.reset();a=e.uploadID;a!=null&&(c.successObserver.notify({attachmentType:"VIDEO",entID:b.video_id,uploadID:a}),c.$4(a));c.$6([])});d.upload(b("VideoUploadFile").fromFile(e))}};return a}();a.$1=null;e.exports=a}),null);
__d("CometFeedStoryOptimisticLoader.react",["fbt","BaseGlimmer.react","CometPlaceholder.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=b("React")).jsx("div",{className:"oqcyycmt h4z51re5 osnr6wyh rv4hoivh jktsbyx5",children:a.jsx(b("CometPlaceholder.react"),{fallback:a.jsx(b("BaseGlimmer.react"),{index:1}),children:a.jsx(b("TetraText.react"),{color:"secondary",type:"body2",children:g._("\u0110ang \u0111\u0103ng...")})})})}e.exports=a}),null);
__d("CometFeedStoryOptimisticProgressBar.react",["ComposerMediaFileUploader","React","gkx","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState,h=b("gkx")("1138288"),i=95;function a(a){__p&&__p();a=g(0);var c=a[0],d=a[1];if(h){a=b("ComposerMediaFileUploader").getInstance();a&&a.uploadStatusChangeObserver.subscribe(function(a){a=Array.from(a.values()).reduce(function(a,b){a.bytesLoaded+=b.bytesLoaded;a.bytesTotal+=b.bytesTotal;return a},{bytesLoaded:0,bytesTotal:0});d(a.bytesTotal!==0?a.bytesLoaded/a.bytesTotal*i:0)});return b("React").jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2",children:b("React").jsx("div",{className:"qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma",style:{width:c+"%"}})})}return b("React").jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2",children:b("React").jsx("div",{className:"dd2scrzq qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma nn0ay230 h9pa7xm5 j1l0snac l10wm3d9"})})}e.exports=a}),null);
__d("UFIReactionsAnimationPreloader",["Promise","Keyframes","UFIReactionsKeyframesAssets","UFIReactionTypes","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=!1;function i(a){__p&&__p();var c=[],d=Object.keys(b("UFIReactionsKeyframesAssets").reactions);for(var e=0;e<d.length;e++){var f=d[e];f=Number(f);if(a.indexOf(f)!==-1){var g=b("UFIReactionsKeyframesAssets").reactions[f];if(typeof g==="string"){f={projectName:"feedback_reactions",assetName:b("UFIReactionTypes").reactions[f].name};c.push(b("Keyframes").load(g,f))}}}return b("Promise").all(c).then(b("emptyFunction"))}a=function(){__p&&__p();function a(){}var c=a.prototype;c.loadLikeActionIcon=function(){g||(g=b("Keyframes").load(b("UFIReactionsKeyframesAssets").likeAction,{projectName:"feedback_reactions",assetName:"like_action"}));return g};c.load=function(a){h||(h=!0,b("promiseDone")(this.$1(a),function(){},function(){h=!1}))};c.loadAll=function(){h||(h=!0,b("promiseDone")(b("Promise").all([this.$1(Object.keys(b("UFIReactionsKeyframesAssets").reactions).map(function(a){return Number(a)})),this.loadLikeActionIcon()]),function(){},function(){h=!1}))};c.preloadAll=function(){var a=Object.values(b("UFIReactionsKeyframesAssets").reactions);for(var c=0;c<a.length;c++){var d=a[c];typeof d==="string"&&b("Keyframes").preload(d)}b("Keyframes").preload(b("UFIReactionsKeyframesAssets").likeAction)};c.$1=function(a){return i(a)};return a}();e.exports=a}),null);
__d("CometFeedStoriesStrategyErrorsTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedStoriesStrategyErrorsLoggerConfig")}),null);