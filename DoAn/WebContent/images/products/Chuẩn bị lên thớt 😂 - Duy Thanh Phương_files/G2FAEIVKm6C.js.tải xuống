if (self.CavalryLogger) { CavalryLogger.start_js(["Vnpo3"]); }

__d("ChatDateBreak.react",["cx","FBLogger","React","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.date.getTime()!==a.date.getTime()};d.render=function(){try{var a=b("formatDate")(this.props.date,{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").jsx("time",{className:b("joinClasses")(this.props.className,"_5w-5"),children:b("React").jsx("span",{className:"_5w-6",children:a})})}catch(a){b("FBLogger")("mercury").catching(a).mustfix("incorrect format in datebreak");return null}};return c}(b("React").Component);e.exports=a}),null);
__d("DefaultDraftBlockRenderMap",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=b("immutable").Map;c=b("React").jsx("ul",{className:"_1bv0"});d=b("React").jsx("ol",{className:"_1bv1"});f=b("React").jsx("pre",{className:"_1bv2"});g=a({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:c},"ordered-list-item":{element:"li",wrapper:d},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:f},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=g}),null);
__d("DefaultDraftInlineStyle",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),null);
__d("getCorrectDocumentFromNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?document:a.ownerDocument}e.exports=a}),null);
__d("isElement",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:a.nodeType===Node.ELEMENT_NODE}e.exports=a}),null);
__d("getSelectionOffsetKeyForNode",["isElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();if(b("isElement")(a)){a=a;var c=a.getAttribute("data-offset-key");if(c)return c;for(var c=0;c<a.childNodes.length;c++){var d=g(a.childNodes[c]);if(d)return d}}return null}e.exports=g}),null);
__d("findAncestorOffsetKey",["getCorrectDocumentFromNode","getSelectionOffsetKeyForNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a;while(c&&c!==b("getCorrectDocumentFromNode")(a).documentElement){var d=b("getSelectionOffsetKeyForNode")(c);if(d!=null)return d;c=c.parentNode}return null}e.exports=a}),null);
__d("getWindowForNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument||!a.ownerDocument.defaultView?window:a.ownerDocument.defaultView}e.exports=a}),null);
__d("DOMObserver",["invariant","UserAgent","findAncestorOffsetKey","getWindowForNode","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").Map,i={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},j=b("UserAgent").isBrowser("IE <= 11");a=function(){__p&&__p();function a(a){var c=this;this.container=a;this.mutations=h();a=b("getWindowForNode")(a);a.MutationObserver&&!j?this.observer=new a.MutationObserver(function(a){return c.registerMutations(a)}):this.onCharData=function(a){a.target instanceof Node||g(0,16525),c.registerMutation({type:"characterData",target:a.target})}}var c=a.prototype;c.start=function(){this.observer?this.observer.observe(this.container,i):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)};c.stopAndFlushMutations=function(){var a=this.observer;a?(this.registerMutations(a.takeRecords()),a.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);a=this.mutations;this.mutations=h();return a};c.registerMutations=function(a){for(var b=0;b<a.length;b++)this.registerMutation(a[b])};c.getMutationTextContent=function(a){var b=a.type,c=a.target;a=a.removedNodes;if(b==="characterData"){if(c.textContent!=="")return c.textContent}else if(b==="childList"&&(a&&a.length))return"";return null};c.registerMutation=function(a){var c=this.getMutationTextContent(a);if(c!=null){a=b("nullthrows")(b("findAncestorOffsetKey")(a.target));this.mutations=this.mutations.set(a,c)}};return a}();e.exports=a}),null);
__d("CharacterMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;a=b("immutable").OrderedSet;c=b("immutable").Record;var h=a();d={style:h,entity:null};f=c(d);b=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStyle=function(){return this.get("style")};c.getEntity=function(){return this.get("entity")};c.hasStyle=function(a){return this.getStyle().includes(a)};b.applyStyle=function(a,c){a=a.set("style",a.getStyle().add(c));return b.create(a)};b.removeStyle=function(a,c){a=a.set("style",a.getStyle().remove(c));return b.create(a)};b.applyEntity=function(a,c){a=a.getEntity()===c?a:a.set("entity",c);return b.create(a)};b.create=function(a){__p&&__p();if(!a)return i;var c={style:h,entity:null};c=g(c).merge(a);a=j.get(c);if(a)return a;a=new b(c);j=j.set(c,a);return a};return b}(f);var i=new b(),j=g([[g(d),i]]);b.EMPTY=i;e.exports=b}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;a={add:function(a,b,c){return h(a,b,c,!0)},remove:function(a,b,c){return h(a,b,c,!1)}};function h(a,c,d,e){__p&&__p();var f=a.getBlockMap(),h=c.getStartKey(),i=c.getStartOffset(),j=c.getEndKey(),k=c.getEndOffset(),l=f.skipUntil(function(a,b){return b===h}).takeUntil(function(a,b){return b===j}).concat(g([[j,f.get(j)]])).map(function(a,c){var f,g;h===j?(f=i,g=k):(f=c===h?i:0,g=c===j?k:a.getLength());c=a.getCharacterList();var l;while(f<g)l=c.get(f),c=c.set(f,e?b("CharacterMetadata").applyStyle(l,d):b("CharacterMetadata").removeStyle(l,d)),f++;return a.set("characterList",c)});return a.merge({blockMap:f.merge(l),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=a.getCharacterList();while(c<d)f=f.set(c,b("CharacterMetadata").applyEntity(f.get(c),e)),c++;return a.set("characterList",f)}e.exports=a}),null);
__d("applyEntityToContentState",["applyEntityToContentBlock","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){var e=a.getBlockMap(),f=c.getStartKey(),g=c.getStartOffset(),h=c.getEndKey(),i=c.getEndOffset(),j=e.skipUntil(function(a,b){return b===f}).takeUntil(function(a,b){return b===h}).toOrderedMap().merge(b("immutable").OrderedMap([[h,e.get(h)]])).map(function(a,c){var e=c===f?g:0;c=c===h?i:a.getLength();return b("applyEntityToContentBlock")(a,e,c,d)});return a.merge({blockMap:e.merge(j),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("DraftEntitySegments",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getRemovalRange:function(a,b,c,d,e){__p&&__p();var f=c.split(" ");f=f.map(function(a,b){if(e==="forward"){if(b>0)return" "+a}else if(b<f.length-1)return a+" ";return a});var g=d,h,i=null,j=null;for(var k=0;k<f.length;k++){h=f[k];h=g+h.length;if(a<h&&g<b)i!==null?j=h:(i=g,j=h);else if(i!==null)break;g=h}h=d+c.length;k=i===d;g=j===h;(!k&&g||k&&!g)&&(e==="forward"?j!==h&&j++:i!==d&&i--);return{start:i,end:j}}};e.exports=a}),null);
__d("getRangesForDraftEntity",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a.findEntityRanges(function(a){return a.getEntity()===b},function(a,b){c.push({start:a,end:b})});!c.length&&g(0,1817);return c}e.exports=a}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b,c,d,e){__p&&__p();var f=d.getStartOffset(),g=d.getEndOffset();f=b.getEntityAt(f);g=c.getEntityAt(g-1);if(!f&&!g)return d;d=d;if(f&&f===g)d=h(a,b,d,e,f,!0,!0);else if(f&&g){var i=h(a,b,d,e,f,!1,!0),j=h(a,c,d,e,g,!1,!1);d=d.merge({anchorOffset:i.getAnchorOffset(),focusOffset:j.getFocusOffset(),isBackward:!1})}else if(f){i=h(a,b,d,e,f,!1,!0);d=d.merge({anchorOffset:i.getStartOffset(),isBackward:!1})}else if(g){j=h(a,c,d,e,g,!1,!1);d=d.merge({focusOffset:j.getEndOffset(),isBackward:!1})}return d}function h(a,c,d,e,f,h,i){__p&&__p();var j=d.getStartOffset(),k=d.getEndOffset();a=a.__get(f);a=a.getMutability();var l=i?j:k;if(a==="MUTABLE")return d;f=b("getRangesForDraftEntity")(c,f).filter(function(a){return l<=a.end&&l>=a.start});f.length==1||g(0,5779);f=f[0];if(a==="IMMUTABLE")return d.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1});h||(i?k=f.end:j=f.start);a=b("DraftEntitySegments").getRemovalRange(j,k,c.getText().slice(f.start,f.end),f.start,e);return d.merge({anchorOffset:a.start,focusOffset:a.end,isBackward:!1})}e.exports=a}),null);
__d("findRangesImmutable",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d){if(!a.size)return;var e=0;a.reduce(function(a,f,g){b(a,f)||(c(a)&&d(e,g),e=g);return f});c(a.last())&&d(e,a.count())}e.exports=a}),null);
__d("ContentBlockNode",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d(),j={parent:null,characterList:g(),data:c(),depth:0,key:"",text:"",type:"unstyled",children:g(),prevSibling:null,nextSibling:null},k=function(a,b){return a.getStyle()===b.getStyle()},l=function(a,b){return a.getEntity()===b.getEntity()},m=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b===void 0&&(b=j);return a.call(this,m(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.getChildKeys=function(){return this.get("children")};d.getParentKey=function(){return this.get("parent")};d.getPrevSiblingKey=function(){return this.get("prevSibling")};d.getNextSiblingKey=function(){return this.get("nextSibling")};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(f(j));e.exports=a}),null);
__d("generateRandomKey",[],(function(a,b,c,d,e,f){"use strict";var g={},h=Math.pow(2,24);function a(){var a;while(a===void 0||Object.prototype.hasOwnProperty.call(g,a)||!isNaN(+a))a=Math.floor(Math.random()*h).toString(32);g[a]=!0;return a}e.exports=a}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","generateRandomKey","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap,h=function(a){__p&&__p();var c={},d;return g(a.withMutations(function(a){__p&&__p();a.forEach(function(e,f){__p&&__p();var g=e.getKey();f=e.getNextSiblingKey();var h=e.getPrevSiblingKey(),i=e.getChildKeys(),j=e.getParentKey(),k=b("generateRandomKey")();c[g]=k;if(f){var l=a.get(f);l?a.setIn([f,"prevSibling"],k):a.setIn([g,"nextSibling"],null)}if(h){l=a.get(h);l?a.setIn([h,"nextSibling"],k):a.setIn([g,"prevSibling"],null)}if(j&&a.get(j)){f=a.get(j);l=f.getChildKeys();a.setIn([j,"children"],l.set(l.indexOf(e.getKey()),k))}else a.setIn([g,"parent"],null),d&&(a.setIn([d.getKey(),"nextSibling"],k),a.setIn([g,"prevSibling"],c[d.getKey()])),d=a.get(g);i.forEach(function(b){var c=a.get(b);c?a.setIn([b,"parent"],k):a.setIn([g,"children"],e.getChildKeys().filter(function(a){return a!==b}))})})}).toArray().map(function(a){return[c[a.getKey()],a.set("key",c[a.getKey()])]}))},i=function(a){return g(a.toArray().map(function(a){var c=b("generateRandomKey")();return[c,a.set("key",c)]}))};a=function(a){var c=a.first()instanceof b("ContentBlockNode");return!c?i(a):h(a)};e.exports=a}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){var c=a.getBlockMap(),d=a.getEntityMap(),e={},f=b.getStartKey(),g=b.getStartOffset(),h=c.get(f);g=i(d,h,g);g!==h&&(e[f]=g);h=b.getEndKey();var j=b.getEndOffset(),k=c.get(h);f===h&&(k=g);f=i(d,k,j);f!==k&&(e[h]=f);return!Object.keys(e).length?a.set("selectionAfter",b):a.merge({blockMap:c.merge(e),selectionAfter:b})}function h(a,c,d){var e;b("findRangesImmutable")(a,function(a,b){return a.getEntity()===b.getEntity()},function(a){return a.getEntity()===c},function(a,b){a<=d&&b>=d&&(e={start:a,end:b})});typeof e==="object"||g(0,6015);return e}function i(a,c,d){__p&&__p();var e=c.getCharacterList(),f=d>0?e.get(d-1):void 0,g=d<e.count()?e.get(d):void 0;f=f?f.getEntity():void 0;g=g?g.getEntity():void 0;if(g&&g===f){f=a.__get(g);if(f.getMutability()!=="MUTABLE"){a=h(e,g,d);f=a.start;g=a.end;while(f<g)d=e.get(f),e=e.set(f,b("CharacterMetadata").applyEntity(d,null)),f++;return c.set("characterList",e)}}return c}e.exports=a}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){__p&&__p();var d=c.getStartKey(),e=c.getStartOffset(),f=c.getEndKey(),g=c.getEndOffset();a=b("removeEntitiesAtEdges")(a,c);c=a.getBlockMap();a=c.keySeq();var h=a.indexOf(d);a=a.indexOf(f)+1;return b("randomizeBlockMapKeys")(c.slice(h,a).map(function(a,b){var c=a.getText(),h=a.getCharacterList();if(d===f)return a.merge({text:c.slice(e,g),characterList:h.slice(e,g)});if(b===d)return a.merge({text:c.slice(e),characterList:h.slice(e)});return b===f?a.merge({text:c.slice(0,g),characterList:h.slice(0,g)}):a}))};e.exports=a}),null);
__d("BlockMapBuilder",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap;a={createFromArray:function(a){return g(a.map(function(a){return[a.getKey(),a]}))}};e.exports=a}),null);
__d("insertIntoList",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a;if(c===d.count())b.forEach(function(a){d=d.push(a)});else if(c===0)b.reverse().forEach(function(a){d=d.unshift(a)});else{a=d.slice(0,c);c=d.slice(c);d=a.concat(b,c).toList()}return d}e.exports=a}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=function(a,c,d,e,f,g,h){h===void 0&&(h="REPLACE_WITH_NEW_DATA");var i=d.get(f),j=i.getText(),k=i.getCharacterList(),l=f,m=g+e.getText().length,n=null;switch(h){case"MERGE_OLD_DATA_TO_NEW_DATA":n=e.getData().merge(i.getData());break;case"REPLACE_WITH_NEW_DATA":n=e.getData();break}h=i.merge({text:j.slice(0,g)+e.getText()+j.slice(g),characterList:b("insertIntoList")(k,e.getCharacterList(),g),data:n});return a.merge({blockMap:d.set(f,h),selectionBefore:c,selectionAfter:c.merge({anchorKey:l,anchorOffset:m,focusKey:l,focusOffset:m,isBackward:!1})})},j=function(a,b,c){var d=a.getText(),e=a.getCharacterList();d=d.slice(0,b);e=e.slice(0,b);b=c.first();return a.merge({text:d+b.getText(),characterList:e.concat(b.getCharacterList()),type:d?a.getType():b.getType(),data:b.getData()})},k=function(a,b,c){var d=a.getText();a=a.getCharacterList();var e=d.length;d=d.slice(b,e);a=a.slice(b,e);b=c.last();return b.merge({text:b.getText()+d,characterList:b.getCharacterList().concat(a),data:b.getData()})},l=function(a,b){__p&&__p();var c=a.getKey();a=a;var d=[];b.get(c)&&d.push(c);while(a&&a.getNextSiblingKey()){c=a.getNextSiblingKey();if(!c)break;d.push(c);a=b.get(c)}return d},m=function(a,b,c,d){__p&&__p();return a.withMutations(function(b){__p&&__p();var e=c.getKey(),f=d.getKey(),g=c.getNextSiblingKey(),i=c.getParentKey(),j=l(d,a),k=j[j.length-1];b.get(f)?(b.setIn([e,"nextSibling"],f),b.setIn([f,"prevSibling"],e)):(b.setIn([e,"nextSibling"],d.getNextSiblingKey()),b.setIn([d.getNextSiblingKey(),"prevSibling"],e));b.setIn([k,"nextSibling"],g);g&&b.setIn([g,"prevSibling"],k);j.forEach(function(a){return b.setIn([a,"parent"],i)});if(i){f=a.get(i);g=f.getChildKeys();k=g.indexOf(e);f=k+1;e=g.toArray();e.splice.apply(e,[f,0].concat(j));b.setIn([i,"children"],h(e))}})},n=function(a,c,d,e,f,g){__p&&__p();var h=d.first()instanceof b("ContentBlockNode"),i=[],l=e.size,n=d.get(f),o=e.first(),p=e.last(),q=p.getLength();p=p.getKey();var r=h&&(!n.getChildKeys().isEmpty()||!o.getChildKeys().isEmpty());d.forEach(function(a,b){if(b!==f){i.push(a);return}r?i.push(a):i.push(j(a,g,e));e.slice(r?0:1,l-1).forEach(function(a){return i.push(a)});i.push(k(a,g,e))});var s=b("BlockMapBuilder").createFromArray(i);h&&(s=m(s,d,n,o));return a.merge({blockMap:s,selectionBefore:c,selectionAfter:c.merge({anchorKey:p,anchorOffset:q,focusKey:p,focusOffset:q,isBackward:!1})})};a=function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");c.isCollapsed()||g(0,1903);var f=a.getBlockMap();d=b("randomizeBlockMapKeys")(d);var h=c.getStartKey(),j=c.getStartOffset(),k=f.get(h);k instanceof b("ContentBlockNode")&&(k.getChildKeys().isEmpty()||g(0,1904));return d.size===1?i(a,c,f,d.first(),h,j,e):n(a,c,f,d,h,j)};e.exports=a}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").Repeat;function a(a,c,d,e){c.isCollapsed()||g(0,2659);var f=null;d!=null&&(f=d.length);if(f==null||f===0)return a;var i=a.getBlockMap(),j=c.getStartKey(),k=c.getStartOffset(),l=i.get(j),m=l.getText();d=l.merge({text:m.slice(0,k)+d+m.slice(k,l.getLength()),characterList:b("insertIntoList")(l.getCharacterList(),h(e,f).toList(),k)});m=k+f;return a.merge({blockMap:i.set(j,d),selectionAfter:c.merge({anchorOffset:m,focusOffset:m})})}e.exports=a}),null);
__d("modifyBlockForContentState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;function a(a,b,c){var d=b.getStartKey(),e=b.getEndKey(),f=a.getBlockMap();c=f.toSeq().skipUntil(function(a,b){return b===d}).takeUntil(function(a,b){return b===e}).concat(g([[e,f.get(e)]])).map(c);return a.merge({blockMap:f.merge(c),selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c){__p&&__p();var d=a instanceof b("ContentBlockNode");if(!d)return null;d=a.getNextSiblingKey();if(d)return d;d=a.getParentKey();if(!d)return null;a=c.get(d);while(a&&!a.getNextSiblingKey()){d=a.getParentKey();a=d?c.get(d):null}return!a?null:a.getNextSiblingKey()};e.exports=a}),null);
__d("removeRangeFromContentState",["ContentBlockNode","getNextDelimiterBlockKey","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;var g=b("immutable").Map,h=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},i=function(a,b){__p&&__p();var c=[];if(!a)return c;a=b.get(a);while(a&&a.getParentKey()){var d=a.getParentKey();d&&c.push(d);a=d?b.get(d):null}return c},j=function(a,c){__p&&__p();var d=[];if(!a)return d;a=b("getNextDelimiterBlockKey")(a,c);while(a&&c.get(a)){var e=c.get(a);d.push(a);a=e.getParentKey()?b("getNextDelimiterBlockKey")(e,c):null}return d},k=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getNextSiblingKey();while(a&&!b.get(a))a=c.get(a).getNextSiblingKey()||null;return a},l=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getPrevSiblingKey();while(a&&!b.get(a))a=c.get(a).getPrevSiblingKey()||null;return a},m=function(a,b,c,d){__p&&__p();return a.withMutations(function(e){__p&&__p();h(b.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});h(c.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});i(b.getKey(),d).forEach(function(a){return h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});h(b.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:b.getPrevSiblingKey()})});h(b.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:k(a,e,d)})});h(c.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:l(a,e,d)})});h(c.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:c.getNextSiblingKey()})});i(c.getKey(),d).forEach(function(a){h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});j(c,d).forEach(function(a){return h(a,e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});if(a.get(b.getKey())==null&&a.get(c.getKey())!=null&&c.getParentKey()===b.getKey()&&c.getPrevSiblingKey()==null){var f=b.getPrevSiblingKey();h(c.getKey(),e,function(a){return a.merge({prevSibling:f})});h(f,e,function(a){return a.merge({nextSibling:c.getKey()})});var g=f?a.get(f):null,m=g?g.getParentKey():null;b.getChildKeys().forEach(function(a){h(a,e,function(a){return a.merge({parent:m})})});if(m!=null){var n=a.get(m);h(m,e,function(a){return a.merge({children:n.getChildKeys().concat(b.getChildKeys())})})}h(b.getChildKeys().find(function(b){b=a.get(b);return b.getNextSiblingKey()===null}),e,function(a){return a.merge({nextSibling:b.getNextSiblingKey()})})}})};a=function(a,c){__p&&__p();if(c.isCollapsed())return a;var d=a.getBlockMap(),e=c.getStartKey(),f=c.getStartOffset(),h=c.getEndKey(),j=c.getEndOffset(),k=d.get(e),l=d.get(h),o=k instanceof b("ContentBlockNode"),p=[];if(o){var q=l.getChildKeys(),r=i(h,d);l.getNextSiblingKey()&&(p=p.concat(r));q.isEmpty()||(p=p.concat(r.concat([h])));p=p.concat(i(b("getNextDelimiterBlockKey")(l,d),d))}k===l?q=n(k.getCharacterList(),f,j):q=k.getCharacterList().slice(0,f).concat(l.getCharacterList().slice(j));var s=k.merge({text:k.getText().slice(0,f)+l.getText().slice(j),characterList:q});r=o&&f===0&&j===0&&l.getParentKey()===e&&l.getPrevSiblingKey()==null;q=r?g([[e,null]]):d.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===h}).filter(function(a,b){return p.indexOf(b)===-1}).concat(g([[h,null]])).map(function(a,b){return b===e?s:null});j=d.merge(q).filter(function(a){return!!a});o&&k!==l&&(j=m(j,k,l,d));return a.merge({blockMap:j,selectionBefore:c,selectionAfter:c.merge({anchorKey:e,anchorOffset:f,focusKey:e,focusOffset:f,isBackward:!1})})};var n=function(a,b,c){__p&&__p();if(b===0)while(b<c)a=a.shift(),b++;else if(c===a.count())while(c>b)a=a.pop(),c--;else{b=a.slice(0,b);c=a.slice(c);a=b.concat(c).toList()}return a};e.exports=a}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","generateRandomKey","immutable","modifyBlockForContentState"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("immutable").Map,j=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},k=function(a,b,c){__p&&__p();return a.withMutations(function(a){__p&&__p();var d=b.getKey(),e=c.getKey();j(b.getParentKey(),a,function(a){var b=a.getChildKeys(),c=b.indexOf(d)+1;b=b.toArray();b.splice(c,0,e);return a.merge({children:h(b)})});j(b.getNextSiblingKey(),a,function(a){return a.merge({prevSibling:e})});j(d,a,function(a){return a.merge({nextSibling:e})});j(e,a,function(a){return a.merge({prevSibling:d})})})};a=function(a,c){__p&&__p();c.isCollapsed()||g(0,5004);var d=c.getAnchorKey(),e=a.getBlockMap(),f=e.get(d),h=f.getText();if(!h){var j=f.getType();if(j==="unordered-list-item"||j==="ordered-list-item")return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:"unstyled",depth:0})})}j=c.getAnchorOffset();var l=f.getCharacterList(),m=b("generateRandomKey")(),n=f instanceof b("ContentBlockNode"),o=f.merge({text:h.slice(0,j),characterList:l.slice(0,j)});h=o.merge({key:m,text:h.slice(j),characterList:l.slice(j),data:i()});l=e.toSeq().takeUntil(function(a){return a===f});j=e.toSeq().skipUntil(function(a){return a===f}).rest();e=l.concat([[d,o],[m,h]],j).toOrderedMap();n&&(f.getChildKeys().isEmpty()||g(0,5005),e=k(e,o,h));return a.merge({blockMap:e,selectionBefore:c,selectionAfter:c.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})};e.exports=a}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","immutable","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").OrderedSet,i={replaceText:function(a,c,d,e,f){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);c=b("CharacterMetadata").create({style:e||h(),entity:f||null});return b("insertTextIntoContentState")(a,a.getSelectionAfter(),d,c)},insertText:function(a,b,c,d,e){b.isCollapsed()||g(0,4661);return i.replaceText(a,b,c,d,e)},moveText:function(a,c,d){var e=b("getContentStateFragment")(a,c);a=i.removeRange(a,c,"backward");return i.replaceWithFragment(a,d,e)},replaceWithFragment:function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("insertFragmentIntoContentState")(a,a.getSelectionAfter(),d,e)},removeRange:function(a,c,d){__p&&__p();var e,f,g,h;c.getIsBackward()&&(c=c.merge({anchorKey:c.getFocusKey(),anchorOffset:c.getFocusOffset(),focusKey:c.getAnchorKey(),focusOffset:c.getAnchorOffset(),isBackward:!1}));e=c.getAnchorKey();f=c.getFocusKey();g=a.getBlockForKey(e);h=a.getBlockForKey(f);var i=c.getStartOffset(),j=c.getEndOffset();i=g.getEntityAt(i);j=h.getEntityAt(j-1);if(e===f&&(i&&i===j)){e=b("getCharacterRemovalRange")(a.getEntityMap(),g,h,c,d);return b("removeRangeFromContentState")(a,e)}f=b("removeEntitiesAtEdges")(a,c);return b("removeRangeFromContentState")(f,c)},splitBlock:function(a,c){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("splitBlockInContentState")(a,a.getSelectionAfter())},applyInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").add(a,c,d)},removeInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").remove(a,c,d)},setBlockType:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:d,depth:0})})},setBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:d})})},mergeBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:a.getData().merge(d)})})},applyEntity:function(a,c,d){a=b("removeEntitiesAtEdges")(a,c);return b("applyEntityToContentState")(a,c,d)}};e.exports=i}),null);
__d("DraftOffsetKey",[],(function(a,b,c,d,e,f){"use strict";var g="-";a={encode:function(a,b,c){return a+g+b+g+c},decode:function(a){a=a.split(g).reverse();var b=a[0],c=a[1];a=a.slice(2);return{blockKey:a.reverse().join(g),decoratorKey:parseInt(c,10),leafKey:parseInt(b,10)}}};e.exports=a}),null);
__d("BlockTree",["findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=b("immutable").Repeat;a=b("immutable").Record;var i=function(){return!0};c={start:null,end:null};var j=a(c);d={start:null,end:null,decoratorKey:null,leaves:null};var k=a(d);f={generate:function(a,c,d){var e=c.getLength();if(!e)return g.of(new k({start:0,end:0,decoratorKey:null,leaves:g.of(new j({start:0,end:0}))}));var f=[],n=d?d.getDecorations(c,a):g(h(null,e)),o=c.getCharacterList();b("findRangesImmutable")(n,m,i,function(a,b){f.push(new k({start:a,end:b,decoratorKey:n.get(a),leaves:l(o.slice(a,b).toList(),a)}))});return g(f)}};function l(a,c){var d=[];a=a.map(function(a){return a.getStyle()}).toList();b("findRangesImmutable")(a,m,i,function(a,b){d.push(new j({start:a+c,end:b+c}))});return g(d)}function m(a,b){return a===b}e.exports=f}),null);
__d("ContentBlock",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d();a={key:"",type:"unstyled",text:"",characterList:g(),depth:0,data:c()};d=f(a);var j=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,j(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(d);function k(a,b){return a.getStyle()===b.getStyle()}function l(a,b){return a.getEntity()===b.getEntity()}e.exports=c}),null);
__d("DraftEntityInstance",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;c=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object});d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getType=function(){return this.get("type")};c.getMutability=function(){return this.get("mutability")};c.getData=function(){return this.get("data")};return b}(c);e.exports=d}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("immutable").Map;var h=a(),i=0;function j(a,b){}var k={getLastCreatedEntityKey:function(){j("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey");return k.__getLastCreatedEntityKey()},create:function(a,b,c){j("DraftEntity.create","contentState.createEntity");return k.__create(a,b,c)},add:function(a){j("DraftEntity.add","contentState.addEntity");return k.__add(a)},get:function(a){j("DraftEntity.get","contentState.getEntity");return k.__get(a)},mergeData:function(a,b){j("DraftEntity.mergeData","contentState.mergeEntityData");return k.__mergeData(a,b)},replaceData:function(a,b){j("DraftEntity.replaceData","contentState.replaceEntityData");return k.__replaceData(a,b)},__getLastCreatedEntityKey:function(){return""+i},__create:function(a,c,d){return k.__add(new(b("DraftEntityInstance"))({type:a,mutability:c,data:d||{}}))},__add:function(a){var b=""+ ++i;h=h.set(b,a);return b},__get:function(a){var b=h.get(a);!b&&g(0,2105,a);return b},__mergeData:function(a,b){var c=k.__get(a);b=babelHelpers["extends"]({},c.getData(),b);c=c.set("data",b);h=h.set(a,c);return c},__replaceData:function(a,b){var c=k.__get(a);c=c.set("data",b);h=h.set(a,c);return c}};e.exports=k}),null);
__d("SelectionState",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;c={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};c.getAnchorKey=function(){return this.get("anchorKey")};c.getAnchorOffset=function(){return this.get("anchorOffset")};c.getFocusKey=function(){return this.get("focusKey")};c.getFocusOffset=function(){return this.get("focusOffset")};c.getIsBackward=function(){return this.get("isBackward")};c.getHasFocus=function(){return this.get("hasFocus")};c.hasEdgeWithin=function(a,b,c){var d=this.getAnchorKey(),e=this.getFocusKey();if(d===e&&d===a){var f=this.getStartOffset(),g=this.getEndOffset();return b<=f&&f<=c||b<=g&&g<=c}if(a!==d&&a!==e)return!1;f=a===d?this.getAnchorOffset():this.getFocusOffset();return b<=f&&c>=f};c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};b.createEmpty=function(a){return new b({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})};return b}(d);e.exports=f}),null);
__d("sanitizeDraftText",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("\r","g");function a(a){return a.replace(g,"")}e.exports=a}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List;a=b("immutable").Record;var h=b("immutable").Repeat;c={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null};d=a(c);f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getEntityMap=function(){return b("DraftEntity")};d.getBlockMap=function(){return this.get("blockMap")};d.getSelectionBefore=function(){return this.get("selectionBefore")};d.getSelectionAfter=function(){return this.get("selectionAfter")};d.getBlockForKey=function(a){a=this.getBlockMap().get(a);return a};d.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlocksAsArray=function(){return this.getBlockMap().toArray()};d.getFirstBlock=function(){return this.getBlockMap().first()};d.getLastBlock=function(){return this.getBlockMap().last()};d.getPlainText=function(a){return this.getBlockMap().map(function(a){return a?a.getText():""}).join(a||"\n")};d.getLastCreatedEntityKey=function(){return b("DraftEntity").__getLastCreatedEntityKey()};d.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0};d.createEntity=function(a,c,d){b("DraftEntity").__create(a,c,d);return this};d.mergeEntityData=function(a,c){b("DraftEntity").__mergeData(a,c);return this};d.replaceEntityData=function(a,c){b("DraftEntity").__replaceData(a,c);return this};d.addEntity=function(a){b("DraftEntity").__add(a);return this};d.getEntity=function(a){return b("DraftEntity").__get(a)};c.createFromBlockArray=function(a,d){a=Array.isArray(a)?a:a.contentBlocks;a=b("BlockMapBuilder").createFromArray(a);var e=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new c({blockMap:a,entityMap:d||b("DraftEntity"),selectionBefore:e,selectionAfter:e})};c.createFromText=function(a,d){d===void 0&&(d=/\r\n?|\n/g);a=a.split(d);d=a.map(function(a){a=b("sanitizeDraftText")(a);var c=b("gkx")("676842")?b("ContentBlockNode"):b("ContentBlock");return new c({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(b("CharacterMetadata").EMPTY,a.length))})});return c.createFromBlockArray(d)};return c}(d);e.exports=f}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){function a(a){!a?a=b("UnicodeBidiGlobalDirection").getDir():b("UnicodeBidiDirection").isStrong(a)||g(0,3594),this.$1=a,this.reset()}var c=a.prototype;c.reset=function(){this.$2=this.$1};c.getDirection=function(a){this.$2=b("UnicodeBidi").getDirection(a,this.$2);return this.$2};return a}();e.exports=a}),null);
__d("EditorBidiService",["UnicodeBidiService","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap,h;a={getDirectionMap:function(a,c){!h?h=new(b("UnicodeBidiService"))():h.reset();a=a.getBlockMap();var d=a.valueSeq().map(function(a){return b("nullthrows")(h).getDirection(a.getText())});a=g(a.keySeq().zip(d));return c!=null&&b("immutable").is(c,a)?c:a}};e.exports=a}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","SelectionState","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedSet;a=b("immutable").Record;var h=b("immutable").Stack;c={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()};var i=a(c),j=function(){__p&&__p();a.createEmpty=function(c){return a.createWithContent(b("ContentState").createFromText(""),c)};a.createWithContent=function(c,d){if(c.getBlockMap().count()===0)return a.createEmpty(d);var e=c.getBlockMap().first().getKey();return a.create({currentContent:c,undoStack:h(),redoStack:h(),decorator:d||null,selection:b("SelectionState").createEmpty(e)})};a.create=function(c){var d=c.currentContent,e=c.decorator;c=babelHelpers["extends"]({},c,{treeMap:l(d,e),directionMap:b("EditorBidiService").getDirectionMap(d)});return new a(new i(c))};a.set=function(b,c){__p&&__p();var d=b.getImmutable().withMutations(function(a){__p&&__p();var d=a.get("decorator"),e=d;c.decorator===null?e=null:c.decorator&&(e=c.decorator);var f=c.currentContent||b.getCurrentContent();if(e!==d){var g=a.get("treeMap");e&&d?g=n(f,f.getBlockMap(),g,e,d):g=l(f,e);a.merge({decorator:e,treeMap:g,nativelyRenderedContent:null});return}d=b.getCurrentContent();f!==d&&a.set("treeMap",m(b,f.getBlockMap(),f.getEntityMap(),e));a.merge(c)});return new a(d)};var c=a.prototype;c.toJS=function(){return this.getImmutable().toJS()};c.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};c.getCurrentContent=function(){return this.getImmutable().get("currentContent")};c.getUndoStack=function(){return this.getImmutable().get("undoStack")};c.getRedoStack=function(){return this.getImmutable().get("redoStack")};c.getSelection=function(){return this.getImmutable().get("selection")};c.getDecorator=function(){return this.getImmutable().get("decorator")};c.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};c.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};c.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};c.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};c.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};a.setInlineStyleOverride=function(b,c){return a.set(b,{inlineStyleOverride:c})};c.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;a=this.getCurrentContent();var b=this.getSelection();return b.isCollapsed()?p(a,b):q(a,b)};c.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])};c.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)};c.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent();a=a.getBlockMap();a=a.last();var b=a.getLength();return this.getSelection().hasEdgeWithin(a.getKey(),b,b)};c.getDirectionMap=function(){return this.getImmutable().get("directionMap")};a.acceptSelection=function(a,b){return k(a,b,!1)};a.forceSelection=function(a,b){b.getHasFocus()||(b=b.set("hasFocus",!0));return k(a,b,!0)};a.moveSelectionToEnd=function(c){var d=c.getCurrentContent();d=d.getLastBlock();var e=d.getKey();d=d.getLength();return a.acceptSelection(c,new(b("SelectionState"))({anchorKey:e,anchorOffset:d,focusKey:e,focusOffset:d,isBackward:!1}))};a.moveFocusToEnd=function(b){b=a.moveSelectionToEnd(b);return a.forceSelection(b,b.getSelection())};a.push=function(c,d,e,f){__p&&__p();f===void 0&&(f=!0);if(c.getCurrentContent()===d)return c;var g=b("EditorBidiService").getDirectionMap(d,c.getDirectionMap());if(!c.getAllowUndo())return a.set(c,{currentContent:d,directionMap:g,lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:null});var i=c.getSelection(),j=c.getCurrentContent(),k=c.getUndoStack(),l=d;i!==j.getSelectionAfter()||o(c,e)?(k=k.push(j),l=l.set("selectionBefore",i)):(e==="insert-characters"||e==="backspace-character"||e==="delete-character")&&(l=l.set("selectionBefore",j.getSelectionBefore()));i=c.getInlineStyleOverride();j=["adjust-depth","change-block-type","split-block"];j.indexOf(e)===-1&&(i=null);j={currentContent:l,directionMap:g,undoStack:k,redoStack:h(),lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:i};return a.set(c,j)};a.undo=function(c){if(!c.getAllowUndo())return c;var d=c.getUndoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:d.shift(),redoStack:c.getRedoStack().push(f),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:f.getSelectionBefore()})};a.redo=function(c){if(!c.getAllowUndo())return c;var d=c.getRedoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:c.getUndoStack().push(f),redoStack:d.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:e.getSelectionAfter()})};function a(a){this.$1=a}c.getImmutable=function(){return this.$1};return a}();function k(a,b,c){return j.set(a,{selection:b,forceSelection:c,nativelyRenderedContent:null,inlineStyleOverride:null})}function l(a,c){return a.getBlockMap().map(function(d){return b("BlockTree").generate(a,d,c)}).toOrderedMap()}function m(a,c,d,e){var f=a.getCurrentContent().set("entityMap",d),g=f.getBlockMap();d=a.getImmutable().get("treeMap");return d.merge(c.toSeq().filter(function(a,b){return a!==g.get(b)}).map(function(a){return b("BlockTree").generate(f,a,e)}))}function n(a,c,d,e,f){return d.merge(c.toSeq().filter(function(b){return e.getDecorations(b,a)!==f.getDecorations(b,a)}).map(function(c){return b("BlockTree").generate(a,c,e)}))}function o(a,b){a=a.getLastChangeType();return b!==a||b!=="insert-characters"&&b!=="backspace-character"&&b!=="delete-character"}function p(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b>0)return d.getInlineStyleAt(b-1);return d.getLength()?d.getInlineStyleAt(0):r(a,c)}function q(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b<d.getLength())return d.getInlineStyleAt(b);return b>0?d.getInlineStyleAt(b-1):r(a,c)}function r(a,b){a=a.getBlockMap().reverse().skipUntil(function(a,c){return c===b}).skip(1).skipUntil(function(a,b){return a.getLength()}).first();return a?a.getInlineStyleAt(a.getLength()-1):g()}e.exports=j}),null);
__d("DraftJsDebugLogging",["CurrentUser","DraftJsEventsTypedLogger","ScriptPath"],(function(a,b,c,d,e,f){"use strict";e.exports={logBlockedSelectionEvent:function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;new(b("DraftJsEventsTypedLogger"))().setEvent("blocked_selection_event").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()},logSelectionStateFailure:function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;b("CurrentUser").isEmployee()&&new(b("DraftJsEventsTypedLogger"))().setEvent("selection_state_failure").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()}}}),null);
__d("isHTMLElement",[],(function(a,b,c,d,e,f){function a(a){if(!a||!a.ownerDocument)return!1;if(!a.ownerDocument.defaultView)return a instanceof HTMLElement;return a instanceof a.ownerDocument.defaultView.HTMLElement?!0:!1}e.exports=a}),null);
__d("getContentEditableContainer",["invariant","ReactDOM","isHTMLElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=b("ReactDOM").findDOMNode(a.editorContainer);a||g(0,4998);b("isHTMLElement")(a.firstChild)||g(0,4999);a=a.firstChild;return a}e.exports=a}),null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=b("nullthrows")(a.getSelection());c=b("DraftOffsetKey").decode(c);var h=c.blockKey;c=a.getBlockTree(h).getIn([c.decoratorKey,"leaves",c.leafKey]);e=b("DraftOffsetKey").decode(e);var i=e.blockKey;e=a.getBlockTree(i).getIn([e.decoratorKey,"leaves",e.leafKey]);if(!c||!e)return g;var j=c.get("start"),k=e.get("start"),l=c?j+d:null,m=e?k+f:null,n=g.getAnchorKey()===h&&g.getAnchorOffset()===l&&g.getFocusKey()===i&&g.getFocusOffset()===m;if(n)return g;if(h===i){n=c.get("end");c=e.get("end");k===j&&c===n?e=f<d:e=k<j}else{c=a.getCurrentContent().getBlockMap().keySeq().skipUntil(function(a){return a===h||a===i}).first();e=c===i}return g.merge({anchorKey:h,anchorOffset:l,focusKey:i,focusOffset:m,isBackward:e})}e.exports=a}),null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","isElement","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c,d,e,f,g){var h=d.nodeType===Node.TEXT_NODE,i=f.nodeType===Node.TEXT_NODE;if(h&&i)return{selectionState:b("getUpdatedSelectionState")(a,b("nullthrows")(b("findAncestorOffsetKey")(d)),e,b("nullthrows")(b("findAncestorOffsetKey")(f)),g),needsRecovery:!1};var k=null,l=null,m=!0;h?(k={key:b("nullthrows")(b("findAncestorOffsetKey")(d)),offset:e},l=j(c,f,g)):i?(l={key:b("nullthrows")(b("findAncestorOffsetKey")(f)),offset:g},k=j(c,d,e)):(k=j(c,d,e),l=j(c,f,g),d===f&&e===g&&(m=!!d.firstChild&&d.firstChild.nodeName!=="BR"));return{selectionState:b("getUpdatedSelectionState")(a,k.key,k.offset,l.key,l.offset),needsRecovery:m}}function h(a){while(a.firstChild&&(b("isElement")(a.firstChild)&&a.firstChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.firstChild)))a=a.firstChild;return a}function i(a){while(a.lastChild&&(b("isElement")(a.lastChild)&&a.lastChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.lastChild)))a=a.lastChild;return a}function j(a,c,d){__p&&__p();c=c;var e=b("findAncestorOffsetKey")(c);e!=null||a&&(a===c||a.firstChild===c)||g(0,6007);if(a===c){c=c.firstChild;b("isElement")(c)||g(0,12397);a=c;c=a;c.getAttribute("data-contents")==="true"||g(0,6008);d>0&&(d=c.childNodes.length)}if(d===0){if(e!=null)a=e;else{var f=h(c);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(f))}return{key:a,offset:0}}f=c.childNodes[d-1];a=null;if(!b("getSelectionOffsetKeyForNode")(f))a=b("nullthrows")(e),c=k(f);else{d=i(f);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(d));c=k(d)}return{key:a,offset:c}}function k(a){a=a.textContent;return a==="\n"?0:a.length}e.exports=a}),null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.ownerDocument.defaultView.getSelection();return d.rangeCount===0?{selectionState:a.getSelection().set("hasFocus",!1),needsRecovery:!1}:b("getDraftEditorSelectionWithNodes")(a,c,d.anchorNode,d.anchorOffset,d.focusNode,d.focusOffset)}e.exports=a}),null);
__d("editOnSelect",["DraftJsDebugLogging","EditorState","getContentEditableContainer","getDraftEditorSelection"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a._blockSelectEvents||a._latestEditorState!==a.props.editorState){if(a._blockSelectEvents){var c=a.props.editorState;c=c.getSelection();b("DraftJsDebugLogging").logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(c.toJS())})}return}c=a.props.editorState;var d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a)),e=d.selectionState;e!==c.getSelection()&&(d.needsRecovery?c=b("EditorState").forceSelection(c,e):c=b("EditorState").acceptSelection(c,e),a.update(c))}e.exports=a}),null);
__d("getEntityKeyForSelection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();var c;if(b.isCollapsed()){var d=b.getAnchorKey(),e=b.getAnchorOffset();if(e>0){c=a.getBlockForKey(d).getEntityAt(e-1);return c!==a.getBlockForKey(d).getEntityAt(e)?null:g(a.getEntityMap(),c)}return null}d=b.getStartKey();e=b.getStartOffset();b=a.getBlockForKey(d);c=e===b.getLength()?null:b.getEntityAt(e);return g(a.getEntityMap(),c)}function g(a,b){if(b){a=a.__get(b);return a.getMutability()==="MUTABLE"?b:null}return null}e.exports=a}),null);
__d("DraftEditorCompositionHandler",["DOMObserver","DraftModifier","DraftOffsetKey","EditorState","Keys","editOnSelect","getContentEditableContainer","getDraftEditorSelection","getEntityKeyForSelection","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=20,h=!1,i=!1,j=null;function k(a){j||(j=new(b("DOMObserver"))(b("getContentEditableContainer")(a)),j.start())}var l={onCompositionStart:function(a){i=!0,k(a)},onCompositionEnd:function(a){h=!1,i=!1,setTimeout(function(){h||l.resolveComposition(a)},g)},onSelect:b("editOnSelect"),onKeyDown:function(a,c){if(!i){l.resolveComposition(a);a._onKeyDown(c);return}(c.which===b("Keys").RIGHT||c.which===b("Keys").LEFT)&&c.preventDefault()},onKeyPress:function(a,c){c.which===b("Keys").RETURN&&c.preventDefault()},resolveComposition:function(a){__p&&__p();if(i)return;var c=b("nullthrows")(j).stopAndFlushMutations();j=null;h=!0;var d=b("EditorState").set(a._latestEditorState,{inCompositionMode:!1});a.exitCurrentMode();if(!c.size){a.update(d);return}var e=d.getCurrentContent();c.forEach(function(a,c){__p&&__p();c=b("DraftOffsetKey").decode(c);var f=c.blockKey,g=c.decoratorKey;c=c.leafKey;g=d.getBlockTree(f).getIn([g,"leaves",c]);c=g.start;g=g.end;g=d.getSelection().merge({anchorKey:f,focusKey:f,anchorOffset:c,focusOffset:g,isBackward:!1});var h=b("getEntityKeyForSelection")(e,g);f=e.getBlockForKey(f).getInlineStyleAt(c);e=b("DraftModifier").replaceText(e,g,a,f,h);d=b("EditorState").set(d,{currentContent:e})});c=b("getDraftEditorSelection")(d,b("getContentEditableContainer")(a));c=c.selectionState;a.restoreEditorDOM();c=b("EditorState").acceptSelection(d,c);a.update(b("EditorState").push(c,e,"insert-characters"))}};e.exports=l}),null);
__d("DraftEditorTextNode.react",["invariant","React","UserAgent","isElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("UserAgent").isBrowser("IE <= 11");function i(a){return h?a.textContent==="\n":a.tagName==="BR"}var j=function(a){return h?b("React").jsx("span",{"data-text":"true",ref:a,children:"\n"},"A"):b("React").jsx("br",{"data-text":"true",ref:a},"A")},k=function(a){return h?b("React").jsx("span",{"data-text":"true",ref:a,children:"\n"},"B"):b("React").jsx("br",{"data-text":"true",ref:a},"B")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=!1;return b}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.$2,d=a.children==="";b("isElement")(c)||g(0,6158);c=c;return d?!i(c):c.textContent!==a.children};d.componentDidMount=function(){this.$1=!this.$1};d.componentDidUpdate=function(){this.$1=!this.$1};d.render=function(){var a=this;return this.props.children===""?this.$1?j(function(b){return a.$2=b}):k(function(b){return a.$2=b}):b("React").jsx("span",{"data-text":"true",ref:function(b){return a.$2=b},children:this.props.children},this.$1?"A":"B")};return c}(b("React").Component);e.exports=a}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CSSCore")}),null);
__d("DraftEffects",["cx","BanzaiODS","CurrentUser","DraftEffectsPerSite","fbjs/lib/CSSCore","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("CurrentUser").isEmployee()?".employee":"",i=!1;a={initODS:function(){document.addEventListener("input",function(a){a.target.nodeType===1&&b("fbjs/lib/CSSCore").hasClass(a.target,"_5rpu")&&b("BanzaiODS").bumpEntityKey(2966,"draft_js","input_events"+h)})},handleExtensionCausedError:function(){b("BanzaiODS").bumpEntityKey(2966,"draft_js","extension_caused_errors"+h);if(i||!b("gkx")("676843"))return;i=!0;b("DraftEffectsPerSite").handleExtensionCausedError()}};e.exports=a}),null);
__d("setDraftEditorSelection",["invariant","DraftEffects","DraftJsDebugLogging","containsNode","getActiveElement","getCorrectDocumentFromNode","isElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){if(!a)return"[empty]";a=i(a,c);if(a.nodeType===Node.TEXT_NODE)return a.textContent;b("isElement")(a)||g(0,3425);c=a;return c.outerHTML}function i(a,c){__p&&__p();var d=c!==void 0?c(a):[];if(a.nodeType===Node.TEXT_NODE){var e=a.textContent.length;return b("getCorrectDocumentFromNode")(a).createTextNode("[text "+e+(d.length?" | "+d.join(", "):"")+"]")}e=a.cloneNode();e.nodeType===1&&d.length&&e.setAttribute("data-labels",d.join(", "));d=a.childNodes;for(var a=0;a<d.length;a++)e.appendChild(i(d[a],c));return e}function j(a,c){a=a;var d=a;while(a)if(b("isElement")(a)&&d.hasAttribute("contenteditable"))return h(a,c);else a=a.parentNode,d=a;return"Could not find contentEditable parent of node"}function k(a){return a.nodeValue===null?a.childNodes.length:a.nodeValue.length}function a(a,c,d,e,f){__p&&__p();var g=b("getCorrectDocumentFromNode")(c);if(!b("containsNode")(g.documentElement,c))return;g=g.defaultView.getSelection();var h=a.getAnchorKey(),i=a.getAnchorOffset(),j=a.getFocusKey(),k=a.getFocusOffset(),n=a.getIsBackward();if(!g.extend&&n){var o=h,p=i;h=j;i=k;j=o;k=p;n=!1}o=h===d&&e<=i&&f>=i;p=j===d&&e<=k&&f>=k;if(o&&p){g.removeAllRanges();m(g,c,i-e,a);l(g,c,k-e,a);return}if(!n)o&&(g.removeAllRanges(),m(g,c,i-e,a)),p&&l(g,c,k-e,a);else{p&&(g.removeAllRanges(),m(g,c,k-e,a));if(o){h=g.focusNode;j=g.focusOffset;g.removeAllRanges();m(g,c,i-e,a);l(g,h,j,a)}}}function l(a,c,d,e){__p&&__p();var f=b("getActiveElement")();if(a.extend&&b("containsNode")(f,c)){d>k(c)&&b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:j(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())});var g=c===a.focusNode;try{a.extend(c,d)}catch(h){b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:j(c,function(b){var c=[];b===f&&c.push("active element");b===a.anchorNode&&c.push("selection anchor node");b===a.focusNode&&c.push("selection focus node");return c}),extraParams:JSON.stringify({activeElementName:f?f.nodeName:null,nodeIsFocus:c===a.focusNode,nodeWasFocus:g,selectionRangeCount:a.rangeCount,selectionAnchorNodeName:a.anchorNode?a.anchorNode.nodeName:null,selectionAnchorOffset:a.anchorOffset,selectionFocusNodeName:a.focusNode?a.focusNode.nodeName:null,selectionFocusOffset:a.focusOffset,message:h?""+h:null,offset:d},null,2),selectionState:JSON.stringify(e.toJS(),null,2)});throw h}}else{g=a.getRangeAt(0);g.setEnd(c,d);a.addRange(g.cloneRange())}}function m(a,c,d,e){var f=b("getCorrectDocumentFromNode")(c).createRange();d>k(c)&&(b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:j(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())}),b("DraftEffects").handleExtensionCausedError());f.setStart(c,d);a.addRange(f)}e.exports=a}),null);
__d("DraftEditorLeaf.react",["invariant","DraftEditorTextNode.react","React","setDraftEditorSelection"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){__p&&__p();var a=this.props.selection;if(a==null||!a.getHasFocus())return;var c=this.props,d=c.block,e=c.start;c=c.text;d=d.getKey();c=e+c.length;if(!a.hasEdgeWithin(d,e,c))return;var f=this.leaf;f||g(0,5590);var h=f.firstChild;h||g(0,5591);var i;h.nodeType===Node.TEXT_NODE?i=h:h instanceof Element&&h.tagName==="BR"?i=f:(i=h.firstChild,i||g(0,5592));b("setDraftEditorSelection")(a,i,d,e,c)};d.shouldComponentUpdate=function(a){var b=this.leaf;b||g(0,5593);b=b.textContent!==a.text||a.styleSet!==this.props.styleSet||a.forceSelection;return b};d.componentDidUpdate=function(){this.$1()};d.componentDidMount=function(){this.$1()};d.render=function(){__p&&__p();var a=this,c=this.props.block,d=this.props.text;d.endsWith("\n")&&this.props.isLast&&(d+="\n");var e=this.props,f=e.customStyleMap,g=e.customStyleFn,h=e.offsetKey;e=e.styleSet;var i=e.reduce(function(a,b){var c={};b=f[b];b!==void 0&&a.textDecoration!==b.textDecoration&&(c.textDecoration=[a.textDecoration,b.textDecoration].join(" ").trim());return Object.assign(a,b,c)},{});if(g){g=g(e,c);i=Object.assign(i,g)}return b("React").jsx("span",{"data-offset-key":h,ref:function(b){return a.leaf=b},style:i,children:b("React").jsx(b("DraftEditorTextNode.react"),{children:d})})};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorBlock.react",["cx","invariant","DraftEditorLeaf.react","DraftOffsetKey","React","Scroll","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=10,j=function(a,b){return a.getAnchorKey()===b||a.getFocusKey()===b};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.block!==a.block||this.props.tree!==a.tree||this.props.direction!==a.direction||j(a.selection,a.block.getKey())&&a.forceSelection};d.componentDidMount=function(){__p&&__p();var a=this.props.selection,c=a.getEndKey();if(!a.getHasFocus()||c!==this.props.block.getKey())return;a=this.$1;if(a==null)return;c=b("Style").getScrollParent(a);var d=b("getScrollPosition")(c);if(c===window){var e=b("getElementPosition")(a);e=e.y+e.height;var f=b("getViewportDimensions")().height;e=e-f;e>0&&window.scrollTo(d.x,d.y+e+i)}else{b("isHTMLElement")(a)||h(0,4852);f=a.offsetHeight+a.offsetTop;a=c.offsetTop+c.offsetHeight;a=a+d.y;e=f-a;e>0&&b("Scroll").setTop(c,b("Scroll").getTop(c)+e+i)}};d.$2=function(){__p&&__p();var a=this,c=this.props.block,d=c.getKey(),e=c.getText(),f=this.props.tree.size-1,g=j(this.props.selection,d);return this.props.tree.map(function(h,i){__p&&__p();var j=h.get("leaves");if(j.size===0)return null;var k=j.size-1,l=j.map(function(j,l){var m=b("DraftOffsetKey").encode(d,i,l),h=j.get("start");j=j.get("end");return b("React").jsx(b("DraftEditorLeaf.react"),{offsetKey:m,block:c,start:h,selection:g?a.props.selection:null,forceSelection:a.props.forceSelection,text:e.slice(h,j),styleSet:c.getInlineStyleAt(h),customStyleMap:a.props.customStyleMap,customStyleFn:a.props.customStyleFn,isLast:i===f&&l===k},m)}).toArray(),m=h.get("decoratorKey");if(m==null)return l;if(!a.props.decorator)return l;var n=b("nullthrows")(a.props.decorator),o=n.getComponentForKey(m);if(!o)return l;n=n.getPropsForKey(m);m=b("DraftOffsetKey").encode(d,i,0);var p=j.first().get("start");j=j.last().get("end");var q=e.slice(p,j);h=c.getEntityAt(h.get("start"));var r=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(q),a.props.direction);q={contentState:a.props.contentState,decoratedText:q,dir:r,key:m,start:p,end:j,blockKey:d,entityKey:h,offsetKey:m};return b("React").jsx(o,babelHelpers["extends"]({},n,q,{children:l}))}).toArray()};d.render=function(){var a=this,c=this.props,d=c.direction;c=c.offsetKey;d="_1mf"+(d==="LTR"?" _1mj":"")+(d==="RTL"?" _1mk":"");return b("React").jsx("div",{"data-offset-key":c,className:d,ref:function(b){return a.$1=b},children:this.$2()})};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorContents-core.react",["cx","DraftEditorBlock.react","DraftOffsetKey","React","joinClasses","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a,b,c,d){return(a==="unordered-list-item"?"_3kpz":"")+(a==="ordered-list-item"?" _3kp_":"")+(c?" _3kq0":"")+(b===0?" _3kq1":"")+(b===1?" _3kq2":"")+(b===2?" _3kq3":"")+(b===3?" _3kq4":"")+(b>=4?" _3kq5":"")+(d==="LTR"?" _3kq6":"")+(d==="RTL"?" _3kq7":"")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){__p&&__p();var b=this.props.editorState;a=a.editorState;var c=b.getDirectionMap(),d=a.getDirectionMap();if(c!==d)return!0;c=b.getSelection().getHasFocus();d=a.getSelection().getHasFocus();if(c!==d)return!0;c=a.getNativelyRenderedContent();d=b.isInCompositionMode();var e=a.isInCompositionMode();if(b===a||c!==null&&a.getCurrentContent()===c||d&&e)return!1;c=b.getCurrentContent();var f=a.getCurrentContent();b=b.getDecorator();var g=a.getDecorator();return d!==e||c!==f||b!==g||a.mustForceSelection()};d.render=function(){__p&&__p();var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleMap,g=a.customStyleFn,i=a.editorState,j=a.editorKey;a=a.textDirectionality;var k=i.getCurrentContent(),l=i.getSelection(),m=i.mustForceSelection(),n=i.getDecorator(),o=b("nullthrows")(i.getDirectionMap()),p=k.getBlocksAsArray(),q=[],r=null,s=null;for(var t=0;t<p.length;t++){var u=p[t],v=u.getKey(),w=u.getType(),x=d(u),y=void 0,z=void 0,A=void 0;x&&(y=x.component,z=x.props,A=x.editable);x=a?a:o.get(v);var B=b("DraftOffsetKey").encode(v,0,0);z={contentState:k,block:u,blockProps:z,blockStyleFn:e,customStyleMap:f,customStyleFn:g,decorator:n,direction:x,forceSelection:m,offsetKey:B,selection:l,tree:i.getBlockTree(v)};var C=c.get(w)||c.get("unstyled"),D=C.wrapper;C=C.element||c.get("unstyled").element;var E=u.getDepth(),F="";e&&(F=e(u));if(C==="li"){var G=s!==D||r===null||E>r;F=b("joinClasses")(F,h(w,E,G,x))}w=y||b("DraftEditorBlock.react");E={className:F,"data-block":!0,"data-editor":j,"data-offset-key":B,key:v};A!==void 0&&(E=babelHelpers["extends"]({},E,{contentEditable:A,suppressContentEditableWarning:!0}));G=b("React").createElement(C,E,b("React").createElement(w,babelHelpers["extends"]({},z,{key:v})));q.push({block:G,wrapperTemplate:D,key:v,offsetKey:B});D?r=u.getDepth():r=null;s=D}x=[];for(var y=0;y<q.length;){F=q[y];if(F.wrapperTemplate){A=[];do A.push(q[y].block),y++;while(y<q.length&&q[y].wrapperTemplate===F.wrapperTemplate);C=b("React").cloneElement(F.wrapperTemplate,{key:F.key+"-wrap","data-offset-key":F.offsetKey},A);x.push(C)}else x.push(F.block),y++}return b("React").jsx("div",{"data-contents":"true",children:x})};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorDecoratedLeaves.react",["DraftOffsetKey","React","UnicodeBidi","UnicodeBidiDirection"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.block,d=a.children,e=a.contentState,f=a.decorator,g=a.decoratorKey,h=a.direction,i=a.leafSet;a=a.text;var j=c.getKey(),k=i.get("leaves"),l=f.getComponentForKey(g);f=f.getPropsForKey(g);j=b("DraftOffsetKey").encode(j,parseInt(g,10),0);g=a.slice(k.first().get("start"),k.last().get("end"));a=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(g),h);return b("React").createElement(l,babelHelpers["extends"]({},f,{contentState:e,decoratedText:g,dir:a,key:j,entityKey:c.getEntityAt(i.get("start")),offsetKey:j}),d)};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorNode.react",["cx","DraftEditorDecoratedLeaves.react","DraftEditorLeaf.react","DraftOffsetKey","immutable","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.block,d=a.contentState,e=a.customStyleFn,f=a.customStyleMap,g=a.decorator,h=a.direction,i=a.forceSelection,j=a.hasSelection,k=a.selection;a=a.tree;var l=c.getKey(),m=c.getText(),n=a.size-1;a=this.props.children||a.map(function(a,o){var p=a.get("decoratorKey"),q=a.get("leaves"),r=q.size-1;q=q.map(function(a,d){var g=b("DraftOffsetKey").encode(l,o,d),h=a.get("start");a=a.get("end");return b("React").jsx(b("DraftEditorLeaf.react"),{offsetKey:g,block:c,start:h,selection:j?k:null,forceSelection:i,text:m.slice(h,a),styleSet:c.getInlineStyleAt(h),customStyleMap:f,customStyleFn:e,isLast:p===n&&d===r},g)}).toArray();return!p||!g?q:b("React").jsx(b("DraftEditorDecoratedLeaves.react"),{block:c,children:q,contentState:d,decorator:g,decoratorKey:p,direction:h,leafSet:a,text:m},o)}).toArray();return b("React").jsx("div",{"data-offset-key":b("DraftOffsetKey").encode(l,0,0),className:"_1mf"+(h==="LTR"?" _1mj":"")+(h==="RTL"?" _1mk":""),children:a})};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorBlockNode.react",["invariant","DraftEditorNode.react","DraftOffsetKey","React","ReactDOM","Scroll","Style","getElementPosition","getScrollPosition","getViewportDimensions","immutable","isHTMLElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10;b("immutable").List;var i=function(a,b){return a.getAnchorKey()===b||a.getFocusKey()===b},j=function(a,b){var c=a.getNextSiblingKey();return c?b.getBlockForKey(c).getType()===a.getType():!1},k=function(a,c,d){__p&&__p();var e=[];for(var f=d.reverse(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;if(i.type!==c)break;e.push(i)}d.splice(d.indexOf(e[0]),e.length+1);i=e.reverse();c=i[0].key;d.push(b("React").cloneElement(a,{key:c+"-wrap","data-offset-key":b("DraftOffsetKey").encode(c,0,0)},i));return d},l=function(a,b){a=b.get(a.getType())||b.get("unstyled");var c=a.wrapper;a=a.element||b.get("unstyled").element;return{Element:a,wrapperTemplate:c}},m=function(a,b){b=b(a);if(!b)return{};a=b.component;var c=b.props;b=b.editable;return{CustomComponent:a,customProps:c,customEditable:b}},n=function(a,b,c,d,e){b={"data-block":!0,"data-editor":b,"data-offset-key":c,key:a.getKey()};c=d(a);c&&(b.className=c);e.customEditable!==void 0&&(b=babelHelpers["extends"]({},b,{contentEditable:e.customEditable,suppressContentEditableWarning:!0}));return b};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props,c=b.block,d=b.direction;b=b.tree;var e=!c.getChildKeys().isEmpty();c=c!==a.block||b!==a.tree||d!==a.direction||i(a.selection,a.block.getKey())&&a.forceSelection;return e||c};d.componentDidMount=function(){__p&&__p();var a=this.props.selection,c=a.getEndKey();if(!a.getHasFocus()||c!==this.props.block.getKey())return;a=b("ReactDOM").findDOMNode(this);c=b("Style").getScrollParent(a);var d=b("getScrollPosition")(c);if(c===window){var e=b("getElementPosition")(a);e=e.y+e.height;var f=b("getViewportDimensions")().height;e=e-f;e>0&&window.scrollTo(d.x,d.y+e+h)}else{b("isHTMLElement")(a)||g(0,4852);f=a;a=f.offsetHeight+f.offsetTop;f=c.offsetHeight+d.y;e=a-f;e>0&&b("Scroll").setTop(c,b("Scroll").getTop(c)+e+h)}};d.render=function(){__p&&__p();var a=this,d=this.props,e=d.block,f=d.blockRenderMap,g=d.blockRendererFn,h=d.blockStyleFn,o=d.contentState,p=d.decorator,q=d.editorKey,r=d.editorState,s=d.customStyleFn,t=d.customStyleMap,u=d.direction,v=d.forceSelection,w=d.selection;d=d.tree;var x=null;e.children.size&&(x=e.children.reduce(function(p,s){var d=b("DraftOffsetKey").encode(s,0,0),t=o.getBlockForKey(s),e=m(t,g),i=e.CustomComponent||c,u=l(t,f),v=u.Element;u=u.wrapperTemplate;var w=n(t,q,d,h,e);s=babelHelpers["extends"]({},a.props,{tree:r.getBlockTree(s),blockProps:e.customProps,offsetKey:d,block:t});p.push(b("React").createElement(v,w,b("React").jsx(i,babelHelpers["extends"]({},s))));if(!u||j(t,o))return p;k(u,v,p);return p},[]));var y=e.getKey(),z=b("DraftOffsetKey").encode(y,0,0),A=m(e,g),B=A.CustomComponent;B=B!=null?b("React").jsx(B,babelHelpers["extends"]({},this.props,{tree:r.getBlockTree(y),blockProps:A.customProps,offsetKey:z,block:e})):b("React").jsx(b("DraftEditorNode.react"),{block:e,children:x,contentState:o,customStyleFn:s,customStyleMap:t,decorator:p,direction:u,forceSelection:v,hasSelection:i(w,y),selection:w,tree:d});if(e.getParentKey())return B;x=l(e,f);s=x.Element;t=n(e,q,z,h,A);return b("React").createElement(s,t,B)};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorContentsExperimental.react",["DraftEditorBlockNode.react","DraftOffsetKey","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){__p&&__p();var b=this.props.editorState;a=a.editorState;var c=b.getDirectionMap(),d=a.getDirectionMap();if(c!==d)return!0;c=b.getSelection().getHasFocus();d=a.getSelection().getHasFocus();if(c!==d)return!0;c=a.getNativelyRenderedContent();d=b.isInCompositionMode();var e=a.isInCompositionMode();if(b===a||c!==null&&a.getCurrentContent()===c||d&&e)return!1;c=b.getCurrentContent();var f=a.getCurrentContent();b=b.getDecorator();var g=a.getDecorator();return d!==e||c!==f||b!==g||a.mustForceSelection()};d.render=function(){__p&&__p();var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleMap,g=a.customStyleFn,h=a.editorState,i=a.editorKey;a=a.textDirectionality;var j=h.getCurrentContent(),k=h.getSelection(),l=h.mustForceSelection(),m=h.getDecorator(),n=b("nullthrows")(h.getDirectionMap()),o=j.getBlocksAsArray();o=o[0];var p=[];o=o;while(o){var q=o.getKey(),r={blockRenderMap:c,blockRendererFn:d,blockStyleFn:e,contentState:j,customStyleFn:g,customStyleMap:f,decorator:m,editorKey:i,editorState:h,forceSelection:l,selection:k,block:o,direction:a?a:n.get(q),tree:h.getBlockTree(q)},s=c.get(o.getType())||c.get("unstyled");s=s.wrapper;p.push({block:b("React").jsx(b("DraftEditorBlockNode.react"),babelHelpers["extends"]({},r),q),wrapperTemplate:s,key:q,offsetKey:b("DraftOffsetKey").encode(q,0,0)});r=o.getNextSiblingKey();o=r?j.getBlockForKey(r):null}s=[];for(var q=0;q<p.length;){r=p[q];if(r.wrapperTemplate){c=[];do c.push(p[q].block),q++;while(q<p.length&&p[q].wrapperTemplate===r.wrapperTemplate);d=b("React").cloneElement(r.wrapperTemplate,{key:r.key+"-wrap","data-offset-key":r.offsetKey},c);s.push(d)}else s.push(r.block),q++}return b("React").jsx("div",{"data-contents":"true",children:s})};return c}(b("React").Component);e.exports=a}),null);
__d("DraftEditorContents.react",["gkx","DraftEditorContentsExperimental.react","DraftEditorContents-core.react"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("676842");e.exports=a?b("DraftEditorContentsExperimental.react"):b("DraftEditorContents-core.react")}),null);
__d("PhotosMimeType",[],(function(a,b,c,d,e,f){var g={isImage:function(a){return h(a)[0]==="image"},isJpeg:function(a){var b=h(a);return g.isImage(a)&&(b[1]==="jpeg"||b[1]==="pjpeg")}};function h(a){return a.split("/")}e.exports=g}),null);
__d("DataTransfer",["Promise","PhotosMimeType","createArrayFromMixed","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=new RegExp("\r\n","g"),h="\n",i={"text/rtf":1,"text/html":1};function j(a){if(a.kind=="file")return a.getAsFile()}function k(a){return new(b("Promise"))(function(b){a.file(function(a){b([a])})})}function l(a){return typeof a.webkitGetAsEntry==="function"?a.webkitGetAsEntry():null}function m(a,c){__p&&__p();return new(b("Promise"))(function(d){b("promiseDone")(b("Promise").all(a.map(function(a){var b=l(a);if(b&&b.createReader!=null){c();return n(b)}else{return(b=j(a))!=null?b:[]}})),function(a){d(a.flatMap(b("emptyFunction").thatReturnsArgument))})})}function n(a){__p&&__p();return new(b("Promise"))(function(c){var d=a.createReader(),e=[],f=function(){b("promiseDone")(b("Promise").all(e.map(function(a){if(a.isDirectory)return n(a);else return k(a)})),function(a){c(a.flatMap(b("emptyFunction").thatReturnsArgument))})},g=function a(){d.readEntries(function(b){b.length?(e=e.concat(b),a()):f()},f)};g()})}a=function(){"use strict";__p&&__p();function a(a){this.data=a,this.types=a.types?b("createArrayFromMixed")(a.types):[]}var c=a.prototype;c.isRichText=function(){if(this.getHTML()&&this.getText())return!0;return this.isImage()?!1:this.types.some(function(a){return i[a]})};c.getText=function(){var a;!this.types.length?a=this.data.getData("Text"):this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain"));return a?a.replace(g,h):null};c.getHTML=function(){if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};c.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")!=-1})};c.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split("\n");return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};c.isImage=function(){__p&&__p();var a=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(a)return!0;a=this.getFiles();for(var c=0;c<a.length;c++){var d=a[c].type;if(!b("PhotosMimeType").isImage(d))return!1}return!0};c.getCount=function(){if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};c.getFiles=function(){if(this.data.items)return Array.prototype.slice.call(this.data.items).map(j).filter(b("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};c.getRecursiveFiles=function(a){if(this.data.items)return m(Array.prototype.slice.call(this.data.items),a);else if(this.data.files)return new(b("Promise"))(Array.prototype.slice.call(this.data.files))};c.hasFiles=function(){return this.getFiles().length>0};return a}();e.exports=a}),null);
__d("getTextContentFromFiles",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0},j=5e3;function b(a,b){var c=0,d=[];a.forEach(function(e){k(e,function(e){c++,e&&d.push(e.slice(0,j)),c==a.length&&b(d.join("\r"))})})}function k(b,c){__p&&__p();if(!a.FileReader||b.type&&!(b.type in i)){c("");return}if(b.type===""){var d="";h.test(b.name)&&(d=b.name.replace(h,""));c(d);return}var e=new FileReader();e.onload=function(){var a=e.result;typeof a==="string"||g(0,1637);c(a)};e.onerror=function(){c("")};e.readAsText(b)}e.exports=b}),null);
__d("isEventHandled",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="handled"||a===!0}e.exports=a}),null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","ReactDOM","findAncestorOffsetKey","getCorrectDocumentFromNode","getTextContentFromFiles","getUpdatedSelectionState","getWindowForNode","isEventHandled","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();var d=null,e=null,f=b("getCorrectDocumentFromNode")(a.currentTarget);if(typeof f.caretRangeFromPoint==="function"){f=f.caretRangeFromPoint(a.x,a.y);d=f.startContainer;e=f.startOffset}else if(a.rangeParent)d=a.rangeParent,e=a.rangeOffset;else return null;d=b("nullthrows")(d);e=b("nullthrows")(e);f=b("nullthrows")(b("findAncestorOffsetKey")(d));return b("getUpdatedSelectionState")(c,f,e,f,e)}a={onDragEnd:function(a){a.exitCurrentMode(),h(a)},onDrop:function(a,c){__p&&__p();var d=new(b("DataTransfer"))(c.nativeEvent.dataTransfer),e=a._latestEditorState,f=g(c.nativeEvent,e);c.preventDefault();a._dragCount=0;a.exitCurrentMode();if(f==null)return;c=d.getFiles();if(c.length>0){if(a.props.handleDroppedFiles&&b("isEventHandled")(a.props.handleDroppedFiles(f,c)))return;b("getTextContentFromFiles")(c,function(b){b&&a.update(j(e,f,b))});return}c=a._internalDrag?"internal":"external";a.props.handleDrop&&b("isEventHandled")(a.props.handleDrop(f,d,c))||(a._internalDrag?a.update(i(e,f)):a.update(j(e,f,d.getText())));h(a)}};function h(a){a._internalDrag=!1;a=b("ReactDOM").findDOMNode(a);if(a){var c=new MouseEvent("mouseup",{view:b("getWindowForNode")(a),bubbles:!0,cancelable:!0});a.dispatchEvent(c)}}function i(a,c){c=b("DraftModifier").moveText(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c,"insert-fragment")}function j(a,c,d){c=b("DraftModifier").insertText(a.getCurrentContent(),c,d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-fragment")}e.exports=a}),null);
__d("isSelectionAtLeafStart",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=a.getSelection(),c=b.getAnchorKey();a=a.getBlockTree(c);var d=b.getStartOffset();c=!1;a.some(function(a){__p&&__p();if(d===a.get("start")){c=!0;return!0}return d<a.get("end")?a.get("leaves").some(function(a){a=a.get("start");if(d===a){c=!0;return!0}return!1}):!1});return c}e.exports=a}),null);
__d("editOnBeforeInput",["DraftModifier","EditorState","UserAgent","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","nullthrows","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="'",h="/",i=b("UserAgent").isBrowser("Firefox");function j(a){return i&&(a==g||a==h)}function k(a,c,d,e,f){c=b("DraftModifier").replaceText(a.getCurrentContent(),a.getSelection(),c,d,e);return b("EditorState").push(a,c,"insert-characters",f)}function c(c,d){__p&&__p();c._pendingStateFromBeforeInput!==void 0&&(c.update(c._pendingStateFromBeforeInput),c._pendingStateFromBeforeInput=void 0);var e=c._latestEditorState,f=d.data;if(!f)return;if(c.props.handleBeforeInput&&b("isEventHandled")(c.props.handleBeforeInput(f,e,d.timeStamp))){d.preventDefault();return}var g=e.getSelection(),h=g.getStartOffset(),i=g.getAnchorKey();if(!g.isCollapsed()){d.preventDefault();c.update(k(e,f,e.getCurrentInlineStyle(),b("getEntityKeyForSelection")(e.getCurrentContent(),e.getSelection()),!0));return}g=k(e,f,e.getCurrentInlineStyle(),b("getEntityKeyForSelection")(e.getCurrentContent(),e.getSelection()),!1);var l=!1;l||(l=b("isSelectionAtLeafStart")(c._latestCommittedEditorState));if(!l){var m=(d.currentTarget?d.currentTarget.ownerDocument.defaultView:a).getSelection();if(m.anchorNode&&m.anchorNode.nodeType===Node.TEXT_NODE){m=m.anchorNode.parentNode;l=m.nodeName==="SPAN"&&m.firstChild.nodeType===Node.TEXT_NODE&&m.firstChild.nodeValue.indexOf("\t")!==-1}}if(!l){m=e.getBlockTree(i);var n=g.getBlockTree(i);l=m.size!==n.size||m.zip(n).some(function(a){var b=a[0];a=a[1];var c=b.get("start"),d=c+(c>=h?f.length:0),e=b.get("end"),g=e+(e>=h?f.length:0),i=a.get("start"),j=a.get("end"),k=a.get("decoratorKey");return b.get("decoratorKey")!==k||b.get("leaves").size!==a.get("leaves").size||d!==i||g!==j||k!=null&&j-i!==e-c})}l||(l=j(f));l||(l=b("nullthrows")(g.getDirectionMap()).get(i)!==b("nullthrows")(e.getDirectionMap()).get(i));if(l){d.preventDefault();g=b("EditorState").set(g,{forceSelection:!0});c.update(g);return}g=b("EditorState").set(g,{nativelyRenderedContent:g.getCurrentContent()});c._pendingStateFromBeforeInput=g;b("setImmediate")(function(){c._pendingStateFromBeforeInput!==void 0&&(c.update(c._pendingStateFromBeforeInput),c._pendingStateFromBeforeInput=void 0)})}e.exports=c}),null);
__d("editOnBlur",["EditorState","containsNode","getActiveElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=c.currentTarget.ownerDocument;if(!Boolean(a.props.preserveSelectionOnBlur)&&b("getActiveElement")(d)===d.body){d=d.defaultView.getSelection();var e=a.editor;d.rangeCount===1&&b("containsNode")(e,d.anchorNode)&&b("containsNode")(e,d.focusNode)&&d.removeAllRanges()}e=a._latestEditorState;d=e.getSelection();if(!d.getHasFocus())return;d=d.set("hasFocus",!1);a.props.onBlur&&a.props.onBlur(c);a.update(b("EditorState").acceptSelection(e,d))}e.exports=a}),null);
__d("editOnCompositionStart",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a.setMode("composite"),a.update(b("EditorState").set(a._latestEditorState,{inCompositionMode:!0})),a._onCompositionStart(c)}e.exports=a}),null);
__d("getFragmentFromSelection",["getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();return c.isCollapsed()?null:b("getContentStateFragment")(a.getCurrentContent(),c)}e.exports=a}),null);
__d("editOnCopy",["getFragmentFromSelection"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=a._latestEditorState;d=d.getSelection();if(d.isCollapsed()){c.preventDefault();return}a.setClipboard(b("getFragmentFromSelection")(a._latestEditorState))}e.exports=a}),null);
__d("isInstanceOfNode",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();if(!a||!("ownerDocument"in a))return!1;if("ownerDocument"in a){a=a;if(!a.ownerDocument.defaultView)return a instanceof Node;if(a instanceof a.ownerDocument.defaultView.Node)return!0}return!1}e.exports=a}),null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition","isInstanceOfNode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=a._latestEditorState,e=d.getSelection(),f=c.target,h;if(e.isCollapsed()){c.preventDefault();return}if(b("isInstanceOfNode")(f)){e=f;h=b("getScrollPosition")(b("Style").getScrollParent(e))}c=b("getFragmentFromSelection")(d);a.setClipboard(c);a.setMode("cut");setTimeout(function(){a.restoreEditorDOM(h),a.exitCurrentMode(),a.update(g(d))},0)}function g(a){var c=b("DraftModifier").removeRange(a.getCurrentContent(),a.getSelection(),"forward");return b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("editOnDragOver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.setMode("drag"),b.preventDefault()}e.exports=a}),null);
__d("editOnDragStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){a._internalDrag=!0,a.setMode("drag")}e.exports=a}),null);
__d("editOnFocus",["EditorState","UserAgent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection();if(e.getHasFocus())return;e=e.set("hasFocus",!0);a.props.onFocus&&a.props.onFocus(c);b("UserAgent").isBrowser("Chrome < 60.0.3081.0")?a.update(b("EditorState").forceSelection(d,e)):a.update(b("EditorState").acceptSelection(d,e))}e.exports=a}),null);
__d("draftKeyUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&a!=""}e.exports={notEmptyKey:a}}),null);
__d("moveSelectionBackward",["warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");a=a.getCurrentContent();var e=d.getStartKey(),f=d.getStartOffset(),g=e,h=0;if(c>f){var i=a.getKeyBefore(e);if(i==null)g=e;else{g=i;e=a.getBlockForKey(i);h=e.getText().length}}else h=f-c;return d.merge({focusKey:g,focusOffset:h,isBackward:!0})}e.exports=a}),null);
__d("removeTextWithStrategy",["DraftModifier","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("676842");function a(a,c,d){__p&&__p();var e=a.getSelection(),f=a.getCurrentContent(),h=e,i=e.getAnchorKey(),j=e.getFocusKey(),k=f.getBlockForKey(i);if(g&&(d==="forward"&&i!==j))return f;if(e.isCollapsed()){if(d==="forward"){if(a.isSelectionAtEndOfContent())return f;if(g){j=e.getAnchorOffset()===f.getBlockForKey(i).getLength();if(j){i=f.getBlockForKey(k.nextSibling);if(!i||i.getLength()===0)return f}}}else if(a.isSelectionAtStartOfContent())return f;h=c(a);if(h===e)return f}return b("DraftModifier").removeRange(f,h,d)}e.exports=a}),null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a-1];return b("moveSelectionBackward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"backward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"backspace-character":"remove-range")}e.exports=a}),null);
__d("editOnInput",["DraftModifier","DraftOffsetKey","EditorState","UserAgent","draftKeyUtils","findAncestorOffsetKey","keyCommandPlainBackspace","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("draftKeyUtils").notEmptyKey,h=b("UserAgent").isEngine("Gecko"),i="\n\n";function j(a,c){switch(a){case"deleteContentBackward":return b("keyCommandPlainBackspace")(c)}return c}function a(a,c){__p&&__p();a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0);var d=a.editor;d=d.ownerDocument.defaultView.getSelection();var e=d.anchorNode,f=d.isCollapsed,k=e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.ELEMENT_NODE;if(k)return;if(e.nodeType===Node.TEXT_NODE&&(e.previousSibling!==null||e.nextSibling!==null)){k=e.parentNode;e.nodeValue=k.textContent;for(var l=k.firstChild;l!==null;l=l.nextSibling)l!==e&&k.removeChild(l)}l=e.textContent;k=a._latestEditorState;e=b("nullthrows")(b("findAncestorOffsetKey")(e));e=b("DraftOffsetKey").decode(e);var m=e.blockKey,n=e.decoratorKey;e=e.leafKey;n=k.getBlockTree(m).getIn([n,"leaves",e]);e=n.start;n=n.end;var o=k.getCurrentContent();m=o.getBlockForKey(m);var p=m.getText().slice(e,n);l.endsWith(i)&&(l=l.slice(0,-1));if(l===p){c=c.nativeEvent.inputType;if(c){c=j(c,k);if(c!==k){a.restoreEditorDOM();a.update(c);return}}return}c=k.getSelection();n=c.merge({anchorOffset:e,focusOffset:n,isBackward:!1});var q=m.getEntityAt(e);q=g(q)?o.getEntity(q):null;q=q!=null?q.getMutability():null;q=q==="MUTABLE";var r=q?"spellcheck-change":"apply-entity";n=b("DraftModifier").replaceText(o,n,l,m.getInlineStyleAt(e),q?m.getEntityAt(e):null);if(h)q=d.anchorOffset,m=d.focusOffset,d=e+Math.min(q,m),e=d+Math.abs(q-m),q=d,m=e;else{l=l.length-p.length;d=c.getStartOffset();e=c.getEndOffset();q=f?e+l:d;m=e+l}p=n.merge({selectionBefore:o.getSelectionAfter(),selectionAfter:c.merge({anchorOffset:q,focusOffset:m})});a.update(b("EditorState").push(k,p,r))}e.exports=a}),null);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a={cut:function(a){__p&&__p();var c=a.getCurrentContent(),d=a.getSelection(),e=null;if(d.isCollapsed()){var f=d.getAnchorKey(),h=c.getBlockForKey(f).getLength();if(h===d.getAnchorOffset()){f=c.getKeyAfter(f);if(f==null)return a;e=d.set("focusKey",f).set("focusOffset",0)}else e=d.set("focusOffset",h)}else e=d;e=b("nullthrows")(e);g=b("getContentStateFragment")(c,e);f=b("DraftModifier").removeRange(c,e,"forward");return f===c?a:b("EditorState").push(a,f,"remove-range")},paste:function(a){if(!g)return a;var c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),g);return b("EditorState").push(a,c,"insert-fragment")}};e.exports=a}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("UserAgent").isBrowser("Chrome");function a(a){__p&&__p();var b=a.cloneRange(),c=[];for(var d=a.endContainer;d!=null;d=d.parentNode){var e=d===a.commonAncestorContainer;e?b.setStart(a.startContainer,a.startOffset):b.setStart(b.endContainer,0);var f=Array.from(b.getClientRects());c.push(f);if(e){c.reverse();return(f=[]).concat.apply(f,c)}b.setEndBefore(d)}g(0,578)}d=c?a:function(a){return Array.from(a.getClientRects())};e.exports=d}),null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getCorrectDocumentFromNode","getRangeClientRects"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){__p&&__p();var c=getComputedStyle(a);a=b("getCorrectDocumentFromNode")(a);var d=a.createElement("div");d.style.fontFamily=c.fontFamily;d.style.fontSize=c.fontSize;d.style.fontStyle=c.fontStyle;d.style.fontWeight=c.fontWeight;d.style.lineHeight=c.lineHeight;d.style.position="absolute";d.textContent="M";c=a.body;c||g(0,5725);c.appendChild(d);a=d.getBoundingClientRect();c.removeChild(d);return a.height}function j(a,b){__p&&__p();var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity;for(var g=0;g<a.length;g++){var h=a[g];if(h.width===0||h.width===1)continue;c=Math.min(c,h.top);d=Math.min(d,h.bottom);e=Math.max(e,h.top);f=Math.max(f,h.bottom)}return e<=d&&e-c<b&&f-d<b}function k(a){switch(a.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return a.length;default:return a.childNodes.length}}function a(a){__p&&__p();a.collapsed||g(0,5726);a=a.cloneRange();var c=a.startContainer;c.nodeType!==1&&(c=c.parentNode);c=i(c);var d=a.endContainer,e=a.endOffset;a.setStart(a.startContainer,0);while(j(b("getRangeClientRects")(a),c)){d=a.startContainer;e=a.startOffset;d.parentNode||g(0,5727);a.setStartBefore(d);if(d.nodeType===1&&getComputedStyle(d).display!=="inline")break}var f=d,l=e-1;do{var m=f.nodeValue,n=l;for(;n>=0;n--){if(m!=null&&n>0&&(h||(h=b("UnicodeUtils"))).isSurrogatePair(m,n-1))continue;a.setStart(f,n);if(j(b("getRangeClientRects")(a),c))d=f,e=n;else break}if(n===-1||f.childNodes.length===0)break;f=f.childNodes[n];l=k(f)}while(!0);a.setStart(d,e);return a}e.exports=a}),null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=b("removeTextWithStrategy")(a,function(a){var d=a.getSelection();if(d.isCollapsed()&&d.getAnchorOffset()===0)return b("moveSelectionBackward")(a,1);d=c.currentTarget.ownerDocument;d=d.defaultView.getSelection();d=d.getRangeAt(0);d=b("expandRangeToStartOfLine")(d);return b("getDraftEditorSelectionWithNodes")(a,null,d.endContainer,d.endOffset,d.startContainer,d.startOffset).selectionState},"backward");return d===a.getCurrentContent()?a:b("EditorState").push(a,d,"remove-range")}e.exports=a}),null);
__d("DraftRemovableWord",["TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("TokenizeUtil").getPunctuation();c="['\u2018\u2019]";d="\\s|(?![_])"+a;f="^(?:"+d+")*(?:"+c+"|(?!"+d+").)*(?:(?!"+d+").)";var g=new RegExp(f);b="(?:(?!"+d+").)(?:"+c+"|(?!"+d+").)*(?:"+d+")*$";var h=new RegExp(b);function i(a,b){b=b?h.exec(a):g.exec(a);return b?b[0]:a}a={getBackward:function(a){return i(a,!0)},getForward:function(a){return i(a,!1)}};e.exports=a}),null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return b("moveSelectionBackward")(a,1);c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(0,d);c=b("DraftRemovableWord").getBackward(e);return b("moveSelectionBackward")(a,c.length||1)},"backward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("moveSelectionForward",["warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var e=d.getStartKey(),f=d.getStartOffset();a=a.getCurrentContent();var g=e,h=a.getBlockForKey(e);c>h.getText().length-f?(g=a.getKeyAfter(e),h=0):h=f+c;return d.merge({focusKey:g,focusOffset:h})}e.exports=a}),null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(d);c=b("DraftRemovableWord").getForward(e);return b("moveSelectionForward")(a,c.length||1)},"forward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("DraftModifier").splitBlock(a.getCurrentContent(),a.getSelection());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getEndKey(),e=a.getCurrentContent();e=e.getBlockForKey(d).getLength();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:e,focusKey:d,focusOffset:e,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getStartKey();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a];return b("moveSelectionForward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"forward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.set("selectionBefore",d),d.isCollapsed()?"delete-character":"remove-range")}e.exports=a}),null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorOffset();if(d===0)return a;var e=c.getAnchorKey(),f=a.getCurrentContent();e=f.getBlockForKey(e);e=e.getLength();if(e<=1)return a;var g;d===e?(e=c.set("anchorOffset",d-1),g=c):(e=c.set("focusOffset",d+1),g=e.set("anchorOffset",d+1));c=b("getContentStateFragment")(f,e);d=b("DraftModifier").removeRange(f,e,"backward");f=d.getSelectionAfter();e=f.getAnchorOffset()-1;f=f.merge({anchorOffset:e,focusOffset:e});e=b("DraftModifier").replaceWithFragment(d,f,c);d=b("EditorState").push(a,e,"insert-fragment");return b("EditorState").acceptSelection(d,g)}e.exports=a}),null);
__d("keyCommandUndo",["EditorState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("EditorState").undo(c);if(c.getLastChangeType()==="spellcheck-change"){var f=e.getCurrentContent();d(b("EditorState").set(e,{nativelyRenderedContent:f}));return}a.preventDefault();if(!c.getNativelyRenderedContent()){d(e);return}d(b("EditorState").set(c,{nativelyRenderedContent:null}));setTimeout(function(){d(e)},0)}e.exports=a}),null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("KeyBindingUtil").isOptionKeyCommand,h=b("UserAgent").isBrowser("Chrome");function i(a,c,d){__p&&__p();switch(a){case"redo":return b("EditorState").redo(c);case"delete":return b("keyCommandPlainDelete")(c);case"delete-word":return b("keyCommandDeleteWord")(c);case"backspace":return b("keyCommandPlainBackspace")(c);case"backspace-word":return b("keyCommandBackspaceWord")(c);case"backspace-to-start-of-line":return b("keyCommandBackspaceToStartOfLine")(c,d);case"split-block":return b("keyCommandInsertNewline")(c);case"transpose-characters":return b("keyCommandTransposeCharacters")(c);case"move-selection-to-start-of-block":return b("keyCommandMoveSelectionToStartOfBlock")(c);case"move-selection-to-end-of-block":return b("keyCommandMoveSelectionToEndOfBlock")(c);case"secondary-cut":return b("SecondaryClipboard").cut(c);case"secondary-paste":return b("SecondaryClipboard").paste(c);default:return c}}function a(a,c){__p&&__p();var d=c.which,e=a._latestEditorState;function f(b){b=a.props[b];if(b){b(c);return!0}else return!1}switch(d){case b("Keys").RETURN:c.preventDefault();if(a.props.handleReturn&&b("isEventHandled")(a.props.handleReturn(c,e)))return;break;case b("Keys").ESC:c.preventDefault();if(f("onEscape"))return;break;case b("Keys").TAB:if(f("onTab"))return;break;case b("Keys").UP:if(f("onUpArrow"))return;break;case b("Keys").RIGHT:if(f("onRightArrow"))return;break;case b("Keys").DOWN:if(f("onDownArrow"))return;break;case b("Keys").LEFT:if(f("onLeftArrow"))return;break;case b("Keys").SPACE:h&&g(c)&&c.preventDefault()}f=a.props.keyBindingFn(c);if(f==null||f===""){if(d===b("Keys").SPACE&&h&&g(c)){d=b("DraftModifier").replaceText(e.getCurrentContent(),e.getSelection(),"\xa0");a.update(b("EditorState").push(e,d,"insert-characters"))}return}if(f==="undo"){b("keyCommandUndo")(c,e,a.update);return}c.preventDefault();if(a.props.handleKeyCommand&&b("isEventHandled")(a.props.handleKeyCommand(f,e,c.timeStamp)))return;d=i(f,e,c);d!==e&&a.update(d)}e.exports=a}),null);
__d("getSafeBodyFromHTML",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE <= 9");function a(a){var b,c=null;!h&&document.implementation&&document.implementation.createHTMLDocument&&(b=document.implementation.createHTMLDocument("foo"),b.documentElement||g(0,1805),b.documentElement.innerHTML=a,c=b.getElementsByTagName("body")[0]);return c}e.exports=a}),null);
__d("isHTMLAnchorElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="A"}e.exports=a}),null);
__d("isHTMLBRElement",[],(function(a,b,c,d,e,f){function a(a){if(!a||!a.ownerDocument)return!1;if(!a.ownerDocument.defaultView)return a instanceof HTMLBRElement;return a instanceof a.ownerDocument.defaultView.HTMLElement?!0:!1}e.exports=a}),null);
__d("isHTMLImageElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="IMG"}e.exports=a}),null);
__d("convertFromHTMLToContentBlocks",["cx","CharacterMetadata","ContentBlock","ContentBlockNode","DefaultDraftBlockRenderMap","DraftEntity","URI","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","isHTMLAnchorElement","isHTMLBRElement","isHTMLElement","isHTMLImageElement"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedSet,l=b("gkx")("676842");a="&nbsp;";var m=" ",n=new RegExp("\r","g"),o=new RegExp("\n","g"),p=new RegExp("^\n","g"),q=new RegExp(a,"g"),r=new RegExp("&#13;?","g"),s=new RegExp("&#8203;?","g"),t=["bold","bolder","500","600","700","800","900"],u=["light","lighter","100","200","300","400"],v=["className","href","rel","target","title"],w=["alt","className","height","src","width"],x=(c={},c._3kq1=0,c._3kq2=1,c._3kq3=2,c._3kq4=3,c._3kq5=4,c),y=j({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(a){var b={};a.mapKeys(function(a,c){var d=[c.element];c.aliasedElements!==void 0&&d.push.apply(d,c.aliasedElements);d.forEach(function(c){b[c]===void 0?b[c]=a:typeof b[c]==="string"?b[c]=[b[c],a]:b[c].push(a)})});return j(b)},A=function(a,b){b===void 0&&(b=0);Object.keys(x).some(function(c){a.classList.contains(c)&&(b=x[c])});return b},B=function(a){if(!b("isHTMLAnchorElement")(a))return!1;a=a;return!!(a.href&&(a.protocol==="http:"||a.protocol==="https:"||a.protocol==="mailto:"))},C=function(a){if(!b("isHTMLImageElement")(a))return!1;a=a;return!!(a.attributes.getNamedItem("src")&&a.attributes.getNamedItem("src").value)},D=function(a){var c=k();if(!b("isHTMLElement")(a))return c;a=a;var d=a.style.fontWeight,e=a.style.fontStyle,f=a.style.textDecoration;return c.withMutations(function(a){t.indexOf(d)>=0?a.add("BOLD"):u.indexOf(d)>=0&&a.remove("BOLD"),e==="italic"?a.add("ITALIC"):e==="normal"&&a.remove("ITALIC"),f==="underline"&&a.add("UNDERLINE"),f==="line-through"&&a.add("STRIKETHROUGH"),f==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},E=function(a){return a==="ul"||a==="ol"},F=function(){__p&&__p();function a(a,c){this.characterList=i(),this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentStyle=k(),this.currentText="",this.wrapper=null,this.blockConfigs=[],this.contentBlocks=[],this.entityMap=b("DraftEntity"),this.clear(),this.blockTypeMap=a,this.disambiguate=c}var c=a.prototype;c.clear=function(){this.characterList=i(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentStyle=k(),this.currentText="",this.entityMap=b("DraftEntity"),this.wrapper=null,this.contentBlocks=[]};c.addDOMNode=function(a){var b;this.contentBlocks=[];this.currentDepth=0;(b=this.blockConfigs).push.apply(b,this.$1([a]));this.$2();this.currentText!==""&&this.blockConfigs.push(this.$3());return this};c.getContentBlocks=function(){this.contentBlocks.length===0&&(l?this.$4(this.blockConfigs):this.$5(this.blockConfigs));return{contentBlocks:this.contentBlocks,entityMap:this.entityMap}};c.addStyle=function(a){this.currentStyle=this.currentStyle.union(a)};c.removeStyle=function(a){this.currentStyle=this.currentStyle.subtract(a)};c.$3=function(a){a===void 0&&(a={});var c=a.key||b("generateRandomKey")();c=babelHelpers["extends"]({key:c,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:i(),prevSibling:null,nextSibling:null,childConfigs:[]},a);this.characterList=i();this.currentBlockType="unstyled";this.currentText="";return c};c.$1=function(a){__p&&__p();var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=e.nodeName.toLowerCase();if(f==="body"||E(f)){this.$2();this.currentText!==""&&c.push(this.$3());var g=this.currentDepth,h=this.wrapper;E(f)&&(this.wrapper=f,E(h)&&this.currentDepth++);c.push.apply(c,this.$1(Array.from(e.childNodes)));this.currentDepth=g;this.wrapper=h;continue}g=this.blockTypeMap.get(f);if(g!==void 0){this.$2();this.currentText!==""&&c.push(this.$3());h=this.currentDepth;var i=this.wrapper;this.wrapper=f==="pre"?"pre":this.wrapper;typeof g!=="string"&&(g=this.disambiguate(f,this.wrapper)||g[0]||"unstyled");if(!l&&b("isHTMLElement")(e)&&(g==="unordered-list-item"||g==="ordered-list-item")){var j=e;this.currentDepth=A(j,this.currentDepth)}j=b("generateRandomKey")();var m=this.$1(Array.from(e.childNodes));this.$2();c.push(this.$3({key:j,childConfigs:m,type:g}));this.currentDepth=h;this.wrapper=i;continue}if(f==="#text"){this.$6(e);continue}if(f==="br"){this.$7(e);continue}if(C(e)){this.$8(e);continue}if(B(e)){this.$9(e,c);continue}j=y.has(f)?k.of(y.get(f)):k();m=D(e);this.addStyle(j);this.addStyle(m);c.push.apply(c,this.$1(Array.from(e.childNodes)));this.removeStyle(m);this.removeStyle(j)}return c};c.$10=function(a){var c;this.currentText+=a;var d=b("CharacterMetadata").create({style:this.currentStyle,entity:this.currentEntity});this.characterList=(c=this.characterList).push.apply(c,Array(a.length).fill(d))};c.$2=function(){var a=this.currentText.length,b=a-this.currentText.trimLeft().length,c=this.currentText.trimRight().length,d=this.characterList.findEntry(function(a){return a.getEntity()!==null});b=d!==void 0?Math.min(b,d[0]):b;d=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null});c=d!==void 0?Math.max(c,a-d[0]):c;b>c?(this.currentText="",this.characterList=i()):(this.currentText=this.currentText.slice(b,c),this.characterList=this.characterList.slice(b,c))};c.$6=function(a){a=a.textContent;var b=a.trim();b===""&&this.wrapper!=="pre"&&(a=" ");this.wrapper!=="pre"&&(a=a.replace(p,""),a=a.replace(o,m));this.$10(a)};c.$7=function(a){if(!b("isHTMLBRElement")(a))return;this.$10("\n")};c.$8=function(a){if(!b("isHTMLImageElement")(a))return;var c=a,d={};w.forEach(function(a){var b=c.getAttribute(a);b&&(d[a]=b)});this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",d);b("gkx")("676848")?c.getAttribute("role")!=="presentation"&&this.$10("\ud83d\udcf7"):this.$10("\ud83d\udcf7");this.currentEntity=null};c.$9=function(a,c){__p&&__p();if(!b("isHTMLAnchorElement")(a))return;var d=a,e={};v.forEach(function(a){var b=d.getAttribute(a);b&&(e[a]=b)});e.url=new(h||(h=b("URI")))(d.href).toString();this.currentEntity=this.entityMap.__create("LINK","MUTABLE",e||{});c.push.apply(c,this.$1(Array.from(a.childNodes)));this.currentEntity=null};c.$4=function(a,c){__p&&__p();c===void 0&&(c=null);var d=a.length-1;for(var e=0;e<=d;e++){var f=a[e];f.parent=c;f.prevSibling=e>0?a[e-1].key:null;f.nextSibling=e<d?a[e+1].key:null;f.children=i(f.childConfigs.map(function(a){return a.key}));this.contentBlocks.push(new(b("ContentBlockNode"))(babelHelpers["extends"]({},f)));this.$4(f.childConfigs,f.key)}};c.$11=function(a){var b=this;a=i(a).flatMap(function(a){return a.type!=="unstyled"||a.text!==""?[a]:b.$11(a.childConfigs)});return a};c.$5=function(a){var c=this;a=this.$11(a);a.forEach(function(a){var d=c.$12(a.childConfigs),e=d.text;d=d.characterList;c.contentBlocks.push(new(b("ContentBlock"))(babelHelpers["extends"]({},a,{text:a.text+e,characterList:a.characterList.concat(d)})))})};c.$12=function(a){__p&&__p();var b=a.length-1,c="",d=i();for(var e=0;e<=b;e++){var f=a[e];c+=f.text;d=d.concat(f.characterList);c!==""&&f.type!=="unstyled"&&(c+="\n",d=d.push(d.last()));f=this.$12(f.childConfigs);c+=f.text;d=d.concat(f.characterList)}return{text:c,characterList:d}};return a}();d=function(a,c,d){__p&&__p();c===void 0&&(c=b("getSafeBodyFromHTML"));d===void 0&&(d=b("DefaultDraftBlockRenderMap"));a=a.trim().replace(n,"").replace(q,m).replace(r,"").replace(s,"");c=c(a);if(!c)return null;a=z(d);d=function(a,b){return a==="li"?b==="ol"?"ordered-list-item":"unordered-list-item":null};return new F(a,d).addDOMNode(c).getContentBlocks()};e.exports=d}),null);
__d("DraftPasteProcessor",["ContentBlock","ContentBlockNode","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=b("immutable").Repeat,i=b("gkx")("676842"),j=i?b("ContentBlockNode"):b("ContentBlock");a={processHTML:function(a,c){return b("convertFromHTMLToContentBlocks")(a,b("getSafeBodyFromHTML"),c)},processText:function(a,c,d){__p&&__p();return a.reduce(function(a,e,f){__p&&__p();e=b("sanitizeDraftText")(e);var k=b("generateRandomKey")();e={key:k,type:d,text:e,characterList:g(h(c,e.length))};if(i&&f!==0){f=f-1;f=a[f]=a[f].merge({nextSibling:k});e=babelHelpers["extends"]({},e,{prevSibling:f.getKey()})}a.push(new j(e));return a},[])}};e.exports=a}),null);
__d("adjustBlockDepthForContentState",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d){var e=b.getStartKey(),f=b.getEndKey(),g=a.getBlockMap(),h=g.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===f}).concat([[f,g.get(f)]]).map(function(a){var b=a.getDepth()+c;b=Math.max(0,Math.min(b,d));return a.set("depth",b)});g=g.merge(h);return a.merge({blockMap:g,selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","adjustBlockDepthForContentState","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={currentBlockContainsLink:function(a){var b=a.getSelection();a=a.getCurrentContent();var c=a.getEntityMap();return a.getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(a){a=a.getEntity();return!!a&&c.__get(a).getType()==="LINK"})},getCurrentBlockType:function(a){var b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},getDataObjectForLinkURL:function(a){return{url:a.toString()}},handleKeyCommand:function(a,b,c){switch(b){case"bold":return g.toggleInlineStyle(a,"BOLD");case"italic":return g.toggleInlineStyle(a,"ITALIC");case"underline":return g.toggleInlineStyle(a,"UNDERLINE");case"code":return g.toggleCode(a);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(a);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(a);default:return null}},insertSoftNewline:function(a){var c=b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),"\n",a.getCurrentInlineStyle(),null);a=b("EditorState").push(a,c,"insert-characters");return b("EditorState").forceSelection(a,c.getSelectionAfter())},onBackspace:function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed()||c.getAnchorOffset()||c.getFocusOffset())return null;var d=a.getCurrentContent(),e=c.getStartKey();e=d.getBlockBefore(e);if(e&&e.getType()==="atomic"){e=d.getBlockMap()["delete"](e.getKey());e=d.merge({blockMap:e,selectionAfter:c});if(e!==d)return b("EditorState").push(a,e,"remove-range")}c=g.tryToRemoveBlockStyle(a);return c?b("EditorState").push(a,c,"change-block-type"):null},onDelete:function(a){__p&&__p();var c=a.getSelection();if(!c.isCollapsed())return null;var d=a.getCurrentContent(),e=c.getStartKey(),f=d.getBlockForKey(e);f=f.getLength();if(c.getStartOffset()<f)return null;f=d.getBlockAfter(e);if(!f||f.getType()!=="atomic")return null;e=c.merge({focusKey:f.getKey(),focusOffset:f.getLength()});c=b("DraftModifier").removeRange(d,e,"forward");return c!==d?b("EditorState").push(a,c,"remove-range"):null},onTab:function(a,c,d){__p&&__p();var e=c.getSelection(),f=e.getAnchorKey();if(f!==e.getFocusKey())return c;var g=c.getCurrentContent();f=g.getBlockForKey(f);var h=f.getType();if(h!=="unordered-list-item"&&h!=="ordered-list-item")return c;a.preventDefault();h=f.getDepth();if(!a.shiftKey&&h===d)return c;f=b("adjustBlockDepthForContentState")(g,e,a.shiftKey?-1:1,d);return b("EditorState").push(c,f,"adjust-depth")},toggleBlockType:function(a,c){__p&&__p();var d=a.getSelection(),e=d.getStartKey(),f=d.getEndKey(),g=a.getCurrentContent(),h=d;if(e!==f&&d.getEndOffset()===0){var i=b("nullthrows")(g.getBlockBefore(f));f=i.getKey();h=h.merge({anchorKey:e,anchorOffset:d.getStartOffset(),focusKey:f,focusOffset:i.getLength(),isBackward:!1})}d=g.getBlockMap().skipWhile(function(a,b){return b!==e}).reverse().skipWhile(function(a,b){return b!==f}).some(function(a){return a.getType()==="atomic"});if(d)return a;i=g.getBlockForKey(e).getType()===c?"unstyled":c;return b("EditorState").push(a,b("DraftModifier").setBlockType(g,h,i),"change-block-type")},toggleCode:function(a){var b=a.getSelection(),c=b.getAnchorKey(),d=b.getFocusKey();return b.isCollapsed()||c!==d?g.toggleBlockType(a,"code-block"):g.toggleInlineStyle(a,"CODE")},toggleInlineStyle:function(a,c){var d=a.getSelection(),e=a.getCurrentInlineStyle();if(d.isCollapsed())return b("EditorState").setInlineStyleOverride(a,e.has(c)?e.remove(c):e.add(c));var f=a.getCurrentContent();e.has(c)?e=b("DraftModifier").removeInlineStyle(f,d,c):e=b("DraftModifier").applyInlineStyle(f,d,c);return b("EditorState").push(a,e,"change-inline-style")},toggleLink:function(a,c,d){c=b("DraftModifier").applyEntity(a.getCurrentContent(),c,d);return b("EditorState").push(a,c,"apply-entity")},tryToRemoveBlockStyle:function(a){__p&&__p();var c=a.getSelection(),d=c.getAnchorOffset();if(c.isCollapsed()&&d===0){d=c.getAnchorKey();a=a.getCurrentContent();var e=a.getBlockForKey(d);e=e.getType();d=a.getBlockBefore(d);if(e==="code-block"&&d&&d.getType()==="code-block"&&d.getLength()!==0)return null;if(e!=="unstyled")return b("DraftModifier").setBlockType(a,c,"unstyled")}return null}};e.exports=g}),null);
__d("splitTextIntoTextBlocks",[],(function(a,b,c,d,e,f){"use strict";var g=/\r\n?|\n/g;function a(a){return a.split(g)}e.exports=a}),null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","RichTextEditorUtil","getEntityKeyForSelection","getTextContentFromFiles","isEventHandled","splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();c.preventDefault();c=new(b("DataTransfer"))(c.clipboardData);if(!c.isRichText()){var d=c.getFiles(),e=c.getText();if(d.length>0){if(a.props.handlePastedFiles&&b("isEventHandled")(a.props.handlePastedFiles(d)))return;b("getTextContentFromFiles")(d,function(d){__p&&__p();d=d||e;if(!d)return;var c=a._latestEditorState;d=b("splitTextIntoTextBlocks")(d);var f=b("CharacterMetadata").create({style:c.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(c.getCurrentContent(),c.getSelection())}),g=b("RichTextEditorUtil").getCurrentBlockType(c);d=b("DraftPasteProcessor").processText(d,f,g);f=b("BlockMapBuilder").createFromArray(d);g=b("DraftModifier").replaceWithFragment(c.getCurrentContent(),c.getSelection(),f);a.update(b("EditorState").push(c,g,"insert-fragment"))});return}}d=[];var f=c.getText(),i=c.getHTML(),j=a._latestEditorState;if(a.props.handlePastedText&&b("isEventHandled")(a.props.handlePastedText(f,i,j)))return;f&&(d=b("splitTextIntoTextBlocks")(f));if(!a.props.stripPastedStyles){var k=a.getClipboard();if(c.isRichText()&&k){if(i.indexOf(a.getEditorKey())!==-1||d.length===1&&k.size===1&&k.first().getText()===f){a.update(g(a._latestEditorState,k));return}}else if(k&&c.types.includes("com.apple.webarchive")&&!c.types.includes("text/html")&&h(d,k)){a.update(g(a._latestEditorState,k));return}if(i){f=b("DraftPasteProcessor").processHTML(i,a.props.blockRenderMap);if(f){c=f.contentBlocks;k=f.entityMap;if(c){i=b("BlockMapBuilder").createFromArray(c);a.update(g(a._latestEditorState,i,k));return}}}a.setClipboard(null)}if(d.length){f=b("CharacterMetadata").create({style:j.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(j.getCurrentContent(),j.getSelection())});c=b("RichTextEditorUtil").getCurrentBlockType(j);i=b("DraftPasteProcessor").processText(d,f,c);k=b("BlockMapBuilder").createFromArray(i);a.update(g(a._latestEditorState,k))}}function g(a,c,d){c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c.set("entityMap",d),"insert-fragment")}function h(a,b){return a.length===b.size&&b.valueSeq().every(function(b,c){return b.getText()===a[c]})}e.exports=a}),null);
__d("DraftEditorEditHandler",["UserAgent","editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],(function(a,b,c,d,e,f){"use strict";a=b("UserAgent").isBrowser("Chrome");c=a?b("editOnSelect"):function(a){};d={onBeforeInput:b("editOnBeforeInput"),onBlur:b("editOnBlur"),onCompositionStart:b("editOnCompositionStart"),onCopy:b("editOnCopy"),onCut:b("editOnCut"),onDragOver:b("editOnDragOver"),onDragStart:b("editOnDragStart"),onFocus:b("editOnFocus"),onInput:b("editOnInput"),onKeyDown:b("editOnKeyDown"),onPaste:b("editOnPaste"),onSelect:b("editOnSelect"),onMouseUp:c,onKeyUp:c};e.exports=d}),null);
__d("DraftEditorPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.text!==a.text||this.props.editorState.getSelection().getHasFocus()!==a.editorState.getSelection().getHasFocus()};d.render=function(){var a=this.props.editorState.getSelection().getHasFocus();a="_1p1t"+(a?" _1p1u":"");var c={whiteSpace:"pre-wrap"};return b("React").jsx("div",{className:a,children:b("React").jsx("div",{className:"_1p1v",id:this.props.accessibilityID,style:c,children:this.props.text})})};return c}(b("React").Component);e.exports=a}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){__p&&__p();switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("DraftEditor.react",["cx","invariant","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorPlaceholder.react","DraftEffects","EditorState","React","ReactDOM","Scroll","Style","UserAgent","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("UserAgent").isBrowser("IE"),j=!i,k={edit:b("DraftEditorEditHandler"),composite:b("DraftEditorCompositionHandler"),drag:b("DraftEditorDragHandler"),cut:null,render:null},l=!1,m=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return null};c.componentDidMount=function(){this._update()};c.componentDidUpdate=function(){this._update()};c._update=function(){var a=this.props.editor;a._latestEditorState=this.props.editorState;a._blockSelectEvents=!0};return a}(b("React").Component);c=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(a){__p&&__p();var d;d=c.call(this,a)||this;d.focus=function(a){__p&&__p();var c=d.props.editorState,e=c.getSelection().getHasFocus(),f=d.editor;if(!f)return;var g=b("Style").getScrollParent(f);a=a||b("getScrollPosition")(g);var i=a.x;a=a.y;b("isHTMLElement")(f)||h(0,2355);f.focus();g===window?window.scrollTo(i,a):b("Scroll").setTop(g,a);e||d.update(b("EditorState").forceSelection(c,c.getSelection()))};d.blur=function(){var a=d.editor;if(!a)return;b("isHTMLElement")(a)||h(0,2355);a.blur()};d.setMode=function(a){var b=d.props,c=b.onPaste,e=b.onCut;b=b.onCopy;var f=babelHelpers["extends"]({},k.edit);c&&(f.onPaste=c);e&&(f.onCut=e);b&&(f.onCopy=b);c=babelHelpers["extends"]({},k,{edit:f});d._handler=c[a]};d.exitCurrentMode=function(){d.setMode("edit")};d.restoreEditorDOM=function(a){d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})};d.setClipboard=function(a){d._clipboard=a};d.getClipboard=function(){return d._clipboard};d.update=function(a){d._latestEditorState=a,d.props.onChange(a)};d.onDragEnter=function(){d._dragCount++};d.onDragLeave=function(){d._dragCount--,d._dragCount===0&&d.exitCurrentMode()};d._blockSelectEvents=!1;d._clipboard=null;d._handler=null;d._dragCount=0;d._editorKey=a.editorKey||b("generateRandomKey")();d._placeholderAccessibilityID="placeholder-"+d._editorKey;d._latestEditorState=a.editorState;d._latestCommittedEditorState=a.editorState;d._onBeforeInput=d._buildHandler("onBeforeInput");d._onBlur=d._buildHandler("onBlur");d._onCharacterData=d._buildHandler("onCharacterData");d._onCompositionEnd=d._buildHandler("onCompositionEnd");d._onCompositionStart=d._buildHandler("onCompositionStart");d._onCopy=d._buildHandler("onCopy");d._onCut=d._buildHandler("onCut");d._onDragEnd=d._buildHandler("onDragEnd");d._onDragOver=d._buildHandler("onDragOver");d._onDragStart=d._buildHandler("onDragStart");d._onDrop=d._buildHandler("onDrop");d._onInput=d._buildHandler("onInput");d._onFocus=d._buildHandler("onFocus");d._onKeyDown=d._buildHandler("onKeyDown");d._onKeyPress=d._buildHandler("onKeyPress");d._onKeyUp=d._buildHandler("onKeyUp");d._onMouseDown=d._buildHandler("onMouseDown");d._onMouseUp=d._buildHandler("onMouseUp");d._onPaste=d._buildHandler("onPaste");d._onSelect=d._buildHandler("onSelect");d.getEditorKey=function(){return d._editorKey};d.state={contentsKey:0};return d}var e=d.prototype;e._buildHandler=function(a){var c=this,d=b("ReactDOM").unstable_flushControlled;return function(b){if(!c.props.readOnly){var e=c._handler&&c._handler[a];e&&(d?d(function(){return e(c,b)}):e(c,b))}}};e._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};e._renderPlaceholder=function(){if(this._showPlaceholder()){var a={text:b("nullthrows")(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b("React").jsx(b("DraftEditorPlaceholder.react"),babelHelpers["extends"]({},a))}return null};e.render=function(){var a=this,c=this.props,d=c.blockRenderMap,e=c.blockRendererFn,f=c.blockStyleFn,g=c.customStyleFn,h=c.customStyleMap,i=c.editorState,k=c.readOnly,l=c.textAlignment;c=c.textDirectionality;l="_5rp7"+(l==="left"?" _5rp8":"")+(l==="right"?" _5rp9":"")+(l==="center"?" _5rpa":"");var n={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},o=this.props.role||"textbox",p=o==="combobox"?!!this.props.ariaExpanded:null;d={blockRenderMap:d,blockRendererFn:e,blockStyleFn:f,customStyleMap:babelHelpers["extends"]({},b("DefaultDraftInlineStyle"),h),customStyleFn:g,editorKey:this._editorKey,editorState:i,textDirectionality:c};return b("React").jsxs("div",{className:l,children:[this._renderPlaceholder(),b("React").jsx("div",{className:"_5rpb",ref:function(b){return a.editorContainer=b},children:b("React").jsxs("div",{"aria-activedescendant":k?null:this.props.ariaActiveDescendantID,"aria-autocomplete":k?null:this.props.ariaAutoComplete,"aria-controls":k?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":k?null:p,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":k?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:(k?"":"notranslate")+" _5rpu",contentEditable:!k,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(b){return a.editor=b},role:k?null:o,spellCheck:j&&this.props.spellCheck,style:n,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex,children:[b("React").jsx(m,{editor:this,editorState:i}),b("React").createElement(b("DraftEditorContents.react"),babelHelpers["extends"]({},d,{key:"contents"+this.state.contentsKey}))]})})]})};e.componentDidMount=function(){this._blockSelectEvents=!1,!l&&b("gkx")("676845")&&(l=!0,b("DraftEffects").initODS()),this.setMode("edit"),i&&(!this.editor?a.execCommand("AutoUrlDetect",!1,!1):this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1))};e.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState};return d}(b("React").Component);c.defaultProps={blockRenderMap:b("DefaultDraftBlockRenderMap"),blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:b("getDefaultKeyBinding"),readOnly:!1,spellCheck:!1,stripPastedStyles:!1};e.exports=c}),null);
__d("TypeaheadNavigation",[],(function(a,b,c,d,e,f){a={moveUp:function(a,b,c){b=b!=null?a.indexOf(b):-1;b=b==-1?a.length-1:b-1;c(b==-1?null:a[b])},moveDown:function(a,b,c){b=b!=null?a.indexOf(b)+1:0;c(b==a.length?null:a[b])}};e.exports=a}),null);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){e=e(c.getCurrentContent(),a);var g=e.getLastCreatedEntityKey();f=f?f(a):a.getTitle();a=b("DraftModifier").replaceText(e,d,f,c.getCurrentInlineStyle(),g);return b("EditorState").push(c,a,"insert-fragment")}e.exports=a}),null);
__d("replaceMentionedTextInEditorState",["replaceSelectionWithMention"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f=c.getSelection(),i=c.getCurrentContent(),j=f.getAnchorKey(),k=f.getAnchorOffset();i=i.getBlockMap().get(j);j=f.getStartOffset();j=i.getText().substr(j-d,d);var l=g(a,j);j=k-h(i.getText().substr(0,k),l,d);return b("replaceSelectionWithMention")(a,c,f.set("anchorOffset",j),e,function(){return l})}function g(a,b){return a.getType()==="group_rule"?a.getSubtitle():a.getTitle()}function h(a,b,c){for(var d=c;d<=b.length;d++)a.substr(-d)==b.substr(0,d)&&(c=d);return c}e.exports=a}),null);
__d("AbstractMentionsTextEditor.react",["DraftEditor.react","React","TypeaheadNavigation","clearImmediate","getOrCreateDOMID","replaceMentionedTextInEditorState","setImmediate","uniqueID"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=5;var g="handled",h="not-handled";d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.__onShowMentions=function(a,b,c){__p&&__p();if(!e.$2)return;b=b||0;if(!a||!a.length){var d=e.state.mentionableEntries;if(d&&d.length&&d[0].getDataType()!==(c||""))return;e.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return}d=e.props.typeaheadViewProps;c=a;d&&d.mentionSortFn&&c.sort(d.mentionSortFn);c=a.slice(0,e.props.maxResults);e.props.reverseOrder&&(c=c.reverse());d=null;(e.props.autoHighlight||e.state.highlightedMentionable!==null)&&(d=e.props.autoUpdateHighlight?c[0]:e.state.highlightedMentionable);e.setState({highlightedMentionable:d,mentionableEntries:c,characterOffset:b});e.props.onShowMentions&&e.props.onShowMentions(c,b)};e.$8=function(a){e.setState(e.$12()),e.props.onBlur&&e.props.onBlur(a)};e.$7=function(a){e.props.mentionsSource&&e.props.mentionsSource.bootstrap(),e.props.onFocus&&e.props.onFocus(a)};e.$13=function(a,b){if(e.state.highlightedMentionable){e.$10(e.state.highlightedMentionable,a);return g}else if(e.props.handleContentReturn&&e.props.handleContentReturn(a,b))return g;return h};e.$6=function(a){var b=e.state.highlightedMentionable;b?(a.preventDefault(),e.$10(b,a)):e.props.onTab&&e.props.onTab(a)};e.$5=function(a){e.props.onEscape&&e.props.onEscape(a),e.state.mentionableEntries&&(a.stopPropagation(),a.nativeEvent.composerPropagationStopped=!0,e.setState(e.$12()))};e.$11=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveUp(c,e.state.highlightedMentionable,e.$9)):e.props.onUpArrow&&e.props.onUpArrow(a)};e.$4=function(a){var c=e.state.mentionableEntries;c?(a.preventDefault(),b("TypeaheadNavigation").moveDown(c,e.state.highlightedMentionable,e.$9)):e.props.onDownArrow&&e.props.onDownArrow(a)};e.$9=function(a){e.setState({highlightedMentionable:a})};e.$14=function(a){a=b("getOrCreateDOMID")(a);e.setState({ariaActiveDescendantID:a})};e.$10=function(a,c){__p&&__p();var d=a.getDataType(),f=e.props.mentionCreationForContentStateFn;d==="ASSISTANT_TYPEAHEAD"&&e.props.mentionTypeaheadCreationForContentStateFn&&(f=e.props.mentionTypeaheadCreationForContentStateFn);d=e.props.onMentionSelect;d=d==null?b("replaceMentionedTextInEditorState"):d;d=d(a,e.props.editorState,e.state.characterOffset,f);e.props.onChange(d);e.setState(e.$12());f=e.props.onAddMention;d=e.state.mentionableEntries;if(f&&d){d=d.indexOf(a);f(a,d,c)}};babelHelpers.assertThisInitialized(e).__onShowMentions=e.__onShowMentions.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$4=e.$4.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$5=e.$5.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$6=e.$6.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$7=e.$7.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$8=e.$8.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$9=e.$9.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$10=e.$10.bind(babelHelpers.assertThisInitialized(e));babelHelpers.assertThisInitialized(e).$11=e.$11.bind(babelHelpers.assertThisInitialized(e));e.state=e.$12();return e}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2=!0,this.$1=b("uniqueID")(),this.$3=[]};d.componentWillUnmount=function(){this.$2=!1,this.$3.forEach(function(a){return b("clearImmediate")(a)}),this.$3=[]};d.$12=function(){return{highlightedMentionable:null,mentionableEntries:null,characterOffset:0}};d.shouldComponentUpdate=function(a,b){return this.props.editorState!==a.editorState||this.props.placeholder!==a.placeholder||this.props.readOnly!==a.readOnly||this.props.className!==a.className||this.state.mentionableEntries!==b.mentionableEntries||this.state.highlightedMentionable!==b.highlightedMentionable||this.state.ariaActiveDescendantID!==b.ariaActiveDescendantID};d.componentDidUpdate=function(a){__p&&__p();var c=this,d=this.props.editorState;if(d===a.editorState)return;var e=d.getSelection();if(e.getHasFocus()&&e.isCollapsed()){var f=d.getCurrentContent(),g=this.props.mentionsSource;g&&this.$3.push(b("setImmediate")(function(){g.search(f,e,c.__onShowMentions)}));var h=this.props.assistantTypeaheadSource;h&&this.$3.push(b("setImmediate")(function(){h.search(f,e,c.__onShowMentions)}))}};d.blur=function(){this.refs.abstractTextEditor.blur()};d.focus=function(){this.refs.abstractTextEditor.focus()};d.$15=function(){var a=this.state.mentionableEntries;if(!a||!a.length)return null;var c=this.props.mentionResultsComponent;return b("React").jsx(c,babelHelpers["extends"]({},this.props.mentionResultsProps,{viewID:this.$1,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:a||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this.$10,onMentionHighlight:this.$9,onMentionRenderHighlight:this.$14}))};d.exitCurrentMode=function(){this.refs.abstractTextEditor&&this.refs.abstractTextEditor.exitCurrentMode()};d.render=function(){var a=this.state.mentionableEntries;a=!!(a&&a.length);var c=this.props.readOnly?null:"-1",d=this.props.role||"combobox",e=this.props.ariaAutoComplete||"list";return b("React").jsxs("div",{ref:"container",className:this.props.className,tabIndex:c,children:[b("React").jsx(b("DraftEditor.react"),babelHelpers["extends"]({},this.props,{ref:"abstractTextEditor",role:d,ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:e,ariaControls:this.$1,ariaExpanded:a,ariaHasPopup:a,editorState:this.props.editorState,onBlur:this.$8,onChange:this.props.onChange,onFocus:this.$7,onTab:this.$6,onEscape:this.$5,onDownArrow:this.$4,onUpArrow:this.$11,handleReturn:this.$13})),this.$15()]})};d.isShowingMentionables=function(){return!!this.state.mentionableEntries};return c}(b("React").Component);d.defaultProps=babelHelpers["extends"]({},b("DraftEditor.react").defaultProps,{autoHighlight:!0,autoUpdateHighlight:!0,maxResults:c,reverseOrder:!1});d.propTypes={mentionsSource:a.object,assistantTypeaheadSource:a.object,mentionCreationForContentStateFn:a.func.isRequired,mentionTypeaheadCreationForContentStateFn:a.func,mentionResultsComponent:a.func.isRequired,mentionResultsProps:a.object,excludedEntries:a.object,handleContentReturn:a.func,onAddMention:a.func,onShowMentions:a.func,autoHighlight:a.bool,maxResults:a.number,webDriverTestID:a.string};e.exports=d}),null);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.bootstrap=function(a){var c=this;this.$1||(this.$1=new(b("Promise"))(function(a){c.bootstrapImpl(a)}));return this.$1.then(a)};c.search=function(a,b,c){this.searchImpl(a,b,c)};c.bootstrapImpl=function(a){a()};c.searchImpl=function(a,b,c){throw new Error("Abstract method #searchImpl is not implemented.")};c.clearBootstrappedData=function(){this.$1=null};return a}();e.exports=a}),null);
__d("MessengerBusinessAutoCompleteQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2397726383591642"};b.getQueryID=function(){return"1369134433234452"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("AutocompleteSearchSource",["AbstractSearchSource","MessengerBusinessAutoCompleteQueryWebGraphQLQuery","SearchableEntry","WebGraphQL","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this)||this;b.numResults=c;b.requestType=d;return b}var d=c.prototype;d.searchImpl=function(a,c,d){if(!a){c([],a);return}d={num_results:this.numResults,query:a,search_type:this.requestType};b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessAutoCompleteQueryWebGraphQLQuery"))({query_params:d})),function(d){d=d.in_thread_auto_complete_search.map(function(a){return new(b("SearchableEntry"))({title:String(a.title),uniqueID:String(a.title)})});c(d,a)})};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("AutocompleteStrategy",[],(function(a,b,c,d,e,f){a={name:"AutocompleteStrategy",findMentionableString:function(a){return{matchingString:a,leadOffset:a.length}}};e.exports=a}),null);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=".";a=function(){__p&&__p();function a(a){this.$1=a.slice()}var b=a.prototype;b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;var g=function(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)};d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("DocumentCompositeMentionsSource",["invariant","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}a=function(){__p&&__p();function a(a){a.length>0||g(0,1514),this.$1=a,this.$2=!1,this.$3=null}var c=a.prototype;c.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};c.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f);return{remove:function(){f.cancel()}}};c.$4=function(a,c){__p&&__p();var d=this,e=this.$1.length,f,g;for(var h=0;h<e;h++){f=this.$1[h];g=f.findMatch(a);if(g===null)continue;else{var i=b("nullthrows")(g).matchingString;this.$3=i;f.search(i,function(a,b){d.$3===b&&c(a,g.leadOffset)});return}}this.$3=null;c(null,null)};return a}();e.exports=a}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){typeof a.findMentionableString==="function"||g(0,558),this.$1=a,this.$2=b,this.$3=!1}var b=a.prototype;b.findMatch=function(a){return this.$1.findMentionableString(a)};b.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};b.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name,disableExistingIDs:!0})};return a}();e.exports=a}),null);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!1})}),null);
__d("WorkplaceChatHelper",["ChannelConstants","CurrentUser","PresenceViewerCapabilities"],(function(a,b,c,d,e,f){"use strict";a={isDesktopChatApp:function(){return window.workchat!==void 0},getAppID:function(){return window.workchat.appId},showWindow:function(){window.workchat.showWindow()},getScreenSharingSourceID:function(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function(){return window.workchat.stopScreenSharing()},suppressChatIfActiveOnDesktop:function(){return b("CurrentUser").isWorkUser()&&(b("PresenceViewerCapabilities").get()&b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP}};e.exports=a}),null);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FantaDispatcher","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkGalahadSettings","WorkplaceChatHelper","goURI","ifRequired","keyMirror","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,OPT_IN_OPEN_TAB_WITH_BLOCKEES:null,CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function j(a,c){var d=a?new(g||(g=b("URI")))(b("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(g||(g=b("URI")))(b("MessengerURIConstants").COMPOSE_SUBPATH);b("ifRequired")("BusinessURI.brands",function(a){return b("goURI")(a(d))},function(){return b("setTimeout")(function(){k.openTab(a,c)},100)})}var k={Types:i,openNewMessageTab:function(a,b,c){k.openTab(a,b,c,!0)},openTab:function(a,c,d,e,f){__p&&__p();var g=this;if((h||(h=b("Env"))).isCQuick){b("Bootloader").loadModules(["BlueCompatRouter"],function(b){b.startChat(a||"")},"FantaTabActions");return}if(b("CurrentUser").isWorkUser()&&b("WorkGalahadSettings").isGalahadEnabled){var k=b("ifRequired")("WorkGalahadChat",function(b){b.openThreadFromThreadID(a);return!0},function(){return!1});if(k)return}b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c,defaultText:d,isNewMessageTab:e,defaultPreview:f}),b("ifRequired")("FantaTabsReactApp",function(b){g._tryLoadSlimApp(a,c)},function(){g._tryLoadSlimApp(a,c,function(){return j(a,c)})})})},openInterstitialTab:function(a,c,d){var e=this;this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d}),b("ifRequired")("FantaTabsReactApp",function(b){e._tryLoadSlimAppWithInterstitialData(a,c,d)},function(){e._tryLoadSlimAppWithInterstitialData(a,c,d)})})},_tryLoadSlimApp:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(d){b("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB,tabID:a,entryPoint:c})})})},function(){return d&&d(a)})},_tryLoadSlimAppWithInterstitialData:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(e){b("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:i.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d})})})})},replaceTab:function(a,c){b("FantaDispatcher").dispatch({type:i.REPLACE_TAB,tabID:a,newTabID:c})},minimizeTab:function(a){b("FantaDispatcher").dispatch({type:i.MINIMIZE_TAB,tabID:a})},minimizeAllTabs:function(){b("FantaDispatcher").dispatch({type:i.MINIMIZE_ALL_TABS})},unminimizeTab:function(a){b("FantaDispatcher").dispatch({type:i.UNMINIMIZE_TAB,tabID:a})},optInOpenTabWithBlockees:function(a){b("FantaDispatcher").dispatch({type:i.OPT_IN_OPEN_TAB_WITH_BLOCKEES,tabID:a})},closeGroupEntranceWarningDialog:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG,tabID:a})},closeTab:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_TAB,tabID:a})},closeAllTabs:function(){b("FantaDispatcher").dispatch({type:i.CLOSE_ALL_TABS})},closeAndTabNext:function(a){b("FantaDispatcher").dispatch({type:i.CLOSE_AND_TAB_NEXT,tabID:a})},deleteTab:function(a){b("FantaDispatcher").dispatch({type:i.DELETE_TAB,tabID:a})},focusTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_TAB,tabID:a})},blurTab:function(a){b("FantaDispatcher").dispatch({type:i.BLUR_TAB,tabID:a})},hoveredTab:function(a){b("FantaDispatcher").dispatch({type:i.HOVERED_TAB,tabID:a})},unhoveredTab:function(a){b("FantaDispatcher").dispatch({type:i.UNHOVERED_TAB,tabID:a})},highlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:i.HIGHLIGHT_NEW_MESSAGE,tabId:a})},unhighlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:i.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})},setAllowedRaisedTabs:function(a){b("FantaDispatcher").dispatch({type:i.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})},loadFromData:function(a){if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;this.dispatchOrBootloadGetMessages(function(){a&&b("FantaDispatcher").dispatch({type:i.LOAD_FROM_DATA,tabData:a})})},focusNextTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_NEXT_TAB,event:a})},focusPreviousTab:function(a){b("FantaDispatcher").dispatch({type:i.FOCUS_PREVIOUS_TAB,event:a})},scrollBottomChanged:function(a,c,d){b("FantaDispatcher").dispatch({type:i.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:c,tabID:a,showUnseenMessages:d})},jumpToMessage:function(a,c){b("FantaDispatcher").dispatch({type:i.JUMP_TO_MESSAGE,mid:c,tabID:a})},wipeJumpToMessage:function(a){b("FantaDispatcher").dispatch({type:i.WIPE_JUMP_TO_MESSAGE,tabID:a})},setPageIndicatorDescription:function(a,c){b("FantaDispatcher").dispatch({type:i.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:c})},clearPageIndicatorDescription:function(a){b("FantaDispatcher").dispatch({type:i.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})},showUnseenMessages:function(a){b("FantaDispatcher").dispatch({type:i.SHOW_UNSEEN_MESSAGES,tabID:a})},setPermanentUri:function(a,c){b("FantaDispatcher").dispatch({type:i.SET_PERMANENT_URI,tabID:a,uri:c})},createNewNamedGroupChat:function(a,c){b("FantaDispatcher").dispatch({type:i.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:c})},dispatchOrBootloadGetMessages:function(a){b("ifRequired")("FantaReducersGetMessages",function(){a()},function(){b("ifRequired")("FantaAppStore",function(c){b("Bootloader").loadModules(["FantaReducersGetMessages"],function(b){c.addReducers(b),a()},"FantaTabActions")},function(){a()})})}};e.exports=k}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";e.exports={THREAD_INFO:"/ajax/mercury/thread_info.php",MARK_FOLDER_READ:"/ajax/mercury/mark_folder_as_read.php",CHANGE_READ_STATUS:"/ajax/mercury/change_read_status.php",MARK_SEEN:"/ajax/mercury/mark_seen.php",THREADLIST_INFO:"/ajax/mercury/threadlist_info.php",MARK_SPAM:"/ajax/mercury/mark_spam.php",UNMARK_SPAM:"/ajax/mercury/unmark_spam.php",UNREAD_THREADS:"/ajax/mercury/unread_threads.php",CHANGE_PINNED_STATUS:"/ajax/mercury/change_pinned_status.php",CHANGE_ARCHIVED_STATUS:"/ajax/mercury/change_archived_status.php",CHANGE_PAGE_FOLLOW_UP_STATUS:"/ajax/mercury/change_page_follow_up_status.php",DELETE_THREAD:"/ajax/mercury/delete_thread.php",DELETE_MESSAGES:"/ajax/mercury/delete_messages.php",DELIVERY_RECEIPTS:"/ajax/mercury/delivery_receipts.php",MOVE_THREAD:"/ajax/mercury/move_thread.php",CHANGE_MUTE_THREAD:"/ajax/mercury/change_mute_thread.php"}}),null);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}e.exports=a}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}e.exports=a}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","CurrentUser","FBIDCheck","LogHistory","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){__p&&__p();var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){__p&&__p();if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){__p&&__p();var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);i.log("send",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){__p&&__p();var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}l=function(){f.fetchAll(h,i,d,"fetch_threadlist").done(function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){__p&&__p();var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(a){var b=k[a].limit,c=k[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),n=new Set(g);h.forEach(function(a){if(n.has(a))return;i.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});g=Object.keys(l);var o=g.map(function(a){var b=l[a].limit,c=l[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),p=new Set(g);j.forEach(function(a){if(p.has(a))return;o.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var q=[].concat(i,o);b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){q.forEach(function(b){b.limit>21&&a.logFETCHING_MANY_MESSAGES(JSON.stringify(b))})},"MercuryServerDispatcher");d.fetchAll(f,q,m).done(function(a){__p&&__p();a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){__p&&__p();var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var d=this._batches.length-1;d>=0?c?this._batches[d].combineWithOlder(a,this._combineData):this._batches[d].combineWith(a,this._combineData):this._batches.push(new o(a));i.debug("batch",JSON.stringify({endpoint:this._endpoint}))}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){this._inFlight--;i.log("response",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var b=a.getPayload();l=b&&b.kill_chat;l&&i.log("killswitch_enabled",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));b&&b.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(b,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){this._inFlight--;i.error("error",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}));k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));a=this._mode;a==m.BATCH_SUCCESSIVE||a==m.BATCH_SUCCESSIVE_UNIQUE||a==m.BATCH_CONDITIONAL?this._batchSend():a==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("MercuryPayloadSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_PINNED_MESSAGES:"client_change-pinned_messages",CLIENT_CHANGE_PINNED_STATUS:"client_change-pinned_status",CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS:"client_change_page_follow_up_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",CLIENT_UPDATE_COMM_STATUS:"client_update_comm_status",CLIENT_UPDATE_COMM_ITEM_OWNER:"client_update_comm_item_owner",CLIENT_CHANGE_SAVED_MESSAGE_STATUS:"client_update_saved_message_status",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_PINNED_MESSAGES:"server_change-pinned_messages",SERVER_CHANGE_PINNED_STATUS:"server_change_pinned_status",SERVER_CHANGE_PAGE_FOLLOW_UP_STATUS:"server_change_page_follow_up_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"})}),null);
__d("bs_caml_builtin_exceptions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=["Out_of_memory",0];b=["Sys_error",-1];c=["Failure",-2];d=["Invalid_argument",-3];e=["End_of_file",-4];var g=["Division_by_zero",-5],h=["Not_found",-6],i=["Match_failure",-7],j=["Stack_overflow",-8],k=["Sys_blocked_io",-9],l=["Assert_failure",-10],m=["Undefined_recursive_module",-11];a.tag=248;b.tag=248;c.tag=248;d.tag=248;e.tag=248;g.tag=248;h.tag=248;i.tag=248;j.tag=248;k.tag=248;l.tag=248;m.tag=248;f.out_of_memory=a;f.sys_error=b;f.failure=c;f.invalid_argument=d;f.end_of_file=e;f.division_by_zero=g;f.not_found=h;f.match_failure=i;f.stack_overflow=j;f.sys_blocked_io=k;f.assert_failure=l;f.undefined_recursive_module=m}),null);
__d("bs_caml_array",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(c){b=c[1];a=c[0].length+d|0;continue}else return d}}function h(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(d){var f=d[0],g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d[1];b=e;continue}else return 0}}function c(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function d(a,c,d){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];a[c]=d;return 0}function e(a,c){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];return a[c]}function i(a,b){var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b;return c}function j(a){var b=new Array(a);for(var c=0,a=a-1|0;c<=a;++c)b[c]=0;return b}function k(b,c,d,e,a){if(e<=c){for(var f=0,h=a-1|0;f<=h;++f)d[f+e|0]=b[f+c|0];return 0}else{for(var f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0];return 0}}function l(a){return a.slice(0)}f.caml_array_dup=l;f.caml_array_sub=a;f.caml_array_concat=c;f.caml_make_vect=i;f.caml_make_float_vect=j;f.caml_array_blit=k;f.caml_array_get=e;f.caml_array_set=d}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);else if(h<0){c=b("bs_caml_array").caml_array_sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").caml_array_sub(d,0,f));continue}else return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d)}}function h(a,b,c){__p&&__p();switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function i(a,b){var c=a.length;if(c===1)return a(b);else return h(a,b,c)}function a(a){var b=a.length;if(b===1)return a;else return function(b){return i(a,b)}}function j(a,b,c,d){__p&&__p();switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function k(a,b,c){var d=a.length;if(d===2)return a(b,c);else return j(a,b,c,d)}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return k(a,b,c)}}function l(a,b,c,d,e){__p&&__p();switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function m(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else return l(a,b,c,d,e)}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return m(a,b,c,d)}}function n(a,b,c,d,e,f){__p&&__p();switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function o(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else return n(a,b,c,d,e,f)}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return o(a,b,c,d,e)}}function p(a,b,c,d,e,f,h){__p&&__p();switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function q(a,b,c,d,e,f){var g=a.length;if(g===5)return a(b,c,d,e,f);else return p(a,b,c,d,e,f,g)}function r(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return q(a,b,c,d,e,f)}}function s(a,b,c,d,e,f,h,i){__p&&__p();switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function t(a,b,c,d,e,f,g){var h=a.length;if(h===6)return a(b,c,d,e,f,g);else return s(a,b,c,d,e,f,g,h)}function u(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return t(a,b,c,d,e,f,g)}}function v(a,b,c,d,e,f,h,i,j){switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function w(a,b,c,d,e,f,g,h){var i=a.length;if(i===7)return a(b,c,d,e,f,g,h);else return v(a,b,c,d,e,f,g,h,i)}function x(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return w(a,b,c,d,e,f,g,h)}}function y(a,b,c,d,e,f,h,i,j,k){switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function z(a,b,c,d,e,f,g,h,i){var j=a.length;if(j===8)return a(b,c,d,e,f,g,h,i);else return y(a,b,c,d,e,f,g,h,i,j)}function A(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return z(a,b,c,d,e,f,g,h,i)}}f.app=g;f.curry_1=h;f._1=i;f.__1=a;f.curry_2=j;f._2=k;f.__2=c;f.curry_3=l;f._3=m;f.__3=d;f.curry_4=n;f._4=o;f.__4=e;f.curry_5=p;f._5=q;f.__5=r;f.curry_6=s;f._6=t;f.__6=u;f.curry_7=v;f._7=w;f.__7=x;f.curry_8=y;f._8=z;f.__8=A}),null);
__d("bs_belt_Id",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return{cmp:a.cmp}}function c(a){a=a.cmp;a=b("bs_curry").__2(a);return{cmp:a}}function d(a){return{cmp:a}}function e(a){a=b("bs_curry").__2(a);return{cmp:a}}function g(a){return{hash:a.hash,eq:a.eq}}function h(a){var c=a.hash;c=b("bs_curry").__1(c);a=a.eq;a=b("bs_curry").__2(a);return{hash:c,eq:a}}function i(a,b){return{hash:a,eq:b}}function j(a,c){a=b("bs_curry").__1(a);c=b("bs_curry").__2(c);return{hash:a,eq:c}}f.MakeComparableU=a;f.MakeComparable=c;f.comparableU=d;f.comparable=e;f.MakeHashableU=g;f.MakeHashable=h;f.hashableU=i;f.hashable=j}),null);
__d("bs_block",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b.tag=a;return b}f.__=a}),null);
__d("bs_js_types",["bs_block"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=typeof a;if(c==="undefined")return 3;else if(a===null)return 2;else if(c==="number")return b("bs_block").__(0,[a]);else if(c==="string")return b("bs_block").__(1,[a]);else if(c==="boolean")if(a===!0)return 1;else return 0;else if(c==="function")return b("bs_block").__(2,[a]);else if(c==="object")return b("bs_block").__(3,[a]);else return b("bs_block").__(4,[a])}function c(a,b){switch(b){case 0:return typeof a==="undefined";case 1:return a===null;case 2:return typeof a==="boolean";case 3:return typeof a==="number";case 4:return typeof a==="string";case 5:return typeof a==="function";case 6:return typeof a==="object";case 7:return typeof a==="symbol"}}f.test=c;f.classify=a}),null);
__d("FBID.bs",["invariant","bs_belt_Id","gkx","bs_js_types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){return b.localeCompare(a)|0}d=b("bs_belt_Id").MakeComparable({cmp:a});e=d.cmp;function h(a){if(b("gkx")("678626")){b("bs_js_types").test(a,4)||g(0,3515,a);a!=="0"||g(0,3516,a);var c=/^[0-9]+$/;c.test(a)||g(0,3517,a)}return a}function c(a){try{return h(a)}catch(a){return}}f.cmp=e;f.compare=a;f.ofString=c;f.ofStringExn=h}),null);
__d("MercuryParticipantTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend",SERVICE:"service",GUEST:"guest",PARENT_APPROVED_USER:"parent_approved_user",MESSAGE:"message",ASSISTANT_TYPEAHEAD:"assistant_typeahead"})}),null);
__d("MessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAN_UNSEND:"can_unsend",DENY_FOR_SPECIFIC_IDS:"deny_for_specific_ids",DENY_IF_THREAD_CONTAINS_PAU:"deny_if_thread_contains_pau",DENY_IF_THREAD_CONTAINS_WORK_USER:"deny_if_thread_contains_work_user",DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:"deny_if_thread_contains_work_user_failing_killswitch",DENY_IF_PAGE_THREAD:"deny_if_page_thread",DENY_IF_MARKETPLACE_THREAD:"deny_if_marketplace_thread",DENY_IF_CANNOT_LOAD_THREAD:"deny_if_cannot_load_thread",DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:"deny_if_canonical_thread_contains_blocked_users"})}),null);
__d("MessageThreadUnsendabilityStatus.bs",["MessageThreadUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageThreadUnsendabilityStatus").CAN_UNSEND;case"deny_for_specific_ids":return b("MessageThreadUnsendabilityStatus").DENY_FOR_SPECIFIC_IDS;case"deny_if_cannot_load_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_CANNOT_LOAD_THREAD;case"deny_if_marketplace_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_MARKETPLACE_THREAD;case"deny_if_page_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD;case"deny_if_thread_contains_pau":return b("MessageThreadUnsendabilityStatus").DENY_IF_THREAD_CONTAINS_PAU;default:return null}}f.fromNullableString=a}),null);
__d("MessagingThreadType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,TINCAN_ONE_TO_ONE:7,TINCAN_GROUP:8})}),null);
__d("MercuryAttachmentContentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",PDF:"attach:pdf",RICHTEXT:"attach:richtext",SPREADSHEET:"attach:spreadsheet",PRESENTATION:"attach:presentation",ARCHIVE:"attach:archive",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"})}),null);
__d("MercuryAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO:"audio",ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"})}),null);
__d("bs_caml_option",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];function h(a){__p&&__p();if(a===void 0){var b=[g,0];b.tag=256;return b}else if(a!==null&&a[0]===g){b=a[1]+1|0;b=[g,b];b.tag=256;return b}else return a}function a(a){if(a===null||a===void 0)return;else return h(a)}function b(a){if(a===void 0)return;else return h(a)}function c(a){if(a===null)return;else return h(a)}function i(a){if(a!==null&&a[0]===g){var b=a[1];if(b===0)return;else return[g,b-1|0]}else return a}function d(a){if(a===void 0)return;else return i(a)}function e(a){if(a===void 0)return;else return i(a)[1]}f.nullable_to_opt=a;f.undefined_to_opt=b;f.null_to_opt=c;f.valFromOption=i;f.some=h;f.option_get=d;f.option_get_unwrap=e}),null);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}function c(a,b){delete a[b];return 0}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function e(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=a[b[e]];return d}function g(a){__p&&__p();var b={};a=a;while(!0){var c=a;if(c){var d=c[0];b[d[0]]=d[1];a=c[1];continue}else return b}}function h(a){var b={},c=a.length;for(var d=0,c=c-1|0;d<=c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0,e=e-1|0;f<=e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=c;f.entries=d;f.values=e;f.fromList=g;f.fromArray=h;f.map=i}),null);
__d("MessageSharedMediaIDStore.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a,b){g[a]=b;return 0}function c(a){a=b("bs_js_dict").get(g,a);if(a!==void 0)return a;else return null}f._store=g;f.setMessageIDForAttachmentID=a;f.getMessageIDForAttachmentID=c}),null);
__d("LeadGenInfoFieldTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM:"CUSTOM",CITY:"CITY",COMPANY_NAME:"COMPANY_NAME",COUNTRY:"COUNTRY",DOB:"DOB",EMAIL:"EMAIL",GENDER:"GENDER",FIRST_NAME:"FIRST_NAME",FULL_NAME:"FULL_NAME",JOB_TITLE:"JOB_TITLE",LAST_NAME:"LAST_NAME",MARITIAL_STATUS:"MARITIAL_STATUS",PHONE:"PHONE",POST_CODE:"POST_CODE",PROVINCE:"PROVINCE",RELATIONSHIP_STATUS:"RELATIONSHIP_STATUS",STATE:"STATE",STREET_ADDRESS:"STREET_ADDRESS",ZIP:"ZIP",WORK_EMAIL:"WORK_EMAIL",MILITARY_STATUS:"MILITARY_STATUS",WORK_PHONE_NUMBER:"WORK_PHONE_NUMBER",STORE_LOOKUP:"STORE_LOOKUP",STORE_LOOKUP_WITH_TYPEAHEAD:"STORE_LOOKUP_WITH_TYPEAHEAD",DATE_TIME:"DATE_TIME",ID_CPF:"ID_CPF",ID_AR_DNI:"ID_AR_DNI",ID_CL_RUT:"ID_CL_RUT",ID_CO_CC:"ID_CO_CC",ID_EC_CI:"ID_EC_CI",ID_PE_DNI:"ID_PE_DNI",ID_MX_RFC:"ID_MX_RFC"})}),null);
__d("MNCommerceBubbleType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FB_RETAIL_RECEIPT:1,FB_RETAIL_CANCELLATION:2,FB_RETAIL_SHIPMENT:3,FB_RETAIL_SHIPMENT_TRACKING_EVENT_ETA:4,FB_RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:5,FB_RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:6,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:7,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:8,FB_RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:9,FB_RETAIL_SHIPMENT_ETA:10,FB_RETAIL_NOW_IN_STOCK:11,FB_RETAIL_AGENT_ITEM_SUGGESTION:12,FB_RETAIL_AGENT_ITEM_RECEIPT:13,FB_RETAIL_PROMOTIONAL_MSG:14})}),null);
__d("MNCommerceCallToActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN_NATIVE:1,OPEN_URL:2,POSTBACK:4,ACCOUNT_LINK:5,SHARE:7,PAYMENT:8,FACEBOOK_REPORT_A_PROBLEM:9,NAVIGATION:11,EXTENSIBLE_SHARE:12,OPEN_PAGE_ABOUT:14,OPEN_BRANDED_CAMERA:15,OPEN_THREAD:16,OPEN_MARKETPLACE_PROFILE_REPORT:17,OPEN_DIRECT_SEND_VIEW:18,BOOKING:19,BOOKING_ADD_TO_CALENDAR:20,ACCOUNT_UNLINK:21,SUBSCRIPTION_PRESELECT:10,OPEN_REACT_NATIVE_MINI_APP:13,OPEN_CANCEL_RIDE_MUTATION:3,MANAGE_MESSAGES:6})}),null);
__d("P2PPaymentRequestStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7})}),null);
__d("P2PTransferStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18,CANCELED_SENDER_CANCEL:19,PENDING_SENDER_IDV_REVIEW:20,PENDING_RECEIVER_IDV_REVIEW:21})}),null);
__d("PaymentModulesClient",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DONATION_P4P:"donation_p4p",MOR_DONATIONS:"mor_donations",INSTANT_EXPERIENCES:"instant_experiences",BUSINESS_PLATFORM_COMMERCE:"business_platform_commerce",MESSENGER_OMNIM:"messenger_omnim",MESSENGER_PLATFORM:"messenger_platform",PAGES_COMMERCE:"pages_commerce",MESSAGING_COMMERCE:"messaging_commerce",SHIPPING_LABEL:"shipping_label",SYNCHRONOUS_COMPONENT_FLOW:"synchronous_component_flow",PAGES_SOLUTION:"pages_solution",CHECKOUT_EXPERIENCES:"checkout_experiences",C2C_CHECKOUT_EXPERIENCES:"c2c_checkout_experiences",MOBILE_TOP_UP:"mobile_top_up",MOCK:"mock",ADVERTISER_SUBSCRIPTION:"advertiser_subscription",NMOR_FB_BROWSER_PAY:"fb_browser_payment"})}),null);
__d("ServicesCalendarSyncType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLIENT_ONLY:"client_only",NO_CALENDAR_SYNC:"no_calendar_sync",SERVER_CONTINUOUS:"server_continuous",SERVER_SINGLE:"server_single"})}),null);
__d("bs_belt_Option",["bs_curry","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else throw new Error("getExn")}function g(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function c(a,c,d){return g(a,c,b("bs_curry").__1(d))}function h(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function d(a,c){return h(a,b("bs_curry").__1(c))}function i(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function e(a,c){return i(a,b("bs_curry").__1(c))}function j(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function k(a){return a!==void 0}function l(a){return a===void 0}function m(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function n(a,c,d){return m(a,c,b("bs_curry").__2(d))}function o(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function p(a,c,d){return o(a,c,b("bs_curry").__2(d))}f.getExn=a;f.mapWithDefaultU=g;f.mapWithDefault=c;f.mapU=h;f.map=d;f.flatMapU=i;f.flatMap=e;f.getWithDefault=j;f.isSome=k;f.isNone=l;f.eqU=m;f.eq=n;f.cmpU=o;f.cmp=p}),null);
__d("bs_caml_int32",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c===0)throw b("bs_caml_builtin_exceptions").division_by_zero;return a/c|0}function c(a,c){if(c===0)throw b("bs_caml_builtin_exceptions").division_by_zero;return a%c}function d(a){return(a&255)<<8|(a&65280)>>>8}function e(a){return(a&255)<<24|(a&65280)<<8|(a&16711680)>>>8|(a&4278190080)>>>24}var g=Math.imul||function(a,b){b|=0;return((a>>16)*b<<16)+(a&65535)*b|0},h=e;f.div=a;f.mod_=c;f.caml_bswap16=d;f.caml_int32_bswap=e;f.caml_nativeint_bswap=h;f.imul=g}),null);
__d("bs_caml_primitive",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function g(a,b,c,d,e){__p&&__p();while(!0){var f=c;if(f<d){var g=a[f],h=b[f];if(g>h)return 1;else if(g<h)return-1;else{c=f+1|0;continue}}else return e}}function e(a,b){var c=a.length,d=b.length;if(c===d)return g(a,b,0,c,0);else if(c<d)return g(a,b,0,c,-1);else return g(a,b,0,d,1)}function h(a,b){__p&&__p();var c=a.length,d=b.length;if(c===d){d=a;a=b;b=0;c=c;while(!0){var e=b;if(e===c)return!0;else{var f=d[e],g=a[e];if(f===g){b=e+1|0;continue}else return!1}}}else return!1}function i(a,b){if(a)return b;else return a}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a<b)return a;else return b}function l(a,b){if(a<b)return a;else return b}function m(a,b){if(a<b)return a;else return b}function n(a,b){if(a<b)return a;else return b}function o(a,b){if(a)return a;else return b}function p(a,b){if(a>b)return a;else return b}function q(a,b){if(a>b)return a;else return b}function r(a,b){if(a>b)return a;else return b}function s(a,b){if(a>b)return a;else return b}function t(a,b){if(a>b)return a;else return b}var u=a,v=a;f.caml_bytes_compare=e;f.caml_bytes_equal=h;f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_nativeint_compare=u;f.caml_string_compare=d;f.caml_int32_compare=v;f.caml_bool_min=i;f.caml_int_min=j;f.caml_float_min=k;f.caml_string_min=l;f.caml_nativeint_min=m;f.caml_int32_min=n;f.caml_bool_max=o;f.caml_int_max=p;f.caml_float_max=q;f.caml_string_max=r;f.caml_nativeint_max=s;f.caml_int32_max=t}),null);
__d("bs_caml_utils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(b.repeat)return b.repeat(a);if(b.length==0||a==0)return"";if(b.length*a>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var c="";for(;;){(a&1)==1&&(c+=b);a>>>=1;if(a==0)break;b+=b}return c}f.repeat=a}),null);
__d("bs_caml_int64",["bs_caml_int32","bs_caml_utils","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[-2147483648,0],h=[2147483647,1],i=[0,1],j=[0,0],k=[-1,4294967295];function l(a){return(a&2147483648)!==0}function m(a,b){var c=b[1],d=a[1],e=d+c&4294967295;d=l(d)&&(l(c)||!l(e))||l(c)&&!l(e)?1:0;c=a[0]+b[0]+d&4294967295;return[c,e>>>0]}function n(a){var b=a[0]^-1;a=a[1]^-1;return[b,a>>>0]}function o(a,b){if(a[0]===b[0])return a[1]===b[1];else return!1}function a(a,b){if(b!==null)return o(a,b);else return!1}function c(a,b){if(b!==void 0)return o(a,b);else return!1}function d(a,b){if(b==null)return!1;else return o(a,b)}function p(a){if(o(a,g))return g;else return m(n(a),i)}function e(a,b){return m(a,p(b))}function q(a,b){if(b===0)return a;else{var c=a[1];if(b>=32)return[c<<(b-32|0),0];else{a=c>>>(32-b|0)|a[0]<<b;return[a,c<<b>>>0]}}}function r(a,b){__p&&__p();if(b===0)return a;else{var c=a[0],d=b-32|0;if(d===0)return[0,c>>>0];else if(d>0){var e=c>>>d;return[0,e>>>0]}else{e=c>>>b;c=c<<(-d|0)|a[1]>>>b;return[e,c>>>0]}}}function s(a,b){__p&&__p();if(b===0)return a;else{var c=a[0];if(b<32){var d=c>>b;a=c<<(32-b|0)|a[1]>>>b;return[d,a>>>0]}else{d=c>>(b-32|0);return[c>=0?0:-1,d>>>0]}}}function t(a){if(a[0]!==0||a[1]!==0)return!1;else return!0}function u(a,b){__p&&__p();while(!0){var c=b,d=a,e,f=d[0],h=0,i=0,k;if(f!==0||d[1]!==0)k=4;else return j;if(k===4)if(c[0]!==0||c[1]!==0)i=3;else return j;i===3&&(f!==-2147483648||d[1]!==0?h=2:e=c[1]);if(h===2){k=c[0];i=d[1];h=0;k!==-2147483648||c[1]!==0?h=3:e=i;if(h===3){h=c[1];if(f<0)if(k<0){b=p(c);a=p(d);continue}else return p(u(p(d),c));else if(k<0)return p(u(d,p(c)));else{d=f>>>16;c=f&65535;f=i>>>16;i=i&65535;var l=k>>>16;k=k&65535;var m=h>>>16;h=h&65535;var n,o,q,r=i*h;q=(r>>>16)+f*h;o=q>>>16;q=(q&65535)+i*m;o=o+(q>>>16)+c*h;n=o>>>16;o=(o&65535)+f*m;n+=o>>>16;o=(o&65535)+i*k;n+=o>>>16;o=o&65535;n=n+(d*h+c*m+f*k+i*l)&65535;d=o|n<<16;h=r&65535|(q&65535)<<16;return[d,h>>>0]}}}if((e&1)===0)return j;else return g}}function v(a){var c=b("bs_caml_int32").caml_int32_bswap(a[1]);a=b("bs_caml_int32").caml_int32_bswap(a[0]);return[c,a>>>0]}function w(a,b){return[a[0]^b[0],(a[1]^b[1])>>>0]}function x(a,b){return[a[0]|b[0],(a[1]|b[1])>>>0]}function y(a,b){return[a[0]&b[0],(a[1]&b[1])>>>0]}function z(a,b){var c=b[0],d=a[0];if(d>c)return!0;else if(d<c)return!1;else return a[1]>=b[1]}function A(a,b){return!o(a,b)}function B(a,b){return!z(a,b)}function C(a,b){if(a[0]>b[0])return!0;else if(a[0]<b[0])return!1;else return a[1]>b[1]}function D(a,b){return!C(a,b)}function E(a,b){if(z(a,b))return b;else return a}function F(a,b){if(C(a,b))return a;else return b}function G(a){return a[0]*4294967296+a[1]}function H(a){__p&&__p();if(isNaN(a)||!isFinite(a))return j;else if(a<=-9223372036854776e3)return g;else if(a+1>=9223372036854776e3)return h;else if(a<0)return p(H(-a));else{var b=a/4294967296|0;a=a%4294967296|0;return[b,a>>>0]}}function I(a,c){__p&&__p();while(!0){var d=c,e=a,f=e[0],h;if(d[0]!==0||d[1]!==0)h=2;else throw b("bs_caml_builtin_exceptions").division_by_zero;if(h===2)if(f!==-2147483648){if(f===0&&e[1]===0)return j}else if(e[1]===0)if(o(d,i)||o(d,k))return e;else if(o(d,g))return i;else{h=d[0];var l=s(e,1);l=q(I(l,d),1);var n;if(l[0]!==0||l[1]!==0)n=3;else if(h<0)return i;else return p(i);if(n===3){h=u(d,l);n=m(e,p(h));return m(l,I(n,d))}}h=d[0];if(h===-2147483648&&d[1]===0)return j;if(f<0)if(h<0){c=p(d);a=p(e);continue}else return p(I(p(e),d));else if(h<0)return p(I(e,p(d)));else{l=j;n=e;while(z(n,d)){f=b("bs_caml_primitive").caml_float_max(1,Math.floor(G(n)/G(d)));h=Math.ceil(Math.log(f)/Math.LN2);e=h<=48?1:Math.pow(2,h-48);h=H(f);var r=u(h,d);while(r[0]<0||C(r,n))f-=e,h=H(f),r=u(h,d);t(h)&&(h=i);l=m(l,h);n=m(n,p(r))}return l}}}function J(a,b){b=u(I(a,b),b);return m(a,p(b))}function K(a,b){var c=I(a,b);b=u(c,b);return[c,m(a,p(b))]}function L(a,c){var d=b("bs_caml_primitive").caml_nativeint_compare(a[0],c[0]);if(d===0)return b("bs_caml_primitive").caml_nativeint_compare(a[1],c[1]);else return d}function M(a){return[a<0?-1:0,a>>>0]}function N(a){return a[1]|0}function O(a){__p&&__p();var c=a[1];a=a[0];var d=function(a){return(a>>>0).toString(16)};if(a===0&&c===0)return"0";if(c!==0)if(a!==0){var e=d(c),f=8-e.length|0;if(f<=0)return d(a)+e;else return d(a)+(b("bs_caml_utils").repeat(f,"0")+e)}else return d(c);else return d(a)+"00000000"}function P(a){return[2147483647&a[0],a[1]]}function Q(a){return new Float64Array(new Int32Array([a[1],a[0]]).buffer)[0]}function R(a){a=new Int32Array(new Float64Array([a]).buffer);return[a[1],a[0]>>>0]}function S(a,b){var c=a.charCodeAt(b+4|0)<<32|a.charCodeAt(b+5|0)<<40|a.charCodeAt(b+6|0)<<48|a.charCodeAt(b+7|0)<<56;a=a.charCodeAt(b)|a.charCodeAt(b+1|0)<<8|a.charCodeAt(b+2|0)<<16|a.charCodeAt(b+3|0)<<24;return[c,a>>>0]}f.min_int=g;f.max_int=h;f.one=i;f.zero=j;f.not=n;f.of_int32=M;f.to_int32=N;f.add=m;f.neg=p;f.sub=e;f.lsl_=q;f.lsr_=r;f.asr_=s;f.is_zero=t;f.mul=u;f.xor=w;f.or_=x;f.and_=y;f.swap=v;f.ge=z;f.eq=o;f.neq=A;f.lt=B;f.gt=C;f.le=D;f.equal_null=a;f.equal_undefined=c;f.equal_nullable=d;f.min=E;f.max=F;f.to_float=G;f.of_float=H;f.div=I;f.mod_=J;f.compare=L;f.float_of_bits=Q;f.bits_of_float=R;f.get64=S;f.div_mod=K;f.to_hex=O;f.discard_sign=P}),null);
__d("bs_caml_format",["bs_caml_int32","bs_caml_int64","bs_caml_utils","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();if(a>=65)if(a>=97)if(a>=123)return-1;else return a-87|0;else if(a>=91)return-1;else return a-55|0;else if(a>57||a<48)return-1;else return a-48|0}function h(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function i(a){__p&&__p();var b=1,c=2,d=0,e=a.charCodeAt(d);switch(e){case 43:d=d+1|0;break;case 44:break;case 45:b=-1;d=d+1|0;break;default:}if(a[d]==="0"){e=a.charCodeAt(d+1|0);if(e>=89)if(e>=111){if(e<121)switch(e-111|0){case 0:c=0;d=d+2|0;break;case 6:d=d+2|0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 8:break;case 9:c=1;d=d+2|0;break}}else e===98&&(c=3,d=d+2|0);else if(e!==66){if(e>=79)switch(e-79|0){case 0:c=0;d=d+2|0;break;case 6:d=d+2|0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 8:break;case 9:c=1;d=d+2|0;break}}else c=3,d=d+2|0}return[d,b,c]}function a(a){__p&&__p();var c=i(a),d=c[0],e=h(c[2]),f=4294967295,j=a.length,k=d<j?a.charCodeAt(d):0;k=g(k);if(k<0||k>=e)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];var l=function(c,d){__p&&__p();while(!0){var h=d,i=c;if(h===j)return i;else{var k=a.charCodeAt(h);if(k===95){d=h+1|0;continue}else{k=g(k);if(k<0||k>=e)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];i=e*i+k;if(i>f)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];d=h+1|0;c=i;continue}}}};c=c[1]*l(k,d+1|0);l=c|0;if(e===10&&c!==l)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];return l}function c(a){__p&&__p();var c=i(a),d=c[2],e=c[0],f=b("bs_caml_int64").of_int32(h(d));c=b("bs_caml_int64").of_int32(c[1]);var j;switch(d){case 0:j=[536870911,4294967295];break;case 1:j=[268435455,4294967295];break;case 2:j=[429496729,2576980377];break;case 3:j=[2147483647,4294967295];break}var k=a.length;d=e<k?a.charCodeAt(e):0;d=b("bs_caml_int64").of_int32(g(d));if(b("bs_caml_int64").lt(d,[0,0])||b("bs_caml_int64").ge(d,f))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];var l=function(c,d){__p&&__p();while(!0){var e=d,h=c;if(e===k)return h;else{var i=a.charCodeAt(e);if(i===95){d=e+1|0;continue}else{i=b("bs_caml_int64").of_int32(g(i));if(b("bs_caml_int64").lt(i,[0,0])||b("bs_caml_int64").ge(i,f)||b("bs_caml_int64").gt(h,j))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];h=b("bs_caml_int64").add(b("bs_caml_int64").mul(f,h),i);d=e+1|0;c=h;continue}}}};c=b("bs_caml_int64").mul(c,l(d,e+1|0));l=b("bs_caml_int64").or_(c,[0,0]);if(b("bs_caml_int64").eq(f,[0,10])&&b("bs_caml_int64").neq(c,l))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];return l}function j(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10}}function k(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function l(a){__p&&__p();var c=a.length;if(c>31)throw[b("bs_caml_builtin_exceptions").invalid_argument,"format_int: format too long"];var d=["+","-"," ",!1,2,!1,0,!1,1,-1,"f"],e=0;while(!0){var f=e;if(f>=c)return d;else{var g=a.charCodeAt(f),h=0;if(g>=69)if(g>=88)if(g>=121)h=1;else switch(g-88|0){case 0:d[4]=1;d[7]=!0;e=f+1|0;continue;case 13:case 14:case 15:h=5;break;case 12:case 17:h=4;break;case 23:d[4]=0;e=f+1|0;continue;case 29:d[4]=2;e=f+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:h=1;break;case 32:d[4]=1;e=f+1|0;continue}else if(g>=72)h=1;else{d[5]=!0;d[7]=!0;d[10]=String.fromCharCode(k(g));e=f+1|0;continue}else switch(g){case 35:d[3]=!0;e=f+1|0;continue;case 32:case 43:h=2;break;case 45:d[0]="-";e=f+1|0;continue;case 46:d[9]=0;var i=f+1|0;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(i)())d[9]=(b("bs_caml_int32").imul(d[9],10)+a.charCodeAt(i)|0)-48|0,i=i+1|0;e=i;continue;case 33:case 34:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 47:h=1;break;case 48:d[2]="0";e=f+1|0;continue;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h=3;break;default:h=1}switch(h){case 1:e=f+1|0;continue;case 2:d[1]=String.fromCharCode(g);e=f+1|0;continue;case 3:d[6]=0;i=f;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(i)())d[6]=(b("bs_caml_int32").imul(d[6],10)+a.charCodeAt(i)|0)-48|0,i=i+1|0;e=i;continue;case 4:d[5]=!0;d[4]=2;e=f+1|0;continue;case 5:d[5]=!0;d[10]=String.fromCharCode(g);e=f+1|0;continue}}}}function m(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7];a=a[8];var k=b.length;h&&(a<0||d!=="-")&&(k=k+1|0);f&&(g===0?k=k+1|0:g===1&&(k=k+2|0));var l="";if(c==="+"&&e===" ")for(var m=k,n=i-1|0;m<=n;++m)l=l+e;h&&(a<0?l=l+"-":d!=="-"&&(l=l+d));f&&g===0&&(l=l+"0");f&&g===1&&(l=l+"0x");if(c==="+"&&e==="0")for(var m=k,n=i-1|0;m<=n;++m)l=l+e;l=j?l+b.toUpperCase():l+b;if(c==="-")for(var h=k,a=i-1|0;h<=a;++h)l=l+" ";return l}function d(a,c){__p&&__p();if(a==="%d")return String(c);else{a=l(a);a=a;c=c;c=c<0?a[5]?(a[8]=-1,-c):c>>>0:c;c=c.toString(j(a[4]));if(a[9]>=0){a[2]=" ";var d=a[9]-c.length|0;d>0&&(c=b("bs_caml_utils").repeat(d,"0")+c)}return m(a,c)}}function e(a,c){__p&&__p();a=l(a);c=a[5]&&b("bs_caml_int64").lt(c,[0,0])?(a[8]=-1,b("bs_caml_int64").neg(c)):c;var d="",e=a[4];switch(e){case 0:e=[0,8];var f="01234567";if(b("bs_caml_int64").lt(c,[0,0])){var g=b("bs_caml_int64").discard_sign(c);g=b("bs_caml_int64").div_mod(g,e);var h=b("bs_caml_int64").add([268435456,0],g[0]);g=g[1];d=String.fromCharCode(f.charCodeAt(g[1]|0))+d;while(b("bs_caml_int64").neq(h,[0,0])){var i=b("bs_caml_int64").div_mod(h,e);h=i[0];g=i[1];d=String.fromCharCode(f.charCodeAt(g[1]|0))+d}}else{i=b("bs_caml_int64").div_mod(c,e);g=i[0];h=i[1];d=String.fromCharCode(f.charCodeAt(h[1]|0))+d;while(b("bs_caml_int64").neq(g,[0,0])){i=b("bs_caml_int64").div_mod(g,e);g=i[0];h=i[1];d=String.fromCharCode(f.charCodeAt(h[1]|0))+d}}break;case 1:d=b("bs_caml_int64").to_hex(c)+d;break;case 2:i=[0,10];h="0123456789";if(b("bs_caml_int64").lt(c,[0,0])){g=(f=b("bs_caml_int64")).discard_sign(c);e=f.div_mod(g,i);g=f.div_mod(f.add([0,8],e[1]),i);f=f.add(f.add([214748364,3435973836],e[0]),g[0]);e=g[1];d=String.fromCharCode(h.charCodeAt(e[1]|0))+d;while(b("bs_caml_int64").neq(f,[0,0])){g=b("bs_caml_int64").div_mod(f,i);f=g[0];e=g[1];d=String.fromCharCode(h.charCodeAt(e[1]|0))+d}}else{g=b("bs_caml_int64").div_mod(c,i);e=g[0];f=g[1];d=String.fromCharCode(h.charCodeAt(f[1]|0))+d;while(b("bs_caml_int64").neq(e,[0,0])){c=b("bs_caml_int64").div_mod(e,i);e=c[0];f=c[1];d=String.fromCharCode(h.charCodeAt(f[1]|0))+d}}break}if(a[9]>=0){a[2]=" ";g=a[9]-d.length|0;g>0&&(d=b("bs_caml_utils").repeat(g,"0")+d)}return m(a,d)}function n(a,b){__p&&__p();a=l(a);var c=a[9]<0?6:a[9],d=b<0?(a[8]=-1,-b):b;b="";if(isNaN(d))b="nan",a[2]=" ";else if(isFinite(d)){var e=a[10];switch(e){case"e":b=d.toExponential(c);e=b.length;b[e-3|0]==="e"&&(b=b.slice(0,e-1|0)+("0"+b.slice(e-1|0)));break;case"f":b=d.toFixed(c);break;case"g":var f=c!==0?c:1;b=d.toExponential(f-1|0);e=b.indexOf("e");c=Number(b.slice(e+1|0))|0;if(c<-4||d>=1e21||d.toFixed().length>f){var g=e-1|0;while(b[g]==="0")g=g-1|0;b[g]==="."&&(g=g-1|0);b=b.slice(0,g+1|0)+b.slice(e);g=b.length;b[g-3|0]==="e"&&(b=b.slice(0,g-1|0)+("0"+b.slice(g-1|0)))}else{var h=f;if(c<0)h=h-(c+1|0)|0,b=d.toFixed(h);else while(function(){b=d.toFixed(h);return b.length>(f+1|0)}())h=h-1|0;if(h!==0){e=b.length-1|0;while(b[e]==="0")e=e-1|0;b[e]==="."&&(e=e-1|0);b=b.slice(0,e+1|0)}}break;default:}}else b="inf",a[2]=" ";return m(a,b)}function o(a,b,c){__p&&__p();if(!isFinite(a))return isNaN(a)?"nan":a>0?"infinity":"-infinity";var d=a==0&&1/a==-Infinity?1:a>=0?0:1;d&&(a=-a);var e=0;if(!(a==0))if(a<1)while(a<1&&e>-1022)a*=2,e--;else while(a>=2)a/=2,e++;var f=e<0?"":"+",g="";if(d)g="-";else switch(c){case 43:g="+";break;case 32:g=" ";break;default:break}if(b>=0&&b<13){d=Math.pow(2,b*4);a=Math.round(a*d)/d}c=a.toString(16);if(b>=0){d=c.indexOf(".");if(d<0)c+="."+"0".repeat(b);else{a=d+1+b;c.length<a?c+="0".repeat(a-c.length):c=c.substr(0,a)}}return g+"0x"+c+"p"+f+e.toString(10)}function p(a,b){__p&&__p();var c=+a;if(a.length>0&&c===c)return c;a=a.replace(/_/g,"");c=+a;if(a.length>0&&c===c||/^[+-]?nan$/i.test(a))return c;var d=/^ *([+-]?)0x([0-9a-f]+)\.?([0-9a-f]*)p([+-]?[0-9]+)/i.exec(a);if(d){var e=d[3].replace(/0+$/,""),f=parseInt(d[1]+d[2]+e,16);d=(d[4]|0)-4*e.length;c=f*Math.pow(2,d);return c}if(/^\+?inf(inity)?$/i.test(a))return Infinity;if(/^-inf(inity)?$/i.test(a))return-Infinity;throw b}function q(a){return p(a,[b("bs_caml_builtin_exceptions").failure,"float_of_string"])}var r=d,s=d,t=a,u=a;f.caml_format_float=n;f.caml_hexstring_of_float=o;f.caml_format_int=d;f.caml_nativeint_format=r;f.caml_int32_format=s;f.caml_float_of_string=q;f.caml_int64_format=e;f.caml_int_of_string=a;f.caml_int32_of_string=t;f.caml_int64_of_string=c;f.caml_nativeint_of_string=u}),null);
__d("bs_js_null_undefined",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){if(a==null)return a;else return b(a)}function c(a,b){if(a==null)return 0;else return b(a)}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a)}e=d;f.bind=a;f.iter=c;f.fromOption=d;f.from_opt=e}),null);
__d("bs_caml_bytes",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];return a[c]}function c(a,b,c,d){if(c>0){for(var e=b,c=(c+b|0)-1|0;e<=c;++e)a[e]=d;return 0}else return 0}function d(a){if(a<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.create"];var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=0;return c}function g(a,b,c,d,e){__p&&__p();if(e>0)if(a===c){var f=a,g=b,h=d,i=e;if(g<h){var j=(f.length-h|0)-1|0,k=i-1|0;k=j>k?k:j;for(var j=k;j>=0;--j)f[h+j|0]=f[g+j|0];return 0}else if(g>h){k=(f.length-g|0)-1|0;j=i-1|0;i=k>j?j:k;for(var j=0;j<=i;++j)f[h+j|0]=f[g+j|0];return 0}else return 0}else{k=a.length-b|0;if(e<=k){for(var g=0,h=e-1|0;g<=h;++g)c[d+g|0]=a[b+g|0];return 0}else{for(var j=0,i=k-1|0;j<=i;++j)c[d+j|0]=a[b+j|0];for(var f=k,g=e-1|0;f<=g;++f)c[d+f|0]=0;return 0}}else return 0}function e(a){__p&&__p();var b=a,c=0;a=a.length;var d="",e=a;if(c===0&&a<=4096&&a===b.length)return String.fromCharCode.apply(null,b);else{c=0;while(e>0){a=e<1024?e:1024;var f=new Array(a);g(b,c,f,0,a);d=d+String.fromCharCode.apply(null,f);e=e-a|0;c=c+a|0}return d}}function h(a,b,c,d,e){__p&&__p();if(e>0){var f=a.length-b|0;if(e<=f){for(var g=0,h=e-1|0;g<=h;++g)c[d+g|0]=a.charCodeAt(b+g|0);return 0}else{for(var g=0,h=f-1|0;g<=h;++g)c[d+g|0]=a.charCodeAt(b+g|0);for(var g=f,b=e-1|0;g<=b;++g)c[d+g|0]=0;return 0}}else return 0}function i(a){var b=a.length,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a.charCodeAt(d);return c}f.caml_create_bytes=d;f.caml_fill_bytes=c;f.get=a;f.bytes_to_string=e;f.caml_blit_bytes=g;f.caml_blit_string=h;f.bytes_of_string=i}),null);
__d("bs_char",["bs_caml_bytes","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a<0||a>255)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Char.chr"];return a}function c(a){__p&&__p();var c=0;if(a>=40)if(a!==92)c=a>=127?1:2;else return"\\\\";else if(a>=32)if(a>=39)return"\\'";else c=2;else if(a>=14)c=1;else switch(a){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:c=1;break;case 13:return"\\r"}switch(c){case 1:c=[0,0,0,0];c[0]=92;c[1]=48+(a/100|0)|0;c[2]=48+(a/10|0)%10|0;c[3]=48+a%10|0;return b("bs_caml_bytes").bytes_to_string(c);case 2:c=[0];c[0]=a;return b("bs_caml_bytes").bytes_to_string(c)}}function d(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function e(a){if(a>=97&&a<=122||a>=224&&a<=246||a>=248&&a<=254)return a-32|0;else return a}function g(a){if(a>=65&&a<=90)return a+32|0;else return a}function h(a){if(a>=97&&a<=122)return a-32|0;else return a}function i(a,b){return a-b|0}function j(a,b){return(a-b|0)===0}f.chr=a;f.escaped=c;f.lowercase=d;f.uppercase=e;f.lowercase_ascii=g;f.uppercase_ascii=h;f.compare=i;f.equal=j}),null);
__d("bs_bytes",["bs_char","bs_curry","bs_caml_bytes","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=b("bs_caml_bytes").caml_create_bytes(a);b("bs_caml_bytes").caml_fill_bytes(d,0,a,c);return d}function c(a,c){var d=b("bs_caml_bytes").caml_create_bytes(a);for(var e=0,a=a-1|0;e<=a;++e)d[e]=b("bs_curry")._1(c,e);return d}var g=[];function h(a){var c=a.length,d=b("bs_caml_bytes").caml_create_bytes(c);b("bs_caml_bytes").caml_blit_bytes(a,0,d,0,c);return d}function d(a){return b("bs_caml_bytes").bytes_to_string(h(a))}function e(a){return h(b("bs_caml_bytes").bytes_of_string(a))}function i(a,c,d){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.sub / Bytes.sub"];var e=b("bs_caml_bytes").caml_create_bytes(d);b("bs_caml_bytes").caml_blit_bytes(a,c,e,0,d);return e}function j(a,c,d){return b("bs_caml_bytes").bytes_to_string(i(a,c,d))}function k(a,c){__p&&__p();var d=a+c|0;a=a<0;c=c<0;var e=d<0;if(a)if(c&&!e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.extend"];else return d;else if(c)return d;else{if(e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.extend"];return d}}function l(a,c,d){d=k(k(a.length,c),d);var e=b("bs_caml_bytes").caml_create_bytes(d);c=c<0?[-c|0,0]:[0,c];var f=c[1];c=c[0];d=b("bs_caml_primitive").caml_int_min(a.length-c|0,d-f|0);d>0&&b("bs_caml_bytes").caml_blit_bytes(a,c,e,f,d);return e}function m(a,c,d,e){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.fill / Bytes.fill"];return b("bs_caml_bytes").caml_fill_bytes(a,c,d,e)}function n(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.blit"];return b("bs_caml_bytes").caml_blit_bytes(a,c,d,e,f)}function o(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.blit / Bytes.blit_string"];return b("bs_caml_bytes").caml_blit_string(a,c,d,e,f)}function p(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._1(a,c[d]);return 0}function q(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._2(a,d,c[d]);return 0}function r(a,c){if(a>=c)return a;else throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.concat"]}function s(a,b,c){__p&&__p();while(!0){var d=c,e=a;if(d){var f=d[1];d=d[0];if(f){c=f;a=r((d.length+b|0)+e|0,e);continue}else return d.length+e|0}else return e}}function t(a,c){__p&&__p();if(c){var d=a.length,e=b("bs_caml_bytes").caml_create_bytes(s(0,d,c)),f=0;a=a;d=d;c=c;while(!0){var h=c,i=f;if(h){var j=h[1];h=h[0];if(j){b("bs_caml_bytes").caml_blit_bytes(h,0,e,i,h.length);b("bs_caml_bytes").caml_blit_bytes(a,0,e,i+h.length|0,d);c=j;f=(i+h.length|0)+d|0;continue}else{b("bs_caml_bytes").caml_blit_bytes(h,0,e,i,h.length);return e}}else return e}}else return g}function u(a,c){var d=a.length,e=c.length,f=b("bs_caml_bytes").caml_create_bytes(d+e|0);b("bs_caml_bytes").caml_blit_bytes(a,0,f,0,d);b("bs_caml_bytes").caml_blit_bytes(c,0,f,d,e);return f}function v(a){a=a-9|0;if(a>4||a<0)return a===23;else return a!==2}function w(a){var b=a.length,c=0;while(c<b&&v(a[c]))c=c+1|0;b=b-1|0;while(b>=c&&v(a[b]))b=b-1|0;if(b>=c)return i(a,c,(b-c|0)+1|0);else return g}function x(a){__p&&__p();var c=0;for(var d=0,e=a.length-1|0;d<=e;++d){var f=a[d];if(f>=32){var g=f-34|0;g=g>58||g<0?g>=93?4:1:g>57||g<1?2:1}else g=f>=11?f!==13?4:2:f>=8?2:4;c=c+g|0}if(c===a.length)return h(a);else{f=b("bs_caml_bytes").caml_create_bytes(c);c=0;for(var g=0,d=a.length-1|0;g<=d;++g){e=a[g];var i=0;if(e>=35)e!==92?e>=127?i=1:f[c]=e:i=2;else if(e>=32)e>=34?i=2:f[c]=e;else if(e>=14)i=1;else switch(e){case 8:f[c]=92;c=c+1|0;f[c]=98;break;case 9:f[c]=92;c=c+1|0;f[c]=116;break;case 10:f[c]=92;c=c+1|0;f[c]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:i=1;break;case 13:f[c]=92;c=c+1|0;f[c]=114;break}switch(i){case 1:f[c]=92;c=c+1|0;f[c]=48+(e/100|0)|0;c=c+1|0;f[c]=48+(e/10|0)%10|0;c=c+1|0;f[c]=48+e%10|0;break;case 2:f[c]=92;c=c+1|0;f[c]=e;break}c=c+1|0}return f}}function y(a,c){var d=c.length;if(d===0)return c;else{var e=b("bs_caml_bytes").caml_create_bytes(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._1(a,c[f]);return e}}function z(a,c){var d=c.length;if(d===0)return c;else{var e=b("bs_caml_bytes").caml_create_bytes(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._2(a,f,c[f]);return e}}function A(a){return y(b("bs_char").uppercase_ascii,a)}function B(a){return y(b("bs_char").lowercase_ascii,a)}function C(a,c){if(c.length===0)return c;else{var d=h(c);d[0]=b("bs_curry")._1(a,c[0]);return d}}function D(a){return C(b("bs_char").uppercase_ascii,a)}function E(a){return C(b("bs_char").lowercase_ascii,a)}function F(a,c,d,e){__p&&__p();while(!0){var f=d;if(f>=c)throw b("bs_caml_builtin_exceptions").not_found;if(a[f]===e)return f;else{d=f+1|0;continue}}}function G(a,b){return F(a,a.length,0,b)}function H(a,b,c,d){__p&&__p();while(!0){var e=c;if(e>=b)return;else if(a[e]===d)return e;else{c=e+1|0;continue}}}function I(a,b){return H(a,a.length,0,b)}function J(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from / Bytes.index_from"];return F(a,e,c,d)}function K(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from_opt / Bytes.index_from_opt"];return H(a,e,c,d)}function L(a,c,d){__p&&__p();while(!0){var e=c;if(e<0)throw b("bs_caml_builtin_exceptions").not_found;if(a[e]===d)return e;else{c=e-1|0;continue}}}function M(a,b){return L(a,a.length-1|0,b)}function N(a,c,d){if(c<-1||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from / Bytes.rindex_from"];return L(a,c,d)}function O(a,b,c){__p&&__p();while(!0){var d=b;if(d<0)return;else if(a[d]===c)return d;else{b=d-1|0;continue}}}function P(a,b){return O(a,a.length-1|0,b)}function Q(a,c,d){if(c<-1||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from_opt / Bytes.rindex_from_opt"];return O(a,c,d)}function R(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.contains_from / Bytes.contains_from"];try{F(a,e,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}function S(a,b){return R(a,0,b)}function T(a,c,d){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];try{L(a,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}var U=b("bs_caml_primitive").caml_bytes_compare;function V(a){return y(b("bs_char").uppercase,a)}function W(a){return y(b("bs_char").lowercase,a)}function X(a){return C(b("bs_char").uppercase,a)}function Y(a){return C(b("bs_char").lowercase,a)}var Z=b("bs_caml_primitive").caml_bytes_equal,$=b("bs_caml_bytes").bytes_to_string,aa=b("bs_caml_bytes").bytes_of_string;f.make=a;f.init=c;f.empty=g;f.copy=h;f.of_string=e;f.to_string=d;f.sub=i;f.sub_string=j;f.extend=l;f.fill=m;f.blit=n;f.blit_string=o;f.concat=t;f.cat=u;f.iter=p;f.iteri=q;f.map=y;f.mapi=z;f.trim=w;f.escaped=x;f.index=G;f.index_opt=I;f.rindex=M;f.rindex_opt=P;f.index_from=J;f.index_from_opt=K;f.rindex_from=N;f.rindex_from_opt=Q;f.contains=S;f.contains_from=R;f.rcontains_from=T;f.uppercase=V;f.lowercase=W;f.capitalize=X;f.uncapitalize=Y;f.uppercase_ascii=A;f.lowercase_ascii=B;f.capitalize_ascii=D;f.uncapitalize_ascii=E;f.compare=U;f.equal=Z;f.unsafe_to_string=$;f.unsafe_of_string=aa}),null);
__d("bs_string",["bs_bytes","bs_curry","bs_caml_bytes","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").make(a,c))}function c(a,c){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").init(a,c))}function d(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").copy(b("bs_caml_bytes").bytes_of_string(a)))}function g(a,c,d){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").sub(b("bs_caml_bytes").bytes_of_string(a),c,d))}function h(a,c){if(a>=c)return a;else throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.concat"]}function i(a,b,c){__p&&__p();while(!0){var d=c,e=a;if(d){var f=d[1];d=d[0];if(f){c=f;a=h((d.length+b|0)+e|0,e);continue}else return d.length+e|0}else return e}}function j(a,c,d,e,f){__p&&__p();while(!0){var g=f,h=c;if(g){var i=g[1];g=g[0];if(i){b("bs_caml_bytes").caml_blit_string(g,0,a,h,g.length);b("bs_caml_bytes").caml_blit_string(d,0,a,h+g.length|0,e);f=i;c=(h+g.length|0)+e|0;continue}else{b("bs_caml_bytes").caml_blit_string(g,0,a,h,g.length);return a}}else return a}}function e(a,c){if(c){var d=a.length;return b("bs_caml_bytes").bytes_to_string(j(b("bs_caml_bytes").caml_create_bytes(i(0,d,c)),0,a,d,c))}else return""}function k(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._1(a,c.charCodeAt(d));return 0}function l(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._2(a,d,c.charCodeAt(d));return 0}function m(a,c){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").map(a,b("bs_caml_bytes").bytes_of_string(c)))}function n(a,c){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").mapi(a,b("bs_caml_bytes").bytes_of_string(c)))}function o(a){a=a-9|0;if(a>4||a<0)return a===23;else return a!==2}function p(a){if(a===""||!(o(a.charCodeAt(0))||o(a.charCodeAt(a.length-1|0))))return a;else return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").trim(b("bs_caml_bytes").bytes_of_string(a)))}function q(a){__p&&__p();var c=function(b){__p&&__p();while(!0){var c=b;if(c>=a.length)return!1;else{var d=a.charCodeAt(c);if(d>=32){d=d-34|0;if(d>58||d<0)if(d>=93)return!0;else{b=c+1|0;continue}else if(d>57||d<1)return!0;else{b=c+1|0;continue}}else return!0}}};if(c(0))return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").escaped(b("bs_caml_bytes").bytes_of_string(a)));else return a}function r(a,c,d,e){__p&&__p();while(!0){var f=d;if(f>=c)throw b("bs_caml_builtin_exceptions").not_found;if(a.charCodeAt(f)===e)return f;else{d=f+1|0;continue}}}function s(a,b){return r(a,a.length,0,b)}function t(a,b,c,d){__p&&__p();while(!0){var e=c;if(e>=b)return;else if(a.charCodeAt(e)===d)return e;else{c=e+1|0;continue}}}function u(a,b){return t(a,a.length,0,b)}function v(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from / Bytes.index_from"];return r(a,e,c,d)}function w(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from_opt / Bytes.index_from_opt"];return t(a,e,c,d)}function x(a,c,d){__p&&__p();while(!0){var e=c;if(e<0)throw b("bs_caml_builtin_exceptions").not_found;if(a.charCodeAt(e)===d)return e;else{c=e-1|0;continue}}}function y(a,b){return x(a,a.length-1|0,b)}function z(a,c,d){if(c<-1||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from / Bytes.rindex_from"];return x(a,c,d)}function A(a,b,c){__p&&__p();while(!0){var d=b;if(d<0)return;else if(a.charCodeAt(d)===c)return d;else{b=d-1|0;continue}}}function B(a,b){return A(a,a.length-1|0,b)}function C(a,c,d){if(c<-1||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from_opt / Bytes.rindex_from_opt"];return A(a,c,d)}function D(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.contains_from / Bytes.contains_from"];try{r(a,e,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}function E(a,b){return D(a,0,b)}function F(a,c,d){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];try{x(a,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}function G(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").uppercase_ascii(b("bs_caml_bytes").bytes_of_string(a)))}function H(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").lowercase_ascii(b("bs_caml_bytes").bytes_of_string(a)))}function I(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").capitalize_ascii(b("bs_caml_bytes").bytes_of_string(a)))}function J(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").uncapitalize_ascii(b("bs_caml_bytes").bytes_of_string(a)))}var K=b("bs_caml_primitive").caml_string_compare;function L(a,b){var c=0,d=b.length;for(var e=b.length-1|0;e>=0;--e)b.charCodeAt(e)===a&&(c=[g(b,e+1|0,(d-e|0)-1|0),c],d=e);return[g(b,0,d),c]}function M(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").uppercase(b("bs_caml_bytes").bytes_of_string(a)))}function N(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").lowercase(b("bs_caml_bytes").bytes_of_string(a)))}function O(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").capitalize(b("bs_caml_bytes").bytes_of_string(a)))}function P(a){return b("bs_caml_bytes").bytes_to_string(b("bs_bytes").uncapitalize(b("bs_caml_bytes").bytes_of_string(a)))}var Q=b("bs_bytes").fill,R=b("bs_bytes").blit_string;function S(a,b){return a===b}f.make=a;f.init=c;f.copy=d;f.sub=g;f.fill=Q;f.blit=R;f.concat=e;f.iter=k;f.iteri=l;f.map=m;f.mapi=n;f.trim=p;f.escaped=q;f.index=s;f.index_opt=u;f.rindex=y;f.rindex_opt=B;f.index_from=v;f.index_from_opt=w;f.rindex_from=z;f.rindex_from_opt=C;f.contains=E;f.contains_from=D;f.rcontains_from=F;f.uppercase=M;f.lowercase=N;f.capitalize=O;f.uncapitalize=P;f.uppercase_ascii=G;f.lowercase_ascii=H;f.capitalize_ascii=I;f.uncapitalize_ascii=J;f.compare=K;f.equal=S;f.split_on_char=L}),null);
__d("MessengerAttachmentTransformer.bs",["fbt","bs_caml_primitive","MercuryAttachmentType","MessageSharedMediaIDStore.bs","MercuryAttachmentContentType","MessengerStoryAttachmentTransformer.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();if(a.is_malicious)return{app_attribution:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,mime_type:null,metadata:null,name:null,preview_height:null,preview_url:null,preview_width:null,rel:null,share:null,thumbnail_url:null,url:null,attach_type:b("MercuryAttachmentType").ERROR,error_msg:g._("T\u1ec7p \u0111\u00ednh k\u00e8m n\u00e0y \u0111\u00e3 b\u1ecb \u0111\u00e1nh d\u1ea5u l\u00e0 \u0111\u1ed9c h\u1ea1i."),message_file_fbid:null,url_shimhash:null,url_skipshim:null,preview:null};else{var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}e=a.url;return{app_attribution:d,icon_type:a.content_type,mime_type:a.mimetype,metadata:null,name:a.filename,preview_height:null,preview_url:a.preview_url,preview_width:null,rel:"ignore",share:null,thumbnail_url:null,url:e==null?null:e,attach_type:b("MercuryAttachmentType").FILE,error_msg:void 0,message_file_fbid:a.message_file_fbid,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim,preview:a.preview}}}function i(a,c,d){__p&&__p();var e=a.chat_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=e[0],g=a.chat_image;g=g==null?null:{width:g.width,height:g.height};var h=a.large_image;h=h==null?[null,null]:[h.uri,{width:h.width,height:h.height}];var i=a.inbox_image;i=i==null?[null,null]:[i.uri,{width:i.width,height:i.height}];var j=a.attribution_app,k;if(j==null)k=null;else{var l=j.square_logo;k={id:j.id,icon_url:l==null?null:l.uri,metadata:a.attribution_metadata,name:j.name}}return{app_attribution:k,attach_type:b("MercuryAttachmentType").VIDEO,name:a.filename,url:a.playable_url,rel:"async",preview_url:f,preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").VIDEO,metadata:{fbid:a.legacy_attachment_id,render_as_sticker:a.video_type==="SPEAKING_STICKER",dimensions:{width:a.original_dimensions.x,height:a.original_dimensions.y},duration:a.playable_duration_in_ms,large_size:h[1],large_preview:h[0],chat_size:g,chat_preview:f,inbox_size:i[1],inbox_preview:i[0],pageid:d?c:void 0},thumbnail_url:f,share:null}}function j(a){var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}return{app_attribution:d,attach_type:b("MercuryAttachmentType").FILE,name:a.filename,url:a.playable_url,rel:"ignore",preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").MUSIC,metadata:{duration:a.playable_duration_in_ms,isVoicemail:a.is_voicemail?"1":"0",type:a.audio_type==="VOICE_MESSAGE"?"fb_voice_message":a.audio_type==="VOICE_MESSAGE_WITH_TRANSCRIPT"?"fb_voice_message_with_transcript":"file_attachment"},thumbnail_url:null,share:null,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}}function k(a,c,d){__p&&__p();var e=a.preview_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=a.animated_image;f=f==null?null:f.uri;var g=a.attribution_app,h;if(g==null)h=null;else{var i=g.square_logo;h={id:g.id,icon_url:i==null?null:i.uri,metadata:a.attribution_metadata,name:g.name}}return{app_attribution:h,attach_type:b("MercuryAttachmentType").ANIMATED_IMAGE,name:a.filename,url:f,rel:"async",preview_url:e[0],preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,image:f,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y)),pageid:d?c:void 0},thumbnail_url:f,share:null}}function l(a){__p&&__p();var c=a.original_extension==="gif"?b("MercuryAttachmentType").ANIMATED_IMAGE:a.render_as_sticker?b("MercuryAttachmentType").THIRDPARTYSTICKER:b("MercuryAttachmentType").PHOTO,d=a.preview;d=d==null?[null,null,null]:[d.uri,d.width,d.height];if(c===b("MercuryAttachmentType").PHOTO){var e=a.large_preview;e=e==null?[null,null,null]:[e.uri,e.width,e.height]}else e=[null,null,null];var f=a.attribution_app,g;if(f==null)g=null;else{var h=f.square_logo;g={id:f.id,icon_url:h==null?null:h.uri,metadata:a.attribution_metadata,name:f.name}}h=a.thumbnail;return{app_attribution:g,attach_type:c,blurred_image_uri:a.blurred_image_uri,name:a.filename,url:null,rel:"async",preview_url:d[0],preview_width:d[1],preview_height:d[2],large_preview_url:e[0],large_preview_width:e[1],large_preview_height:e[2],icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y))},thumbnail_url:h==null?null:h.uri,share:null,photo_encodings:a.photo_encodings}}function m(a,c){__p&&__p();var d=a,e=c;if(a>=c){a=b("bs_caml_primitive").caml_float_min(120,d/2);c=a/(d/2);return[a|0,e/2*c|0]}else{a=b("bs_caml_primitive").caml_float_min(120,e/2);c=a/(e/2);return[d/2*c|0,a|0]}}function n(a){var c=m(a.width,a.height),d=a.pack,e=a.sprite_image,f=a.sprite_image_2x,g=a.padded_sprite_image,h=a.padded_sprite_image_2x;return{app_attribution:null,attach_type:b("MercuryAttachmentType").STICKER,name:null,url:a.url,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,metadata:{accessibilityLabel:a.label,stickerID:a.id,packID:d==null?null:d.id,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerRow:a.frame_count>1?a.frames_per_row:1,framesPerCol:a.frame_count>1?a.frames_per_column:1,height:c[1],width:c[0],spriteURI:e==null?null:e.uri,spriteURI2x:f==null?null:f.uri,paddedSpriteURI:g==null?null:g.uri,paddedSpriteURI2x:h==null?null:h.uri,thumbnail_url:null,share:null}}}function o(a,c){if(c==null)return 0;else return b("MessageSharedMediaIDStore.bs").setMessageIDForAttachmentID(a,c)}function a(a,c,d,e){__p&&__p();var f=[],g={id:"",pack:null,label:"",frame_count:0,frame_rate:0,frames_per_row:0,frames_per_column:0,height:0,padded_sprite_image:null,padded_sprite_image_2x:null,sprite_image_2x:null,sprite_image:null,url:null,width:0},m=c.extensible_attachment,p;if(m==null)p=g;else{m=m.story_attachment;if(m==null)p=g;else{m=m.media;p=m==null?g:{id:m.id,pack:m.pack,label:m.label,frame_count:m.frame_count,frame_rate:m.frame_rate,frames_per_row:m.frames_per_row,frames_per_column:m.frames_per_column,height:m.height,padded_sprite_image:m.padded_sprite_image,padded_sprite_image_2x:m.padded_sprite_image_2x,sprite_image_2x:m.sprite_image_2x,sprite_image:m.sprite_image,url:m.url,width:m.width}}}g=p.id;!(g==null)&&g!==""&&f.push(n(p));m=c.extensible_attachment;m==null||f.push(b("MessengerStoryAttachmentTransformer.bs").getExtensibleAttachmentPayload(a,m));g=c.sticker;g==null||f.push(n(g));p=c.blob_attachments;p==null||p.forEach(function(b){__p&&__p();switch(b.tag|0){case 0:var c=b[0];o(c.legacy_attachment_id,d);f.push(l(c));return 0;case 1:c=b[0];o(c.legacy_attachment_id,d);f.push(k(c,a,e));return 0;case 2:f.push(j(b[0]));return 0;case 3:c=b[0];o(c.legacy_attachment_id,d);f.push(i(c,a,e));return 0;case 4:f.push(h(b[0]));return 0}});return f}f._getFilePayload=h;f._getVideoPayload=i;f._getAudioPayload=j;f._getAnimatedImagePayload=k;f._getImagePayload=l;f._getStickerDimensions=m;f._getStickerPayload=n;f._storeAttachmentMapping=o;f.transformAttachment=a}),null);
__d("MessengerGroupAdminModelStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUIRED:"required",OPTIONAL:"optional",NOT_SUPPORTED:"not_supported"})}),null);
__d("MessengerGroupAdminModelStatus.bs",["MessengerGroupAdminModelStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a==null)return null;else{a=a.toUpperCase();switch(a){case"NOT_SUPPORTED":return b("MessengerGroupAdminModelStatus").NOT_SUPPORTED;case"OPTIONAL":return b("MessengerGroupAdminModelStatus").OPTIONAL;case"REQUIRED":return b("MessengerGroupAdminModelStatus").REQUIRED;default:return null}}}f.fromNullableString=a}),null);
__d("MessengerGroupAdminType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGULAR_ADMIN:0,GROUP_CREATOR:1,CHAT_SUPER_ADMIN:2})}),null);
__d("MessengerGroupThreadSubType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14})}),null);
__d("MessengerGroupsSyncStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING_OPT_IN:"PENDING_OPT_IN",OPT_IN:"OPT_IN",PENDING_OPT_OUT:"PENDING_OPT_OUT",OPT_OUT:"OPT_OUT",UNSET:"UNSET",UNSUPPORTED:"UNSUPPORTED"})}),null);
__d("MessengerGroupsSyncStatus.bs",["MessengerGroupsSyncStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"OPT_IN":return b("MessengerGroupsSyncStatus").OPT_IN;case"OPT_OUT":return b("MessengerGroupsSyncStatus").OPT_OUT;case"PENDING_OPT_IN":return b("MessengerGroupsSyncStatus").PENDING_OPT_IN;case"PENDING_OPT_OUT":return b("MessengerGroupsSyncStatus").PENDING_OPT_OUT;case"UNSET":return b("MessengerGroupsSyncStatus").UNSET;case"UNSUPPORTED":return b("MessengerGroupsSyncStatus").UNSUPPORTED;default:return null}}f.fromNullableString=a}),null);
__d("InstantGameUpdateXMATUpdateType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",GAME_SCORE:"game_score",CUSTOM_MESSAGE:"custom_message"})}),null);
__d("MNCommerceMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",ROBOT_TEXT:"robot_text",LOCATION:"location",FORCED_FETCH_MESSAGE:"forced_fetch_message",SENDER_ACTION:"sender_action",RETAIL_PRODUCT_SUBSCRIPTION:"retail_product_subscription",RETAIL_PROMOTION:"retail_promotion",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_SHIPMENT:"retail_shipment",SHIPMENT_TRACKING_EVENT:"shipment_tracking_event",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_CHECKIN:"airline_checkin",AIRLINE_BOARDINGPASS:"airline_boardingpass",AIRLINE_UPDATE:"airline_update",AIRLINE_ITINERARY:"airline_itinerary",CONTENT_SUBSCRIPTION:"content_subscription",AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble",NON_AD:"non_ad",UNKNOWN:"unknown",OTHER:"other",TEMPLATE:"template",OPEN_GRAPH:"open_graph",GENERIC:"generic",LIST:"list",COMPACT_LIST:"compact_list",BUTTON:"button",RECEIPT:"receipt",GENERIC_LEGACY:"generic_legacy",ICE_BREAKER:"ice_breaker",FALLBACK:"fallback",RIDE_INTENT:"ride_intent",RIDE_SIGNUP:"ride_signup",RIDE_WELCOME:"ride_welcome",RIDE_ORDER_CONFIRMATION:"ride_order_confirmation",RIDE_REQUESTED:"ride_requested",RIDE_DRIVER_ON_THE_WAY:"ride_driver_on_the_way",RIDE_NO_DRIVER:"ride_no_driver",RIDE_DRIVER_ARRIVING:"ride_driver_arriving",RIDE_DRIVER_CANCELED:"ride_driver_canceled",RIDE_RIDER_CANCELED:"ride_rider_canceled",RIDE_COMPLETE:"ride_complete",RIDE_ADMIN_MESSAGE:"ride_admin_message",RIDE_RECEIPT:"ride_receipt",RIDE_REENGAGEMENT_FIRST_RIDE:"ride_reengagement_first_ride",GET_RIDE:"give_get_ride",GIVE_RIDE:"send_give_get_ride",REFERER_PROMO:"referer_promo",INSTANT_GAMES_SHARE:"instant_games_share",INSTANT_GAMES_SCORE:"instant_games_score",INSTANT_GAMES_LIVE_STREAM:"instant_games_live_stream",INSTANT_GAMES_CUSTOM_UPDATE:"instant_games_custom_update",INSTANT_GAMES_CUSTOM_UPDATE_MEDIA:"instant_games_custom_update_media",INSTANT_GAMES_TOURNAMENT_UPDATE:"instant_games_tournament_update",LINK:"link_admin_message",UNLINK:"unlink_admin_message",BLOCK_ALL:"block_all_admin_message",UNBLOCK_ALL:"unblock_all_admin_message",BLOCK_PROMOTION:"block_promotion_admin_message",UNBLOCK_PROMOTION:"unblock_promotion_admin_message",INITIAL_PROMOTION:"initial_promotion_admin_message",WEAK_CONSENT_ADMIN_MESSAGE:"weak_consent_admin_message",MESSENGER_TEAM_BOT_MESSAGE:"messenger_team_bot",MESSENGER_BOT_BASE_GENERIC:"messenger_bot_base_generic",COMMERCE_COMPACT_LIST:"commerce_compact_list",FEEDBACK:"feedback",FORM_PROGRESS:"form_progress",MEDIA:"media",PLACE_CARD:"place_card"})}),null);
__d("MercuryActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_GROUP_ADMINS:"ma-type:add_group_admins",ADD_PARTICIPANTS:"ma-type:add-participants",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",BLOCK_STATUS_CHANGED:"ma-type:block-status-changed",BLURRED_IMAGE_STATUS:"ma-type:blurred-image-status",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FLAG:"ma-type:change_flag",CHANGE_FOLDER:"ma-type:change-folder",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",CHANGE_PAGE_FOLLOW_UP_STATUS:"ma-type:change-page-follow-up-status",CHANGE_PINNED_STATUS:"ma-type:change-pinned-status",CHANGE_READ_STATUS:"ma-type:change_read_status",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CREATE_OMNI_M_SUGGESTIONS:"ma-type:create-omni-m-suggestions",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_MONTAGE_MESSAGES:"ma-type:delete-montage-messages",DELETE_THREAD:"ma-type:delete-thread",DESCRIPTION_CHANGED:"ma-type:description-changed",EVENT_RSVP_CHANGED:"ma-type:event-rsvp-changed",GROUPS_SYNC_METADATA_UPDATE:"ma-type:groups-sync-metadata-update",GROUPS_SYNC_STATUS_CHANGED:"ma-type:groups-sync-status-changed",IS_PIN_PROTECTED:"ma-type:is_pin_protected",JOINABLE_MODE:"ma-type:joinable-mode",LIVE_LOCATION_UPDATE:"ma-type:live-location-update",LOG_MESSAGE:"ma-type:log-message",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",MONTAGE_DIRECT_EXPIRE:"ma-type:montage-direct-expire",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",MUTATE_TAGS:"ma-type:mutate_tags",NEW_MONTAGE_MESSAGE:"ma-type:new-montage-message",PIN_MESSAGE:"ma-type:pin-message",PROMOTE_GROUP_ADMINS:"ma-type:promote-group-admins",REACTION_UPDATE:"ma-type:reaction-update",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",REMOVE_MESSAGE:"ma-type:remove-message",REPLACE_MESSAGE:"ma-type:replace-message",SEND_MESSAGE:"ma-type:send-message",UNPIN_MESSAGE:"ma-type:unpin-message",UNSUBSCRIBE_STATUS_UPDATE:"ma-type:unsubscribe-status-update",UNWRAP_MESSAGE:"ma-type:unwrap-message",UPDATE_COMM_ITEM_OWNER:"ma-type:update-comm-item-owner",UPDATE_COMM_STATUS:"ma-type:update-comm-status",UPDATE_CONNECTIVITY_STATUS:"ma-type:update-connectivity-status",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UPDATE_JOINABLE_LINK:"ma-type:update-joinable-link",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data",UPDATE_SNIPPET:"ma-type:update-snippet",UPDATE_THREAD_THEME:"ma-type:update-thread-theme",USER_GENERATED_MESSAGE:"ma-type:user-generated-message"})}),null);
__d("MercuryLogMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"})}),null);
__d("MessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAN_UNSEND:"can_unsend",DENY_LOG_MESSAGE:"deny_log_message",DENY_TOMBSTONE_MESSAGE:"deny_tombstone_message",DENY_FOR_NON_SENDER:"deny_for_non_sender",DENY_P2P_PAYMENT:"deny_p2p_payment",DENY_STORY_REACTION:"deny_story_reaction",DENY_BLOB_ATTACHMENT:"deny_blob_attachment",DENY_MESSAGE_NOT_FOUND:"deny_message_not_found"})}),null);
__d("MessageUnsendabilityStatus.bs",["MessageUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageUnsendabilityStatus").CAN_UNSEND;case"deny_blob_attachment":return b("MessageUnsendabilityStatus").DENY_BLOB_ATTACHMENT;case"deny_for_non_sender":return b("MessageUnsendabilityStatus").DENY_FOR_NON_SENDER;case"deny_log_message":return b("MessageUnsendabilityStatus").DENY_LOG_MESSAGE;case"deny_p2p_payment":return b("MessageUnsendabilityStatus").DENY_P2P_PAYMENT;case"deny_story_reaction":return b("MessageUnsendabilityStatus").DENY_STORY_REACTION;case"deny_tombstone_message":return b("MessageUnsendabilityStatus").DENY_TOMBSTONE_MESSAGE;default:return null}}f.fromNullableString=a}),null);
__d("MessagingGenericAdminTextType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALOHA_AUTOCONNECT_INVITED:"aloha_autoconnect_invited",ALOHA_CONTACT_ADDED:"aloha_contact_added",ALOHA_CONTACT_ADDED_TO_ALOHA_PROXY_USER:"aloha_contact_added_to_aloha_proxy_user",ALOHA_CONTACT_REMOVED:"aloha_contact_removed",ALOHA_INVITE_OWNER_ACCEPT:"aloha_invite_owner_accept",ALOHA_INVITE_OWNER_DECLINE:"aloha_invite_owner_decline",ALOHA_MEDIA_ADDED:"aloha_media_added",ALOHA_MEDIA_SENT:"aloha_media_sent",ALOHA_VISUAL_MEDIA_SENT:"aloha_visual_media_sent",ALOHA_OWNER_INVITED:"aloha_owner_invited",ALOHA_PROXY_USER_NAME_SET:"aloha_proxy_user_name_set",ALOHA_PROXY_USER_PROFILE_PHOTO_SET:"aloha_proxy_user_profile_photo_set",ALOHA_WIFI_CREDENTIALS_SET:"aloha_wifi_credentials_set",ALOHA_USER_JOINED_CALL_ON_ALOHA:"aloha_user_joined_call_on_aloha",ALOHA_CALL_ENDED_ON_ALOHA:"aloha_call_ended_on_aloha",ALOHA_CALL_INVITE:"aloha_call_invite",BCMP_RESPOND_TO_PROJECT_BRIEF:"bcmp_respond_to_project_brief",MADE_POLL_VOTE:"made_poll_vote",GROUP_POLL:"group_poll",GENERIC_NEW_CONNECTION:"generic_new_connection",CONFIRM_FRIEND_REQUEST:"confirm_friend_request",THREAD_CUSTOMIZATION_UPSELL:"thread_customization_upsell",PHONE_CONTACT_UPLOAD:"phone_contact_upload",RELATIONSHIP_CREATED:"relationship_created",ACCEPT_PENDING_THREAD:"accept_pending_thread",RAMP_UP_WELCOME_MESSAGE:"ramp_up_welcome_message",CHANGE_THREAD_THEME:"change_thread_theme",CHANGE_THREAD_ICON:"change_thread_icon",GROUP_THREAD_CREATED:"group_thread_created",THREAD_EPHEMERAL_SEND_MODE:"thread_ephemeral_send_mode",INVITE_ACCEPTED:"invite_accepted",MESSENGER_INVITE_SENT:"messenger_invite_sent",TURN_ON_PUSH:"turn_on_push",JOURNEY_PROMPT_COLOR:"journey_prompt_color",JOURNEY_PROMPT_LIKE:"journey_prompt_like",JOURNEY_PROMPT_NICKNAME:"journey_prompt_nickname",JOURNEY_PROMPT_SETUP:"journey_prompt_setup",CHANGE_THREAD_NICKNAME:"change_thread_nickname",NOTIFY_GROUP_MAYORSHIP:"notify_group_mayorship",PROMPT_GROUP_MAYORSHIP_CUSTOMIZATION:"prompt_group_mayorship_customization",MESSAGE_COUNT_MILESTONE_MESSAGE:"message_count_milestone_message",BOT_THREAD_SUBSCRIPTION:"bot_thread_subscription",RTC_CALL_LOG:"rtc_call_log",RTC_INSTANT_VIDEO_LIFECYCLE:"rtc_instant_video_lifecycle",JOURNEY_PROMPT_BOT:"journey_prompt_bot",RIDE_ORDERED_MESSAGE:"ride_ordered_message",DESTINATION_ETA_MESSAGE:"destination_eta_message",RIDE_ARRIVED_MESSAGE:"ride_arrived_message",JOURNEY_PROMPT_NEW_SETUP:"journey_prompt_new_setup",LIGHTWEIGHT_EVENT_CREATE:"lightweight_event_create",LIGHTWEIGHT_EVENT_DELETE:"lightweight_event_delete",LIGHTWEIGHT_EVENT_NOTIFY:"lightweight_event_notify",LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:"lightweight_event_notify_before_event",LIGHTWEIGHT_EVENT_RSVP:"lightweight_event_rsvp",LIGHTWEIGHT_EVENT_UPDATE:"lightweight_event_update",LIGHTWEIGHT_EVENT_UPDATE_LOCATION:"lightweight_event_update_location",LIGHTWEIGHT_EVENT_UPDATE_TIME:"lightweight_event_update_time",LIGHTWEIGHT_EVENT_UPDATE_TITLE:"lightweight_event_update_title",SAFETY_LOCATION_REQUEST_SENT:"safety_location_request_sent",SAFETY_LOCATION_REQUEST_RESPONDED:"safety_location_request_responded",SAFETY_LOCATION_REQUEST_DENIED:"safety_location_request_denied",AD_MANAGE_MESSAGE:"ad_manage_message",ADMIN_TEXT_WITH_LINK:"admin_text_with_link",AD_REPLY_MESSAGE:"ad_reply_message",TAGGED_PHOTO:"tagged_photo",GAME_SCORE:"game_score",INSTANT_GAME_UPDATE:"instant_game_update",INSTANT_GAME_BOT_INTRO:"instant_game_bot_intro",INSTANT_GAME_WORLD_CUP_INTRO:"intant_games_world_cup_intro",INSTANT_GAME_CUSTOM_UPDATE_NUX_ADMIN_MESSAGE:"instant_game_custom_update_nux_admin_message",INSTANT_GAME_OFFLINE_MATCH_INTRO:"instant_game_offline_match_intro",INSTANT_GAME_TOURNAMENT_REMINDER:"instant_game_tournament_reminder",MEDIA_SUBSCRIPTION_MANAGE:"media_subscription_manage",M_AI_SURVEY:"m_ai_survey",PHONE_NUMBER_LOOKUP_NOTICE:"phone_number_lookup_notice",MESSENGER_PRECHECKED_PLUGIN:"messenger_prechecked_plugin",MESSENGER_THREAD_RESURRECTION_NOTICE:"messenger_thread_resurrection_notice",MESSENGER_ENTRY_BY_MDOTME_LINK_WITH_REF:"messenger_entry_by_mdotme_link_with_ref",ADD_CONTACT:"add_contact",PRODUCT_INVOICE_RECEIPT_REJECTED:"product_invoice_receipt_rejected",PRODUCT_INVOICE_PAID:"product_invoice_paid",PRODUCT_INVOICE_VOIDED:"product_invoice_voided",PRODUCT_INVOICE_SHIPPED:"product_invoice_shipped",PRODUCT_INVOICE_PAYMENT_EXPIRED:"product_invoice_payment_expired",PRODUCT_INVOICE_RECEIPT_UPLOADED:"product_invoice_receipt_uploaded",CHANGE_JOINABLE_SETTING:"change_joinable_setting",CHANGE_THREAD_ADMINS:"change_thread_admins",CHANGE_THREAD_APPROVAL_MODE:"change_thread_approval_mode",CAPY_SESSION_BEGIN:"capy_session_begin",CAPY_SESSION_BOT_BEGIN:"capy_session_bot_begin",CAPY_SESSION_END:"capy_session_end",CAPY_AGENT_JOIN:"capy_agent_join",CAPY_AGENT_DUMPED:"capy_agent_dumped",CAPY_SESSION_WAIT_TIME:"capy_session_wait_time",GROUP_SMS_PARTICIPANT_JOINED:"group_sms_participant_joined",GROUP_SMS_PARTICIPANT_CAPPED:"group_sms_participant_capped",SMS_PHONE_NUMBER_CHECK:"sms_phone_number_check",MESSENGER_BOT_REVIEW_SENT:"messenger_bot_review_sent",MESSENGER_CODE_SCAN:"messenger_code_scan",MESSENGER_LIVECHAT_PLUGIN_OPEN:"messenger_livechat_plugin_open",MINGLE_MATCH_SUCCESS:"mingle_match_success",MINGLE_PARTICIPANT_MATCHED:"mingle_participant_matched",MN_ACCOUNT_LINKING_TEXT:"mn_account_linking_text",MN_ACCOUNT_UNLINKING_TEXT:"mn_account_unlinking_text",MN_ACCOUNT_FORCED_UNLINKING_TEXT:"mn_account_forced_unlinking_text",MN_REF_SEND_TEXT:"mn_ref_send_text",ADS_WELCOME_MSG:"ads_welcome_msg",THREAD_JOINABLE_PROMOTION_TEXT:"thread_joinable_promotion_text",PAGES_PLATFORM_REQUEST_TEXT:"pages_platform_request_text",MESSENGER_NEW_USER_GET_STARTED:"messenger_new_user_get_started",SMS_PHONE_NUMBER_TOGGLE:"sms_phone_number_toggle",PAGES_PLATFORM_CREATE_APPOINTMENT:"Pages_Platform_create_appointment",INTERNAL_CAREER_JOBSY_REACHOUT_CONNECTED:"internal_career_jobsy_reachout_connected",JOINABLE_GROUP_THREAD_CREATED:"joinable_group_thread_created",JOINABLE_ROOM_CREATED_WITH_CO_CREATORS:"joinable_room_created_with_co_creators",PAGES_PLATFORM_ACCEPT_APPOINTMENT:"pages_platform_accept_appointment",PAGES_PLATFORM_REFERRAL_CONFIRMED_APPOINTMENT:"pages_platform_referral_confirmed_appointment",PAGES_PLATFORM_DECLINE_APPOINTMENT:"pages_platform_decline_appointment",PAGES_PLATFORM_USER_CANCEL:"pages_platform_user_cancel",PAGES_PLATFORM_ADMIN_CANCEL:"pages_platform_admin_cancel",MESSENGER_OMNIM_CREATE_FLOW:"messenger_omnim_create_flow",MESSENGER_OMNIM_UPDATE_FLOW:"messenger_omnim_update_flow",MESSENGER_OMNIM_UPDATE_FLOW_STATE:"messenger_omnim_update_flow_state",MESSENGER_GROUP_DESCRITPION_UPDATE:"messenger_group_description_update",MESSENGER_GROUP_DESCRIPTION_UPDATE_V2:"messenger_group_description_update_v2",MESSENGER_EXTENSION_ADD_CART:"messenger_extension_add_cart",MESSENGER_EXTENSION_ADD_FAVORITE:"messenger_extension_add_favorite",MESSENGER_AD_CONTEXT:"messenger_ad_context",PAGES_PLATFORM_APPOINTMENT_REMINDER:"pages_platform_appointment_reminder",PAGES_PLATFORM_ADMIN_DECLINE:"pages_platform_admin_decline",POKE_RECEIVED:"poke_received",MESSENGER_STATION_SUBSCRIPTION:"messenger_station_subscription",MESSENGER_USER_ALSO_ON_MESSENGER:"messenger_user_also_on_messenger",MESSENGER_INBOX2_BIRTHDAY_BUMP:"messenger_inbox2_birthday_bump",MESSENGER_RESPOND_REMINDER_CONFIRMATION:"messenger_respond_reminder_confirmation",MESSENGER_RESPOND_REMINDER:"messenger_respond_reminder",MESSENGER_RESPOND_REMINDER_USER_CANCEL:"messenger_respond_reminder_user_cancel",MESSENGER_RESPOND_REMINDER_CANCEL_SUGGESTION:"messenger_respond_reminder_cancel_suggestion",STARTED_SHARING_VIDEO:"started_sharing_video",LIVE_VIDEO_CHAT:"live_video_chat",PARTICIPANT_JOINED_GROUP_CALL:"participant_joined_group_call",MESSENGER_ONLY_PHONE_JOINED_WITH_NEW_ACCOUNT:"messenger_only_phone_joined_with_new_account",PAGES_COMMERCE_PAYMENT_ENABLED:"pages_commerce_payment_enabled",GROUP_PAYMENT_REQUEST:"group_payment_request",P2P_CALL_ESCALATED_TO_GROUP_CALL:"p2p_call_escalated_to_group_call",INVITED_TO_ESCALATED_P2P_CALL:"invited_to_escalated_p2p_call",EVENT_UPCOMING:"event_upcoming",PAGES_VISITOR_POST_SEND_MESSAGE_UPSELL:"pages_visitor_post_send_message_upsell",PAGES_LOW_MESSAGE_RESPONSE_RATE:"pages_low_message_response_rate",PAGES_START_CALL:"pages_start_call",PARTIES_INVITE:"parties_invite",PAGES_JOIN_LOYALTY_PROGRAM:"pages_join_loyalty_program",WORK_INVITE_CLAIMED:"work_invite_claimed",WORK_BOT_INSTALLED:"work_bot_installed",WORK_NEW_MULTI_COMPANY_CHAT:"work_new_multi_company_chat",PARTIAL_AUTOMATED_FEEDBACK:"partial_automated_feedback",P2P_PAYMENT_REQUEST_REMINDER:"p2p_payment_request_reminder",PHOTO_TAG_BUMP:"photo_tag_bump",MESSENGER_CALL_UPGRADE_LEGACY_CLIENT:"messenger_call_upgrade_legacy_client",DIRECTED_WALL_POST:"directed_wall_post",MESSENGER_CALL_LOG:"messenger_call_log",P2P_PAYMENT_MONEY_RAIN_GAME_ENTRY_POINT:"p2p_payment_money_rain_game_entry_point",MESSENGER_MONTAGE_MENTIONS:"messenger_montage_mentions",PAGES_MESSAGING_BLOCK_WORDS:"pages_messaging_block_words",SHIPPO_TRACKING_UPDATES:"shippo_tracking_updates",NEO_APPROVED_CONNECTION_ADDED:"neo_approved_connection_added",NEO_APPROVED_USERNAME:"neo_approved_username",NEO_PARENT_UNLOCK_STICKER:"neo_parent_unlock_sticker",CHANGE_FAVORITE_COLOR:"change_favorite_color",VAULT_NEW_FRIEND:"vault_new_friend",VAULT_DELETE_THREAD:"vault_delete_thread",VAULT_SCREENSHOT_THREAD:"vault_screenshot_thread",MARKETPLACE_ITEM_CHANGED:"marketplace_item_changed",MARKETPLACE_SERVICES_INITIAL_MESSAGE_CONTEXT:"marketplace_services_initial_message_context",LINK_CTA:"link_cta",SERVICES_VERTICAL_REDEEMED_REFERRAL:"services_vertical_redeemed_referral",SERVICES_VERTICAL_OPT_OUT_REQUESTS:"services_vertical_opt_out_requests",SERVICES_VERTICAL_OPT_OUT_REQUESTS_SUCCESS:"services_vertical_opt_out_requests_success",SERVICES_VERTICAL_LEAD_GEN_SURVEY:"services_vertical_lead_gen_survey",SERVICES_VERTICAL_LEAD_GEN_SURVEY_EDIT:"services_vertical_lead_gen_survey_edit",PAGES_MARK_AS_PAID:"pages_mark_as_paid",MIGRATED_TO_WORKPLACE:"migrated_to_workplace",MESSENGER_GROUP_EVENT_STATUS_UPDATE:"messenger_group_event_status_update",NEO_APPROVED_USER_REMOVED_FROM_GROUP:"neo_approved_user_removed_from_group",LIVE_CHAT_SUPPORT_AGENT_JOIN:"live_chat_support_agent_join",LIVE_CHAT_SUPPORT_SESSION_BEGIN:"live_chat_support_session_begin",LIVE_CHAT_SUPPORT_SESSION_END:"live_chat_support_session_end",MONTAGE_DIRECT_KEEP:"montage_direct_keep",MONTAGE_DIRECT_EXPIRE:"montage_direct_expire",CHSBOT_CONVERSATION_ENDED:"chsbot_conversation_ended",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_BEGIN:"chsbot_live_chat_support_agent_begin",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_END:"chsbot_live_chat_support_agent_end",CHSBOT_LIVE_PHONE_SUPPORT_AGENT_CALLING:"chsbot_live_phone_support_agent_calling",CHSBOT_SUPPORT_REQUESTED:"chsbot_support_requested",SUPPORT_BOT_SESSION_AGENT_JOIN:"support_bot_session_agent_join",SUPPORT_BOT_SESSION_AGENT_LEAVE:"support_bot_session_agent_leave",SUPPORT_BOT_SESSION_END:"support_bot_session_end",SUPPORT_BOT_CALL_BEGIN:"support_bot_call_begin",SUPPORT_BOT_CALL_END:"support_bot_call_end",MESSENGER_SUBSCRIBE_TO_UPDATES:"messenger_subscribe_to_updates",MESSENGER_UNSUBSCRIBE_FROM_UPDATES:"messenger_unsubscribe_from_updates",MESSENGER_BLOCK_MESSAGES:"messenger_block_messages",MESSENGER_UNBLOCK_MESSAGES:"messenger_unblock_messages",MESSENGER_TURN_ON_MESSAGES:"messenger_turn_on_messages",MESSENGER_TURN_OFF_MESSAGES:"messenger_turn_off_messages",THANKS_FOR_SHARING_MESSAGE_CONTEXT:"thanks_for_sharing_message_context",GROUP_ADMIN_MODEL_NUX:"group_admin_model_nux",MESSENGER_PAYMENT_INCENTIVE_INFO:"messenger_payment_incentive_info",MESSENGER_PLATFORM_PERSONA:"messenger_platform_persona",MESSENGER_GROUP_SYNC_OPT_IN:"messenger_group_sync_opt_in",MESSENGER_GROUP_SYNC_OPT_OUT:"messenger_group_sync_opt_out",MENTORSHIP_MATCH:"mentorship_match",MENTORSHIP_PROGRAM_MATCH:"mentorship_program_match",MENTORSHIP_PROGRAM_CONTINUE:"mentorship_program_continue",MENTORSHIP_PROGRAM_LEAVE:"mentorship_program_leave",MENTORSHIP_PROGRAM_LEAVE_PROMPT:"mentorship_program_leave_prompt",MENTORSHIP_CURRICULUM_STEP:"mentorship_curriculum_step",MENTORSHIP_DISCUSSION_TOPIC_SET_PROMPT:"mentorship_discussion_topic_set_prompt",MENTORSHIP_CHECK_IN_REMINDER:"mentorship_check_in_reminder",MENTORSHIP_DISCLAIMER:"mentorship_disclaimer",PAGES_CALL_DEFLECTION_UPSELL:"pages_call_deflection_upsell",RTC_PHOTOBOOTH:"rtc_photobooth",DELAYED_PHONE_NUMBER_MATCH:"delayed_phone_number_match",AUTOMATIC_TRANSLATION_ENABLED:"automatic_translation_enabled",AUTOMATIC_TRANSLATION_AUTO_ENABLED:"automatic_translation_auto_enabled",AUTOMATIC_TRANSLATION_DISABLED:"automatic_translation_disabled",AUTOMATIC_TRANSCRIPTION_ENABLED:"automatic_transcription_enabled",AUTOMATIC_TRANSCRIPTION_DISABLED:"automatic_transcription_disabled",MESSENGER_ROOM_MIGRATION:"messenger_room_migration",PAGE_ADMIN_RESPONSIVENESS_REMINDER:"page_admin_responsiveness_reminder",MESSENGER_GROWTH_GENERIC_ADMIN_TEXT:"messenger_growth_generic_admin_text",MESSENGER_TALK_TO_YOUR_MOM_REMINDER:"messenger_talk_to_your_mom_reminder",PAYMENT_INCENTIVE_RECEIVED:"payment_incentive_received",PAGES_THREAD_REMINDER:"pages_thread_reminder",MESSENGER_PLATFORM_PERSONA_LEAVE_THREAD:"messenger_platform_persona_leave_thread",STORY_REPLY_CONTEXT:"story_reply_context",PAGES_AUTOMATED_RESPONSE_RECOMMENDATION:"pages_automated_response_recommendation",PAGES_AUTOMATED_RESPONSE_SMART_REPLY:"pages_automated_response_smart_reply",PAGES_AUTOMATED_RESPONSE_JOB_APPLICATION:"pages_automated_response_job_APPLICATION",MESSENGER_ICEBREAKER_VOTE_CAST:"messenger_icebreaker_vote_cast",PARTIES_PRESENCE:"parties_presence",PAGE_THREAD_ADMIN_ASSIGNMENT_TEXT:"page_thread_admin_assignment_text",RTC_INSTANT_ACTIVITY_LIFECYCLE:"rtc_instant_activity_lifecycle",RTC_VIDEO_CHAT_LINK_LIFECYCLE:"rtc_video_chat_link_lifecycle",SHIBA_MOCK_BOT_RESTART_CHAT_TEXT:"shiba_mock_bot_restart_chat_text",MARKETPLACE_RENTALS_INITIAL_MESSAGE:"marketplace_rentals_initial_message",MARKETPLACE_RENTALS_SENDER_INFO:"marketplace_rentals_sender_info",PAGES_MARK_AS_PAID_NEW:"pages_mark_as_paid_new",MESSENGER_BUSINESS_REPORT_SPAM:"messenger_business_report_spam",MESSENGER_BUSINESS_REPORT_INAPPROPRIATE:"messenger_business_report_inappropriate",MESSENGER_BUSINESS_REPORT_OTHER_ABUSE:"messenger_business_report_other_abuse",FRIENDED_IN_MESSENGER:"friended_in_messenger",MARKETPLACE_REPLY_REMINDER:"marketplace_reply_reminder",VOD_CONVERSATION_SEND_MESSAGE:"vod_conversation_send_message",SENT_UNCONNECTED_MESSAGE:"sent_unconnected_message",MESSENGER_SHARED_WITH:"messenger_shared_with",PAGE_THREAD_ACTION_SYSTEM_ADD_DETAILS:"page_thread_action_system_add_details",PAGE_USER_MESSENGER_CONNECTED:"page_user_messenger_connected",FB_ONLY_BOT_TEXT:"fb_only_bot_text",MESSENGER_SCHOOL_CHAT_AUTO_ADD_USER:"messenger_school_chat_auto_add_user",LIVING_ROOM_MESSAGE:"living_room_message",MESSENGER_FRIENDVERSARY_SHARED_TO:"messenger_friendversary_shared_to",PARENT_APPROVED_NEW_FRIEND_CODE:"parent_approved_new_friend_code",CHAT_ENTICEMENT_JOINED:"chat_enticement_joined",EVENT_CONFIRMED_GOING:"event_confirmed_going",CHEX_ORDER_STATE_CHANGED:"chex_order_state_changed",TWEENS_MUTUAL_INTERESTS:"tweens_mutual_interests",MESSENGER_CARE_PII_PRIVACY_INTRO:"messenger_care_pii_privacy_intro",MESSENGER_CARE_AUTH_LINKS_REF:"messenger_care_auth_links_ref",MARKETPLACE_RATE_SELLER:"marketplace_rate_seller",GEMSTONE_THREAD_CREATION:"gemstone_thread_creation",MNF_LIGHTWEIGHT_LIKE:"mnf_lightweight_like",WORKCHAT_REMINDER_ADMIN_TEXT:"workchat_reminder_admin_text",WORKCHAT_REMINDER_LINK_CTA:"workchat_reminder_link_cta",CHATS_IN_GROUPS_PRE_MIGRATION:"chats_in_groups_pre_migration",CHATS_IN_GROUPS_MIGRATION:"chats_in_groups_migration",POST_SHARED_FROM_GROUP:"post_shared_from_group",WORKCHAT_ACTIVATION_WELCOME_MESSAGE:"workchat_activation_welcome_message",MARKETPLACE_ASSISTANT_SUPPORT_CASE_START:"marketplace_assistant_support_case_start",MARKETPLACE_ASSISTANT_SUPPORT_CASE_END:"marketplace_assistant_support_case_end",SECURITY_HUB_AGENT_LEFT:"security_hub_agent_left",SECURITY_HUB_AGENT_JOINED:"security_hub_agent_joined",NEO_SEND_DGG:"neo_send_dgg",SECURITY_HUB_AGENT_REASSIGNED:"security_hub_agent_reassigned",MARKETPLACE_MESSAGE_ENHANCEMENT:"marketplace_message_enhancement",C4G_NEW_PARTICIPANT_JOIN:"c4g_new_participant_join"})}),null);
__d("MessagingSourceEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_LIGHT_SPEED:"source:chat:light_speed",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CONTEXTUAL_PROFILE_MESSAGE:"source:contextual_profile:message",COWORKER_GROUP:"source:work:coworker_group",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",GROUP_GENERAL_THREAD_AUTOJOIN:"source:group:general_thread_autojoin",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",WHATSAPP_CALLBACK:"source:wa_callback",UNKNOWN:"source:unknown",WEB:"source:web",WESTWORLD:"source:westworld",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MARKETPLACE_CARE:"source:marketplace:care",MARKETPLACE_BOT:"source:marketplace:bot",CHEX_C2C:"source:chex:c2c",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_INBOX:"source:internal:test_inbox",INTERNAL_TEST_PENDING:"source:internal:test_pending",INTERNAL_TEST_OTHER:"source:internal:test_other",INTERNAL_TEST_ML_ONLY:"source:internal:test_ml_only",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",PAGES_COMPOSER:"source:pages:composer",PTX:"source:ptx",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",GEMSTONE:"source:gemstone",WATCH_PARTY:"source:watch_party",WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT:"source:work:activation_card_general_group_chat",SCHOOL_COMMUNITY:"source:school_community",SCHOOL_COMMUNITY_COURSE:"source:school_community_course",SOCIAL_ASSISTANT:"source:social_assistant",BELL_RESEARCH:"source:bell_research",BELL_MESSENGER_LINKED:"source:bell_messenger_linked",BELL_MESSENGER_UNLINKED:"source:bell_messenger_unlinked",BELL_MESSENGER_ONBOARD:"source:bell_messenger_onboard",PROFILE_MEET_NEW_FRIENDS:"source:profile_meet_new_friends",PROFILE_MEET_NEW_FRIENDS_REPLY:"source:profile_meet_new_friends_reply",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",FRIENDVERSARY_BUMP:"source:messenger_growth:friendversary_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",MESSENGER_BROADCASTFLOW:"source:messenger:broadcastflow",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES_GAME_UPDATE:"source:instant_games_game_updates",INSTANT_GAMES_GAME_SHARE:"source:instant_games_game_share",INSTANT_GAMES_MATCH_MAKING:"source:instant_games_match_making",INSTANT_GAMES_GROUP_CREATION:"source:instant_games_group_creation",MOBILE_GAME_SHARE:"source:games_app:mobile_game_share",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",GROUPSYNC_THREAD_INFO_SYNC_FROM_FB:"source:groupsync:thread_info_sync",WORK_GROUP_SYNCED_CHAT_CREATION:"source:work:groupchat:creation",WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION:"source:work:defaultgroupchat:creation",WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC:"source:work:groupchat:member_sync",WORK_GROUP_SYNCED_CHAT_DESCRIPTION_SYNC:"source:work:groupchat:description_sync",WORK_GROUP_SYNCED_CHAT_NAME_SYNC:"source:work:groupchat:name_sync",PAGE_PQI_MESSAGE:"source:pages:pqi_message",PAGE_PLUGIN_MESSAGE:"source:pages:page_plugin_message",WORKPLACE_CHAT_DESKTOP:"source:workchat:desktop",WORKPLACE_QUICKCHAT:"source:workchat:quickchat",WORKPLACE_SIGNUP_PAGE_ADMIN_INVITE:"source:workplace:signup_page_admin_invite",WORKPLACE_APPROVALS:"source:workplace:approvals",WORKPLACE_TEAMWORK_CALL:"source:workplace:teamwork_call",CREATOR_STUDIO:"source:creator_studio",FB_GROUP_ADMINSHIP_SYNC:"source:fbgroup:adminship_sync",FB_GROUP_CHAT_MUTE_MEMBER:"source:fbgroup:mute_member",MESSENGER_ADS_PARTIAL_AUTOMATED_REMINDER:"source:ads_partial_automated:reminder",MENTORSHIP:"source:mentorship",MENTORSHIP_DISCUSSION_TOPIC:"source:mentorship_discussion_topic",MENTORSHIP_OUTREACH:"source:mentorship_outreach",VOD_CONVERSATION:"source:vod_conversation",LOCAL_SEARCH_SERVICES:"source:local_search_services",YOUTH_VAULT:"source:youth_vault",MESSENGER_KIDS:"source:messenger_kids",STORY_REPLY:"source:story_reply",LOCAL_DEV_PLATFORM:"source:local_dev_platform",INSTAGRAM_DIRECT:"source:instagram_direct",WA_MSGR_INTEROP:"source:wa-msgr-interop",C4G_CURRENT_GROUP_MEMBERS_ENTINTEGRITY:"source:c4g_current_group_members_entintegrity",CHATROOM:"source:chatroom",FB_STORY:"source:fb_story",FB_INBOX:"source:messaging_inbox_in_blue",FB_PROFILE:"source:fb_profile",FB_TOP_OF_FEED_UNIT:"source:fb_top_of_feed_unit",KOTOTORO:"source:kototoro",NPE_WHALE:"source:npe_whale"})}),null);
__d("MessagingTagUtils",["MessagingSourceEnum","MessagingTagConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(Object.values(b("MessagingSourceEnum")));function a(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(g.has(d))return d}return"source:unknown"}function h(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.split(b("MessagingTagConstants").app_id_root);if(e.length>1)return e[1].trim()}return null}function c(a,c){var d=[],e=h(a);e&&b("MessagingTagConstants").orca_app_ids.indexOf(e)!==-1&&d.push("source:messenger");b("MessagingTagConstants").chat_sources.indexOf(c)!==-1&&d.push("source:chat");b("MessagingTagConstants").email_source===c&&d.push("source:email");b("MessagingTagConstants").mobile_sources.indexOf(c)!==-1&&d.push("source:mobile");a.indexOf("source:workchat:desktop")!==-1&&d.push("source:workchat:desktop");return d}e.exports={getSourceFromTags:a,getSourceTags:c}}),null);
__d("P2PPaymentLogMessageSubtype",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired",REQUEST_REMINDER:"request_reminder",MONEY_RAIN_GAME_ENTRY_POINT:"money_rain_game_entry_point"})}),null);
__d("StoryAttachmentStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FALLBACK:"fallback",SHARE:"share",SHARE_MEDIUM:"share_medium",SHARE_SEVERE:"share_severe",SHARE_PORTRAIT:"share_portrait",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",INSPIRATION_PHOTO:"inspiration_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",TOPIC_FOLLOWING_TOPIC:"topic_following_topic",FILE_UPLOAD:"file_upload",FOLDER:"folder",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",VIDEO_SHOP:"video_shop",INSPIRATION_VIDEO:"inspiration_video",MULTI_VIDEOS_STITCHED:"multi_videos_stitched",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_NON_LINK_VIDEO:"multi_share_non_link_video",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",MULTI_SHARE_FIXED_TEXT:"multi_share_fixed_text",MULTI_SHARE_CAROUSEL_FREE_SCROLL:"multi_share_carousel_free_scroll",MULTI_SHARE_CAROUSEL_FREE_SCROLL_SNAP_CENTER:"multi_share_carousel_free_scroll_snap_center",MULTI_SHARE_LARGER_CAROUSEL:"multi_share_larger_carousel",MULTI_SHARE_WITH_INSTANT_EXPERIENCE:"multi_share_with_instant_experience",MULTI_SHARE_WITH_PROMO_CARD:"multi_share_with_promo_card",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",BIRTHDAY_PERCEPTICONS:"birthday_percepticons",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_LEAGUE:"gametime_league",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",P2P_PAYMENT:"p2p_payment",P2P_SERVER_BUBBLE:"p2p_server_bubble",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",GROUP_ADD_MEMBERS:"group_add_memebers",GROUP_MEMBER_ADDED:"group_member_added",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",RICH_MEDIA_COLLECTION:"rich_media_collection",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",GROUPSMASH_MEDIA:"groupsmash_media",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET_DEPRECATED:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",WELCOME_CARD_IMAGE:"welcome_card_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",ELECTION_BALLOT_CONFIG:"election_ballot_config",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",IMPLICIT_PLACE_LIST_CONVERSION:"implicit_place_list_conversion",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",PHOTO_LINK_SHARE_WITH_INSTAGRAM_CONTEXT:"photo_link_share_with_instagram_context",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",CULTURAL_MOMENT_HOLIDAY_CARD:"cultural_moment_holiday_card",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",COMMENT_PRODUCT_INFO:"comment_product_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",FUNDRAISER_FOR_STORY:"fundraiser_for_story",FUNDRAISER_PROFILE_FOR_CHARITY:"fundraiser_profile_for_charity",MESSAGE_LIVE_LOCATION:"message_live_location",MESSENGER_INVITE:"messenger_invite",MESSENGER_NATIVE_TEMPLATES:"messenger_native_templates",GAMES_INSTANT_PLAY:"games_instant_play",PROFILE_MEDIA:"profile_media",NATIVE_TEMPLATES:"native_templates",NATIVE_TEMPLATES_FOX:"native_templates_fox",NATIVE_TEMPLATES_KEEP_ATTACHED:"native_templates_keep_attached",GOODWILL_THROWBACK_VIDEO_BASIC:"goodwill_throwback_video_basic",COMMERCE_PRODUCT_MINI:"commerce_product_mini",COMMERCE_PRODUCT_MINI_LIST:"commerce_product_mini_list",COMMENT:"comment",MESSENGER_TEAM_BOT_SHARE:"messenger_team_bot_share",LIVE_VIDEO_SCHEDULE:"live_video_schedule",PRODUCT_ITEM:"product_item",PLATFORM_INSTANT_APP:"platform_instant_app",YEAR_OVERVIEW:"year_overview",NATIVE_COMPONENT_FLOW_BOOKING_REQUEST:"native_component_flow_booking_request",FRIEND_REQUEST:"friend_request",MESSENGER_GROUP_JOINABLE_LINK:"messenger_group_joinable_link",MESSENGER_GROUP_JOINABLE_LINK_V2:"messenger_group_joinable_link_v2",SOCIAL_SEARCH_CONVERSION_PROMPT:"social_search_conversion_prompt",MDOTME_USER_LINK:"mdotme_user_link",DYNAMIC_MULTI_SHARE_ITEMS:"dynamic_multi_share_items",EVENT_REMINDER:"event_reminder",INSTANT_GAMES_SHARE_MESSAGE:"instant_games_share_message",INSTANT_GAMES_LEADERBOARD_UPDATE:"instant_games_leaderboard_update",INSTANT_GAMES_CUSTOM_UPDATE:"instant_games_custom_update",MESSENGER_PLATFORM_COMPACT_ITEM:"messenger_platform_compact_item",MESSENGER_PLATFORM_COVER_ITEM:"messenger_platform_cover_item",MULTI_SHARE_NON_LINK_VIDEO_AUTO_SCROLL:"multi_share_non_link_video_auto_scroll",OFFER_VIEW_LIVE_COUNTDOWN:"offer_view_live_countdown",ENHANCED_LINK_REDDIT_POST:"enhanced_link_reddit_post",MESSENGER_COMMERCE_COVER_ITEM:"messenger_commerce_cover_item",ENHANCED_LINK_YELP_BUSINESS:"enhanced_link_yelp_business",PAGES_PLATFORM_LEAD_GEN:"pages_platform_lead_gen",NATIVE_STORY:"native_story",MFS_BILL_PAY_CREATION_UPDATE:"mfs_bill_pay_creation_update",MFS_BILL_PAY_REFERENCE_CODE_UPDATE:"mfs_bill_pay_reference_code_update",MFS_BILL_PAY_AGENT_CASH_IN_UPDATE:"mfs_bill_pay_agent_cash_in_update",ISSUE_POSITION:"issue_position",PAGES_PLATFORM_BOOKING_MESSAGE:"pages_platform_booking_message",EXTERNAL_GALLERY:"external_gallery",MEME_SHARE:"meme_share",MESSENGER_PLATFORM_ELEMENT:"messenger_platform_element",INSTANT_GAMES_SHARE_SCORE_MESSAGE:"instant_games_share_score_message",MESSENGER_PLATFORM_BUTTON_LIST:"messenger_platform_button_list",BALLOT:"ballot",LIGHTWEIGHT_ACTION:"lightweight_action",TAROT_DIGEST:"tarot_digest",EVENT_TOUR:"event_tour",ADAPTIVE_MEDIA:"adaptive_media",DYNAMIC_GAME_BOARD:"dynamic_game_board",PAYMENT_PLATFORM:"payment_platform",OMNI_M_FLOW:"omni_m_flow",GROUP_QUIZ:"group_quiz",TRIAL_AD:"trial_ad",TEEM_COLLECTIONS:"teem_collections",CRISIS_DONATION:"crisis_donation",CRISIS_STATUS:"crisis_status",CRISIS_SHARE:"crisis_share",CRISIS_MARK_SAFE:"crisis_mark_safe",CRISIS_LISTING:"crisis_listing",VR_CONTENT:"vr_content",VIDEO_RECOMMENDATION_HSCROLL:"video_recommendation_hscroll",VIDEO_TRAILER:"video_trailer",SHOW_PAGE_SHARE:"show_page_share",MFS_ATTACHMENT:"mfs_attachment",MFS_TIME_SENSITIVE_ATTACHMENT:"mfs_time_sensitive_attachment",GROUP_TASK:"group_task",CHECKLIST:"checklist",VIDEO_RECOMMENDATION_SINGLETON:"video_recommendation_singleton",PAGE_REVIEW_PROMPT:"page_review_prompt",VIDEO_SHOW:"video_show",UNCONNECTED_VIDEO:"unconnected_video",SHOW_SHARE:"show_share",JOB_SEARCH_JOB_APPLICATION:"job_search_job_application",PAGE_MESSENGER_ATTACHMENT:"page_messenger_attachment",CONTACT_YOUR_REP:"contact_your_rep",LOCATION_EXTENSION:"location_extension",PLACE_RECOMMENDATION:"place_recommendation",JOB_SEARCH_JOB_OPENING:"job_search_job_opening",PAGE_MESSAGE_ONLINE_INDICATOR:"page_message_online_indicator",LOCAL_PIVOT:"local_pivot",ORION_REQUEST_NEW:"orion_request_new",PHOTO_WITH_SHIELD:"photo_with_shield",PLAYABLE_AD:"playable_ad",FUN_FACT_PROMPT:"fun_fact_prompt",FUN_FACT_STACK:"fun_fact_stack",FATIGUED_SHARE:"fatigued_share",DISCUSSION_QUESTION:"discussion_question",PARTIES_INVITE:"parties_invite",PROFILE_INTRO_CARD_BIO:"profile_intro_card_bio",PAGES_SHARE:"pages_share",PRODUCT_RECOMMENDATION_LIST:"product_recommendation_list",VISUAL_POLL:"visual_poll",MULTI_PLACE_RECOMMENDATION:"multi_place_recommendation",PAGE_IN_COMMENT:"page_in_comment",PAGE_ANNOUNCEMENT:"page_announcement",MESSENGER_PLATFORM_MEDIA_ATTACHMENT:"messenger_platform_media_attachment",SCHEDULED_VIDEO_ANNOUNCEMENT:"scheduled_video_announcement",HSCROLL_ITEM:"hscroll_item",MESSENGER_CALL_LOG:"messenger_call_log",PAGE_REVIEW_UPDATE:"page_review_update",LOYALTY_CARD_OFFER:"loyalty_card_offer",GOODWILL_GRID:"goodwill_grid",TRAVEL_PLAN:"travel_plan",FIND_PLAYERS:"find_players",ASSET3D:"asset3d",MESSENGER_GROUP_PERSONAL_LINK:"messenger_group_personal_link",FREQUENTLY_ASKED_QUESTION:"frequently_asked_question",STORY_LIST:"story_list",GOODWILL_SHARED_CARD:"goodwill_shared_card",PAYMENT_BUBBLE_VIEW:"PAYMENT_BUBBLE_VIEW",POST_TO_EVENT_CREATE:"post_to_event_create",MONTAGE_DIRECT:"montage_direct",NEO_INVITATION:"NEO_INVITATION",NATIVE_TEMPLATES_LINK_SHARE_TEST:"native_templates_link_share_test",GOODWILL_HSCROLL:"goodwill_hscroll",NEO_KID_INITIATE_FRIENDING:"NEO_KID_INITIATE_FRIENDING",NEO_VIDEO_PROMPT:"NEO_VIDEO_PROMPT",EVENT_MICRO_ATTACHMENT:"event_micro_attachment",SAVED_LIST:"saved_list",LOCAL_GUIDE:"local_guide",MEET_UP_EVENT:"meet_up_event",DONATION:"donation",FUNDRAISER_FB_SEEDING_GIFT:"fundraiser_fb_seeding_gift",BREAKING_NEWS:"breaking_news",GOODWILL_COLLAGE:"goodwill_collage",LEAD_FORM:"lead_form",LEAD_FORM_USER_INFO:"lead_form_user_info",EVENT_TICKET_ORDER:"event_ticket_order",PROFILE_CHANNEL:"profile_channel",ICE_BREAKER:"ICE_BREAKER",MOVIE:"movie",ALOHA_CALL:"aloha_call",TIP_JAR_PAYMENT:"tip_jar_payment",COMMENT_MESSAGE_INFO:"comment_message_info",CASH_ON_DELIVERY_ORDER:"cash_on_delivery_order",VOTER_REGISTRATION_DRIVE:"voter_registration_drive",VOTING_INFO:"voting_info",LIVING_ROOM:"living_room",ACHIEVEMENT_POST:"achievement_post",M_BIRTHDAY_REMINDER:"m_birthday_reminder",INSIGHTS_CHART:"insights_chart",GROUP_PROACTIVE_FLAGGED_POST_QUEUE:"group_proactive_flagged_post_queue",GROUP_ACCEPT_RULE_TO_UNMUTE:"group_accept_rule_to_unmute",SHOW_CLICK_TO_WATCH_TAB:"show_click_to_watch_tab",SHOW_CLICK_TO_WATCH_TAB_V2:"show_click_to_watch_tab_v2",SHOW_CLICK_TO_WATCH_TAB_V3:"show_click_to_watch_tab_v3",SHOW_CLICK_TO_WATCH_TAB_V4:"show_click_to_watch_tab_v4",SHOW_MASKED:"show_masked",SHOW_CONTINUE_WATCHING:"show_continue_watching",WATCH_CLICK_STORY_HEADER_TO_WATCH_TAB:"watch_click_story_header_to_watch_tab",FOX_ALBUM:"fox_album",TOOL_SHARE:"tool_share",PHONE_REMOVED_ACTION_LIST:"phone_removed_action_list",AMP:"amp",LDP_APP_INSTANCE:"ldp_app_instance",PAGE_RECOMMENDATION_V2:"page_recommendation_v2",PLAY_WITH_FRIENDS:"play_with_friends",BLOOD_REQUEST:"blood_request",BLOOD_DONATION_PARTNER_CTA:"blood_donation_partner_cta",HIGH_SCHOOL_COMMUNITY_INVITE:"high_school_community_invite",SCHEDULED_LIVE_VIDEO:"scheduled_live_video",GAMESHOW:"gameshow",GAMESHOW_INVITE:"gameshow_invite",MK_FRIEND_REQUEST:"mk_friend_request",GOODWILL_PHOTO_CIRCLE:"goodwill_photo_circle",SERVICES_APPOINTMENT_AVAILABILITY:"services_appointment_availability",NEO_SOCIAL_INVITATION:"neo_social_invitation",NEO_KID_INVITATION:"neo_kid_invitation",GROUP_SELL_PRODUCT_ITEM_CONDENSED:"group_sell_product_item_condensed",GROUP_SELL_PRODUCT_ITEM_MARK_AS_PENDING:"group_sell_product_item_mark_as_pending",GAMES_VIDEO:"games_video",MOVIE_WITH_SHOWTIMES:"movie_with_showtimes",WORK_CONTENT_ATTACHMENT:"work_content_attachment",GROUP_SAFETY_HUB:"group_safety_hub",NEWS_STORYLINE:"news_storyline",EVENT_TICKET_REQUEST:"event_ticket_request",GROUP_APPLICATION:"group_application",MESSAGE_MULTIPLE_LOCATIONS:"message_multiple_locations",TODO_LIST:"todo_list",PERSONAL_REMINDER:"personal_reminder",ARTICLE_MESSAGE:"article_message",PERSONAL_REMINDER_LIST:"personal_reminder_list",GAMES_APP:"games_app",GAMES_APP_SHARED:"games_app_shared",MOBILE_GAME_SHARE:"mobile_game_share",MONTAGE_MEDIA_EFFECT:"montage_media_effect",GROUPS_VOTER_REGISTRATION_DRIVE:"groups_voter_registration_drive",MONTAGE_SHARE:"montage_share",WEC_MESSAGE:"wec_message",INSTAGRAM_DIRECT_MESSAGE_ATTACHMENT:"instagram_direct_message_attachment",GROUP_APPLICATION_CTA:"group_application_cta",MENTORSHIP_CURRICULUM_STEP:"mentorship_curriculum_step",SCHEDULED_LIVING_ROOM:"scheduled_living_room",STORY_ADS_SURVEY:"story_ads_survey",MESSENGER_FORM_PROGRESS_ATTACHMENT:"messenger_form_progress_attachment",VIDEO_COMMERCE_INTEREST:"video_commerce_interest",PAGES_COMMERCE_BUYER_INTENT:"pages_commerce_buyer_intent",BREAKING_NEWS_STORY_GALLERY:"breaking_news_story_gallery",BRANDING_PLAYABLE_AD:"branding_playable_ad",PAGE_SURFACE_MENU_ITEM:"page_surface_menu_item",VIDEO_LIVING_ROOM_MESSENGER:"video_living_room_messenger",IMAGE_SHARE_NO_OVERLAY:"image_share_no_overlay",JOIN_GROUP_CTA:"join_group_cta",ASSISTANT_DRAFT_MESSAGE:"assistant_draft_message",ASSISTANT_CONTACT_INFO:"assistant_contact_info",NEO_DRAW_AND_GUESS_GAME_REQUEST:"neo_draw_and_guess_game_request",SOCIAL_LEARNING_UNIT_CREATED:"social_learning_unit_created",SOCIAL_LEARNING_UNIT_COMPLETED:"social_learning_unit_completed",GOODWILL_THROWBACK_SINGLE_PHOTO:"goodwill_throwback_single_photo",FAN_FUNDING_SUPPORT_CREATOR_CTA:"fan_funding_support_creator_cta",WOODHENGE_MEMBERSHIP_CARD:"woodhenge_membership_card",USER_PAY_REFERRALS_WWW:"user_pay_referrals_www",GOODWILL_VIDEO_SHARED_VIDEO:"goodwill_video_shared_video",INSTANT_GAMES_TOURNAMENT:"instant_games_tournament",SCHEDULED_LIVE_VIDEO_POST:"scheduled_live_video_post",CHAT_COMMAND_RESULT:"chat_command_result",CROSSROADS:"crossroads",MOBILE_GAME_THREAD_SHARE:"mobile_game_thread_share",SHOW_CLICK_TO_WATCH_TOPIC:"show_click_to_watch_topic",LIFE_EVENT_FB_STORY:"life_event_fb_story",GROUP_KEYWORD_ALERTED_QUEUE:"group_keyword_alerted_queue",PARENT_APPROVED_PLAIN_TEXT_BOT_MESSAGE:"parent_approved_plain_text_bot_message",LIVE_VIDEO_REHEARSAL:"live_video_rehearsal",ASSISTANT_CONTACT_INFO_LIST:"assistant_contact_info_list",PARENT_APPROVED_IMAGE_AND_TEXT_BOT_MESSAGE:"parent_approved_image_and_text_bot_message",LIVE_VIDEO_SCHEDULED_REHEARSAL:"live_video_scheduled_rehearsal",LIVE_VIDEO_SCHEDULED_POST_REHEARSAL:"live_video_scheduled_post_rehearsal",GROUPS_LINKED_GROUP_FEED_HSCROLL:"groups_linked_group_feed_hscroll",SCHEDULED_LIVING_ROOM_POST:"scheduled_living_room_post",EVENT_ATTENDANCE_CONFIRMATION:"event_attendance_confirmation",ATTACHMENT_FOOTER_SIMPLE_HEADLINE:"attachment_footer_simple_headline",ATTACHMENT_FOOTER_CTA:"attachment_footer_cta",ATTACHMENT_FOOTER_ACCENT_COLOR:"attachment_footer_accent_color",CLICK_TO_WATCH_TAB_WARION_V1:"click_to_watch_tab_warion_v1",COMMERCE_UPSELL_MESSAGE:"commerce_upsell_message",PROFILE_SONG:"profile_song",MENTORSHIP_DISCUSSION_TOPIC_SET:"mentorship_discussion_topic_set",LINK_SOCIAL_CONTEXT:"link_social_context",POLITICAL_CANDIDATE_VIDEO:"political_candidate_video",TWEENS_WOULD_YOU_RATHER:"tweens_would_you_rather",TWEENS_INTEREST_CONTENT:"tweens_interest_content",SERVICES_GENERIC_ADMIN_TEXT:"services_generic_admin_text",MENTORSHIP_H_SCROLL:"mentorship_h_scroll",CRS_FEED_LINK_LARGE:"crs_feed_link_large",CRS_FEED_LINK_SMALL:"crs_feed_link_small",CRS_FEED_PHOTO_SMALL:"crs_feed_photo_small",CRS_FEED_PHOTO_LARGE:"crs_feed_photo_large",ANONYMOUS_AUTHOR_INFO:"anonymous_author_info",MENTORSHIP_XMA:"mentorship_xma",GEMSTONE_CENTERED_CONTENT:"gemstone",SHOW_EPISODE:"show_episode",PLAYLIST_VIDEO:"playlist_video",RECRUITING_CANDIDATE:"recruiting_candidate",RECRUITING_RECOMMENDED_CANDIDATES:"recruiting_recommended_candidates",VIDEO_LIST:"video_list",GROUPS_BUY_SELL_TAB_SALE_ITEM:"groups_buy_sell_tab_sale_item",ALBUM_SALE_ITEM:"album_sale_item",PHOTO_SALE_ITEM:"photo_sale_item",MARKETPLACE_GENERIC_ADMIN_TEXT:"marketplace_generic_admin_text",PARENT_APPROVED_USER_SCHOOL_REQUEST:"parent_approved_user_school_request",PARENT_APPROVED_REMIX_PHOTO_REQUEST:"PARENT_APPROVED_REMIX_PHOTO_REQUEST",ANONYMOUS_POST_CONTENT:"anonymous_post_content",TWEENS_TOPIC_STORY:"tweens_topic_story",NEO_KID_PARENT_INVITATION:"neo_kid_parent_invitation",GAMING_VIDEO_CHAT_ATTACHMENT:"gaming_video_chat_attachment",GAMING_VIDEO_CLIP_ATTACHMENT:"gaming_video_clip_attachment",MARKETPLACE_RATE_SELLER_REQUEST:"marketplace_rate_seller_request",GROUP_INVITE_NONMEMBER_MENTIONED:"group_invite_nonmember_mentioned",AR_AD:"ar_ad",INSTANT_GAMES_INTERACTIVE_POLL:"instant_games_interactive_poll",CHATROOM:"chatroom",MARKETPLACE_ECOMM_PRODUCT_ITEM:"marketplace_ecomm_product_item",VOLUNTEERING_SUPPORT_RELATIONSHIP:"volunteering_support_relationship",MARKETPLACE_OFFER:"marketplace_offer",VIDEO_HOME_ELIGIBLE_VIDEO_ENDSCREEN:"video_home_eligible_video_endscreen",COMMERCE_ATTACHMENT:"commerce_attachment",GOODWILL_PRODUCT_SYSTEM_CAMPAIGN:"goodwill_product_system_campaign",WORK_SHIFT_SWAP:"work_shift_swap",FLIPPER_TRACE:"flipper_trace",WORK_GROUP_GOAL:"work_group_goal",MARKETPLACE_BOT_ORDER_DETAILS:"marketplace_bot_order_details",NEO_ASYNC_GAME_REQUEST:"neo_async_game_request",GROUP_PENDING_ANONYMOUS_POST_DISCLAIMER:"group_pending_anonymous_post_disclaimer",AVATAR_FEATURE:"avatar_feature",FIRST_PARTY_MUSIC:"first_party_music"})}),null);
__d("MessengerThreadCannotReplyReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCKED:"blocked",MESSENGER_BLOCKEE:"messenger_blockee",COMPOSER_DISABLED_BOT:"composer_disabled_bot",HAS_EMAIL_PARTICIPANT:"has_email_participant",OBJECT_ORIGINATED:"object_originated",READ_ONLY:"read_only",VIEWER_NOT_SUBSCRIBED:"viewer_not_subscribed",RECIPIENTS_NOT_LOADABLE:"recipients_not_loadable",RECIPIENTS_UNAVAILABLE:"recipients_unavailable",RECIPIENTS_INVALID:"recipients_invalid",RECIPIENTS_INACTIVE_WORK_ACC:"recipients_inactive_work_account",MONTAGE_NOT_AUTHOR:"montage_not_author",VIEWER_MUTED_IN_FBGROUP:"viewer_muted_in_fbgroup"})}),null);
__d("bs_caml_exceptions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[0];function a(a){a[1]=g[0];g[0]+=1;return a}function h(a){g[0]+=1;return g[0]}function b(a){var b=h(0);a=[a,b];a.tag=248;return a}function c(a){if(a===void 0)return!1;else if(a.tag===248)return!0;else{a=a[0];if(a!==void 0)return a.tag===248;else return!1}}f.caml_set_oo_id=a;f.caml_fresh_oo_id=h;f.create=b;f.caml_is_extension=c}),null);
__d("bs_caml_js_exceptions",["bs_caml_option","bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bs_caml_exceptions").create("Caml_js_exceptions.Error");function a(a){if(b("bs_caml_exceptions").caml_is_extension(a))return a;else return[g,a]}function c(a){if(a[0]===g)return b("bs_caml_option").some(a[1])}f.$$Error=g;f.internalToOCamlException=a;f.caml_as_js_exn=c}),null);
__d("bs_caml_obj",["bs_block","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b=new Array(b);b.tag=a;return b}function c(a){var b=a.length|0,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a[d];c.tag=a.tag|0;return c}function d(a,c){__p&&__p();var d=a.length|0;if(c<=0||c>d)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.truncate"];if(d!==c){for(var e=c,d=d-1|0;e<=d;++e)a[e]=0;a.length=c;return 0}else return 0}function e(a){return b("bs_block").__(250,[a])}function g(a){a=[a];a.tag=246;return a}function h(a,b){var c=b.length|0;for(var d=0,c=c-1|0;d<=c;++d)a[d]=b[d];d=b.tag|0;if(d!==0){a.tag=d;return 0}else return 0}function i(a,b){for(var c in a)b(c)}function j(a,c){__p&&__p();while(!0){var d=c,e=a;if(e===d)return 0;else{var f=typeof e,g=typeof d;switch(f){case"boolean":if(g==="boolean")return b("bs_caml_primitive").caml_bool_compare(e,d);break;case"function":if(g==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"compare: functional value"];break;case"number":if(g==="number")return b("bs_caml_primitive").caml_int_compare(e,d);break;case"string":if(g==="string")return b("bs_caml_primitive").caml_string_compare(e,d);else return 1;case"undefined":return-1;default:}switch(g){case"string":return-1;case"undefined":return 1;default:if(f==="boolean")return 1;else if(g==="boolean")return-1;else if(f==="function")return 1;else if(g==="function")return-1;else if(f==="number")if(d===null||d.tag===256)return 1;else return-1;else if(g==="number")if(e===null||e.tag===256)return-1;else return 1;else if(e===null)if(d.tag===256)return 1;else return-1;else if(d===null)if(e.tag===256)return-1;else return 1;else{f=e.tag|0;g=d.tag|0;if(f===250){a=e[0];continue}else if(g===250){c=d[0];continue}else if(f===256)if(g===256)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else return-1;else if(f===248)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else{if(f===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];if(f!==g)if(f<g)return-1;else return 1;else{f=e.length|0;g=d.length|0;if(f===g)if(Array.isArray(e)){var h=e,k=d,l=0,m=f;while(!0){var n=l;if(n===m)return 0;else{var o=j(h[n],k[n]);if(o!==0)return o;else{l=n+1|0;continue}}}}else if(e instanceof Date&&d instanceof Date)return e-d;else{o=e;n=d;l=[void 0];h=[void 0];var p=function(b,c){__p&&__p();var d=b[2],a=b[1];if(!Object.prototype.hasOwnProperty.call(a,c)||j(b[0][c],a[c])>0){b=d[0];if(b!==void 0&&c>=b)return 0;else{d[0]=c;return 0}}else return 0};k=[o,n,h];m=function(a){return function(b){return p(a,b)}}(k);k=[n,o,l];k=function(a){return function(b){return p(a,b)}}(k);i(o,m);i(n,k);o=l[0];m=h[0];if(o!==void 0)if(m!==void 0)return b("bs_caml_primitive").caml_string_compare(o,m);else return-1;else if(m!==void 0)return 1;else return 0}else if(f<g){n=e;k=d;l=0;h=f;while(!0){o=l;if(o===h)return-1;else{m=j(n[o],k[o]);if(m!==0)return m;else{l=o+1|0;continue}}}}else{f=e;m=d;o=0;l=g;while(!0){n=o;if(n===l)return 1;else{k=j(f[n],m[n]);if(k!==0)return k;else{o=n+1|0;continue}}}}}}}}}}}function k(a,c){__p&&__p();while(!0){var d=c,e=a;if(e===d)return!0;else{var f=typeof e;if(f==="string"||f==="number"||f==="boolean"||f==="undefined"||e===null)return!1;else{var g=typeof d;if(f==="function"||g==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: functional value"];if(g==="number"||g==="undefined"||d===null)return!1;else{f=e.tag|0;g=d.tag|0;if(f===250){a=e[0];continue}else if(g===250){c=d[0];continue}else if(f===248)return e[1]===d[1];else{if(f===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];if(f!==g)return!1;else if(f===256)return e[1]===d[1];else{g=e.length|0;f=d.length|0;if(g===f)if(Array.isArray(e)){f=e;var h=d,j=0;g=g;while(!0){var l=j;if(l===g)return!0;else if(k(f[l],h[l])){j=l+1|0;continue}else return!1}}else if(e instanceof Date&&d instanceof Date)return!(e>d||e<d);else{l=e;j=d;f=[!0];h=function(a,b){return function(c){if(Object.prototype.hasOwnProperty.call(a,c))return 0;else{b[0]=!1;return 0}}}(j,f);g=function(a,b,c){return function(d){if(!Object.prototype.hasOwnProperty.call(a,d)||!k(b[d],a[d])){c[0]=!1;return 0}else return 0}}(l,j,f);i(l,h);f[0]&&i(j,g);return f[0]}else return!1}}}}}}}function l(a,b){if(b!==null)return k(a,b);else return a===b}function m(a,b){if(b!==void 0)return k(a,b);else return a===b}function n(a,b){if(b==null)return a===b;else return k(a,b)}function o(a,b){return!k(a,b)}function p(a,b){return j(a,b)>=0}function q(a,b){return j(a,b)>0}function r(a,b){return j(a,b)<=0}function s(a,b){return j(a,b)<0}function t(a,b){if(j(a,b)<=0)return a;else return b}function u(a,b){if(j(a,b)>=0)return a;else return b}function v(a,b){a.tag=b;return 0}f.caml_obj_block=a;f.caml_obj_dup=c;f.caml_obj_truncate=d;f.caml_lazy_make_forward=e;f.caml_lazy_make=g;f.caml_update_dummy=h;f.caml_compare=j;f.caml_equal=k;f.caml_equal_null=l;f.caml_equal_undefined=m;f.caml_equal_nullable=n;f.caml_notequal=o;f.caml_greaterequal=p;f.caml_greaterthan=q;f.caml_lessthan=s;f.caml_lessequal=r;f.caml_min=t;f.caml_max=u;f.caml_obj_set_tag=v}),null);
__d("bs_array",["bs_curry","bs_caml_obj","bs_caml_array","bs_caml_exceptions","bs_caml_js_exceptions","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bs_caml_array").caml_make_float_vect,h={};function a(a,c){if(a===0)return[];else{if(a<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.init"];var d=b("bs_caml_array").caml_make_vect(a,b("bs_curry")._1(c,0));for(var e=1,a=a-1|0;e<=a;++e)d[e]=b("bs_curry")._1(c,e);return d}}function c(a,c,d){var e=b("bs_caml_array").caml_make_vect(a,[]);for(var f=0,a=a-1|0;f<=a;++f)e[f]=b("bs_caml_array").caml_make_vect(c,d);return e}function i(a){var c=a.length;if(c===0)return[];else return b("bs_caml_array").caml_array_sub(a,0,c)}function d(a,c){var d=a.length;if(d===0)return i(c);else if(c.length===0)return b("bs_caml_array").caml_array_sub(a,0,d);else return a.concat(c)}function e(a,c,d){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.sub"];return b("bs_caml_array").caml_array_sub(a,c,d)}function j(a,c,d,e){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.fill"];for(var f=c,c=(c+d|0)-1|0;f<=c;++f)a[f]=e;return 0}function k(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.blit"];return b("bs_caml_array").caml_array_blit(a,c,d,e,f)}function l(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._1(a,c[d]);return 0}function m(a,c,d){if(c.length!==d.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.iter2: arrays must have the same length"];for(var e=0,f=c.length-1|0;e<=f;++e)b("bs_curry")._2(a,c[e],d[e]);return 0}function n(a,c){var d=c.length;if(d===0)return[];else{var e=b("bs_caml_array").caml_make_vect(d,b("bs_curry")._1(a,c[0]));for(var f=1,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._1(a,c[f]);return e}}function o(a,c,d){__p&&__p();var e=c.length,f=d.length;if(e!==f)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.map2: arrays must have the same length"];if(e===0)return[];else{f=b("bs_caml_array").caml_make_vect(e,b("bs_curry")._2(a,c[0],d[0]));for(var g=1,e=e-1|0;g<=e;++g)f[g]=b("bs_curry")._2(a,c[g],d[g]);return f}}function p(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._2(a,d,c[d]);return 0}function q(a,c){var d=c.length;if(d===0)return[];else{var e=b("bs_caml_array").caml_make_vect(d,b("bs_curry")._2(a,0,c[0]));for(var f=1,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._2(a,f,c[f]);return e}}function r(a){__p&&__p();var b=a.length-1|0,c=0;while(!0){var d=c,e=b;if(e<0)return d;else{c=[a[e],d];b=e-1|0;continue}}}function s(a,b){while(!0){var c=b,d=a;if(c){b=c[1];a=d+1|0;continue}else return d}}function t(a){__p&&__p();if(a){var c=b("bs_caml_array").caml_make_vect(s(0,a),a[0]),d=1;a=a[1];while(!0){var e=a,f=d;if(e){c[f]=e[0];a=e[1];d=f+1|0;continue}else return c}}else return[]}function u(a,c,d){c=c;for(var e=0,f=d.length-1|0;e<=f;++e)c=b("bs_curry")._2(a,c,d[e]);return c}function v(a,c,d){d=d;for(var e=c.length-1|0;e>=0;--e)d=b("bs_curry")._2(a,c[e],d);return d}function w(a,c){__p&&__p();var d=c.length,e=0;while(!0){var f=e;if(f===d)return!1;else if(b("bs_curry")._1(a,c[f]))return!0;else{e=f+1|0;continue}}}function x(a,c){__p&&__p();var d=c.length,e=0;while(!0){var f=e;if(f===d)return!0;else if(b("bs_curry")._1(a,c[f])){e=f+1|0;continue}else return!1}}function y(a,c){__p&&__p();var d=c.length,e=0;while(!0){var f=e;if(f===d)return!1;else if(b("bs_caml_obj").caml_equal(c[f],a))return!0;else{e=f+1|0;continue}}}function z(a,b){__p&&__p();var c=b.length,d=0;while(!0){var e=d;if(e===c)return!1;else if(a===b[e])return!0;else{d=e+1|0;continue}}}var A=b("bs_caml_exceptions").create("Array.Bottom");function B(a,c){__p&&__p();var d=function(d,e){__p&&__p();var f=((e+e|0)+e|0)+1|0,g=f;if((f+2|0)<d){b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,f),b("bs_caml_array").caml_array_get(c,f+1|0))<0&&(g=f+1|0);b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,g),b("bs_caml_array").caml_array_get(c,f+2|0))<0&&(g=f+2|0);return g}else if((f+1|0)<d&&b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,f),b("bs_caml_array").caml_array_get(c,f+1|0))<0)return f+1|0;else if(f<d)return f;else throw[A,e]},e=function(e,f,g){__p&&__p();try{e=e;f=f;var h=g;while(!0){var i=f,j=d(e,i);if(b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,j),h)>0){b("bs_caml_array").caml_array_set(c,i,b("bs_caml_array").caml_array_get(c,j));f=j;continue}else return b("bs_caml_array").caml_array_set(c,i,h)}}catch(a){j=b("bs_caml_js_exceptions").internalToOCamlException(a);if(j[0]===A)return b("bs_caml_array").caml_array_set(c,j[1],g);else throw j}},f=function(a,e){__p&&__p();try{a=a;e=e;while(!0){var f=e,g=d(a,f);b("bs_caml_array").caml_array_set(c,f,b("bs_caml_array").caml_array_get(c,g));e=g;continue}}catch(a){f=b("bs_caml_js_exceptions").internalToOCamlException(a);if(f[0]===A)return f[1];else throw f}},g=function(e,f){__p&&__p();while(!0){var d=e,g=(d-1|0)/3|0;if(d===g)throw[b("bs_caml_builtin_exceptions").assert_failure,["array.ml",238,4]];if(b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,g),f)<0){b("bs_caml_array").caml_array_set(c,d,b("bs_caml_array").caml_array_get(c,g));if(g>0){e=g;continue}else return b("bs_caml_array").caml_array_set(c,0,f)}else return b("bs_caml_array").caml_array_set(c,d,f)}},h=c.length;for(var i=((h+1|0)/3|0)-1|0;i>=0;--i)e(h,i,b("bs_caml_array").caml_array_get(c,i));for(var i=h-1|0;i>=2;--i){e=b("bs_caml_array").caml_array_get(c,i);b("bs_caml_array").caml_array_set(c,i,b("bs_caml_array").caml_array_get(c,0));g(f(i,0),e)}if(h>1){f=(e=b("bs_caml_array")).caml_array_get(c,1);e.caml_array_set(c,1,e.caml_array_get(c,0));return e.caml_array_set(c,0,f)}else return 0}function C(a,c){__p&&__p();var d=function(d,e,f,g,h,i,j){__p&&__p();e=d+e|0;h=g+h|0;var l=d;d=b("bs_caml_array").caml_array_get(c,d);var m=g;g=b("bs_caml_array").caml_array_get(f,g);j=j;while(!0){var n=j,o=g,p=m,q=d,r=l;if(b("bs_curry")._2(a,q,o)<=0){b("bs_caml_array").caml_array_set(i,n,q);q=r+1|0;if(q<e){j=n+1|0;d=b("bs_caml_array").caml_array_get(c,q);l=q;continue}else return k(f,p,i,n+1|0,h-p|0)}else{b("bs_caml_array").caml_array_set(i,n,o);q=p+1|0;if(q<h){j=n+1|0;g=b("bs_caml_array").caml_array_get(f,q);m=q;continue}else return k(c,r,i,n+1|0,e-r|0)}}},e=function(d,e,f,g){for(var h=0,g=g-1|0;h<=g;++h){var i=b("bs_caml_array").caml_array_get(c,d+h|0),j=(f+h|0)-1|0;while(j>=f&&b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(e,j),i)>0)b("bs_caml_array").caml_array_set(e,j+1|0,b("bs_caml_array").caml_array_get(e,j)),j=j-1|0;b("bs_caml_array").caml_array_set(e,j+1|0,i)}return 0},f=function a(f,g,h,i){if(i<=5)return e(f,g,h,i);else{var b=i/2|0;i=i-b|0;a(f+b|0,g,h+b|0,i);a(f,c,f+i|0,b);return d(f+i|0,b,g,h+b|0,i,g,h)}},g=c.length;if(g<=5)return e(0,c,0,g);else{var h=g/2|0;g=g-h|0;var i=b("bs_caml_array").caml_make_vect(g,b("bs_caml_array").caml_array_get(c,0));f(h,i,0,g);f(0,c,g,h);return d(g,h,i,0,g,c,0)}}var D=c,E=b("bs_caml_array").caml_array_concat,F=C;f.make_float=g;f.init=a;f.make_matrix=c;f.create_matrix=D;f.append=d;f.concat=E;f.sub=e;f.copy=i;f.fill=j;f.blit=k;f.to_list=r;f.of_list=t;f.iter=l;f.iteri=p;f.map=n;f.mapi=q;f.fold_left=u;f.fold_right=v;f.iter2=m;f.map2=o;f.for_all=x;f.exists=w;f.mem=y;f.memq=z;f.sort=B;f.stable_sort=C;f.fast_sort=F;f.Floatarray=h}),null);
__d("bs_js_json",["bs_block","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=typeof a;if(c==="string")return b("bs_block").__(0,[a]);else if(c==="number")return b("bs_block").__(1,[a]);else if(c==="boolean")if(a===!0)return 1;else return 0;else if(a===null)return 2;else if(Array.isArray(a))return b("bs_block").__(3,[a]);else return b("bs_block").__(2,[a])}function c(a,b){switch(b){case 0:return typeof a==="string";case 1:return typeof a==="number";case 2:if(a!==null&&typeof a==="object")return!Array.isArray(a);else return!1;case 3:return Array.isArray(a);case 4:return typeof a==="boolean";case 5:return a===null}}function d(a){if(typeof a==="string")return a}function e(a){if(typeof a==="number")return a}function g(a){if(typeof a==="object"&&!Array.isArray(a)&&a!==null)return b("bs_caml_option").some(a)}function h(a){if(Array.isArray(a))return a}function i(a){if(typeof a==="boolean")return a}function j(a){if(a===null)return null}f.classify=a;f.test=c;f.decodeString=d;f.decodeNumber=e;f.decodeObject=g;f.decodeArray=h;f.decodeBoolean=i;f.decodeNull=j}),null);
__d("PerfFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("perf");e.exports=a}),null);
__d("QuickLogActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({START:1,SUCCESS:2,FAIL:3,CANCEL:4,DRAW_COMPLETE:5,ON_RESUME:6,ACTIVITY_CREATED:7,CONSISTENCY_MODEL_UPDATER:8,SEND_MESSAGE:9,SUCCESS_COLD:10,SUCCESS_WARM:11,UI_IDLE:12,PHASE_ONE:13,PHASE_TWO:14,DEQUEUE:15,NETWORK_COMPLETE:16,MEMORY_CACHE_VISIT:17,DISK_CACHE_VISIT:18,CONSISTENCY_UPDATE:19,RETURN_TO_CALLER:20,PHOTO_UPLOAD_COMPLETE:21,USER_NAVIGATION_CANCELLATION:22,DB_FETCH:23,SERVER_FETCH:24,SUCCESS_CACHE:25,SUCCESS_DB:26,SUCCESS_NETWORK:27,SUCCESS_LOCAL_UNSPECIFIED:28,CACHE_UPDATED:29,DB_UPDATED:30,DATA_RECEIVED:31,DRAW_VIEW:32,DATA_EMPTY:33,CACHE_FETCH:34,PREPARE_BEGIN:35,PREPARE_END:36,ASYNC_BEGIN:37,ASYNC_END:38,REMOVE_BEGIN:39,REMOVE_END:40,BROADCAST_DONE:41,ON_RESUME_END:42,ON_ATTACH_END:43,ON_FRAGMENT_CREATE_END:44,ON_CREATE_VIEW_END:45,ON_ACTIVITY_CREATED_END:46,ON_START_END:47,QUEUED:48,IN_PROGRESS:49,INIT:50,UNKNOWN:51,RETRY_AFTER_FAILURE:52,RETRY_AFTER_RECONNECT:53,QUEUEING_BEGIN:54,QUEUEING_SUCCESS:55,QUEUEING_FAIL:56,MESSAGE_UPDATE_START:57,MESSAGE_UPDATE_END:58,PHOTO_CAPTURED:59,MEDIA_PREVIEW_VISIBLE:60,COUNTER:61,INTERACTION_LOAD_TIMELINE_HEADER:62,INTERACTION_LOAD_EVENT_PERMALINK:63,INTERACTION_LOAD_GROUPS_FEED:64,INTERACTION_LOAD_PAGE_HEADER:65,INTERACTION_LOAD_PAGE_HEADER_ADMIN:66,INTERACTION_LOAD_PERMALINK:67,INTERACTION_OPEN_COMPOSER:68,INTERACTION_OPEN_MEDIA_PICKER:69,INTERACTION_OPEN_PHOTO_GALLERY:70,INTERACTION_OPEN_CHECK_IN:71,INTERACTION_LOAD_WEB_VIEW:72,INTENT_MAPPED:73,ACTIVITY_LAUNCHED:74,ACTIVITY_PAUSED:75,ACTIVITY_STARTED:76,ACTIVITY_RESUMED:77,FRAGMENT_CREATED:78,FRAGMENT_RESUMED:79,ACTIVITY_ON_CREATE:80,INTENT_MAPPING_BEGIN:81,FRAGMENT_ON_CREATE:82,FRAGMENT_NEW_INSTANCE:83,MARKER_SWAPPED:84,FRAGMENT_INSTANCE_CREATED:85,PREV_ACTIVITY_PAUSED:86,ERROR:87,METHOD_INVOKE:88,FINALLY:89,PHOTO_DOWNLOAD_COMPLETE:90,MINIPREVIEW_COMPLETE:91,SEARCH_TYPEAHEAD:92,ANIMATION_END:93,UDP_REQUEST_SEND:94,MAIN_COMPLETE:95,INTERRUPTED:96,NETWORK_FAILED:97,NETWORK_RESPONSE:98,EDGE_PROCESSING_BEGIN:99,NEWSFEED_PROCESS_RESPONSE:100,ON_VIEW_CREATED_END:101,DATA_LOAD_START:102,LEGACY_MARKER:103,ACTION_BAR_COMPLETE:104,ABORTED:105,QUERY_READY:106,RTMP_PACKET_RECEIVED:107,REQUESTED_PLAYING:108,RTMP_CONNECTION_REQUESTED:109,RTMP_CONNECTION_RELEASE:110,NEW_START_FOUND:111,MISSED_EVENT:112,TIMEOUT:113,CONTROLLER_INITIATED:114,RTMP_STREAM_PREPARED:115,VIDEO_PLAYING:116,RTMP_CONNECTION_CONNECTED:117,RTMP_CONNECTION_FAILED:118,RTMP_CONNECTION_INTERCEPTED:119,VIDEO_SET_RENDERER_CONTEXT:120,HEADER_DATA_LOADED:121,CARD_DATA_LOADED:122,VIEW_WILL_APPEAR_BEGIN:123,VIEW_DID_LOAD_BEGIN:124,COMPONENTS_DATA_SOURCE_WILL_BEGIN_UPDATES:125,COMPONENTS_DATA_SOURCE_DID_END_UPDATES:126,LOAD_VIEW_BEGIN:127,RTMP_FIRST_KEY_FRAME_RECEIVED:128,MESSENGER_QUEUE_CREATION:129,APP_DID_FINISH_LAUNCHING:130,APP_DID_BECOME_ACTIVE:131,APP_WILL_ENTER_FOREGROUND:132,APP_DID_ENTER_BACKGROUND:133,APP_MAIN:134,MQTT_CONNECTING:135,MQTT_CONNECTED:136,MQTT_DISCONNECTED:137,MESSENGER_DELTA_REQUEST:138,APP_FIRST_VIEW_CONTROLLER:139,MESSENGER_THREAD_LIST_LOADED:140,MESSENGER_THREAD_LIST_DISPLAYED:141,PREV_ACTIVITY_PAUSE:142,ACTIVITY_RESUME:143,ACTIVITY_START:144,BEGIN_START_ACTIVITY:145,END_START_ACTIVITY:146,FILE_SYSTEM_FAIL:147,FORMAT_ERROR:148,PRIVACY_VIOLATION:149,NETWORK_RESPONSE_INITIAL_SCAN:150,POPULATE_CONSISTENCY_MEMORY_CACHE:151,APPLY_OPTIMISTICS:152,APPLY_FINISHED_LIST:153,APPLY_FINISHED_LIST_AGAIN:154,FUTURE_LISTENERS_COMPLETE:155,SERVICE_ON_START_COMMAND:156,WAIT_FOR_BLOCKERS:157,NOTIFY_SUBSCRIBERS:158,FAIL_FILE_TOO_LARGE:159,OFFLINE:160,ASNYC_FAILED:161,ASYNC_FAIL:162,ON_ATTACH_FRAGMENT:163,VIEW_DID_APPEAR_BEGIN:164,DISPLAYED:165,DISPLAYED_ON_SCREEN:166,ASYNC_ACTION_SUCCESS:167,ASYNC_ACTION_FAIL:168,CONNECTIVITY_CHANGED:169,VIDEO_DISPLAYED:170,VIDEO_REQUESTED_PLAYING:171,LOADED_AUDIO_SESSION:172,LOADED_CAMERA_SESSION:173,SUCCESS_OPTIMISTIC:174,OUT_OF_ORDER:175,NOT_READY:176,JSON_PARSE:177,FILE_NOT_FOUND:178,METABOX_COMPLETE:179,CALL_TO_ACTION_COMPLETE:180,HEADER_DRAW_COMPLETE:181,COVER_PHOTO_COMPLETE:182,COMPONENT_WILL_CREATE:183,COMPONENT_DID_CREATE:184,COMPONENT_WILL_LAYOUT:185,COMPONENT_DID_LAYOUT:186,COMPONENT_WILL_MOUNT:187,COMPONENT_DID_MOUNT:188,PRECALCULATE_EDGES:189,UI_THREAD_DEQUEUE:190,CALLBACKS_COMPLETE:191,CALLBACKS_DISPATCHED:192,NETWORK_PARSE_COMPLETE:193,START_LOADING_JS_BUNDLE:194,FINISH_LOADING_JS_BUNDLE:195,START_EXECUTING_JS_BUNDLE:196,FINISH_EXECUTING_JS_BUNDLE:197,START_CALLING_JS_FUNCTION:198,FINISH_CALLING_JS_FUNCTION:199,CREATED_MODEL_FILE:200,DB_SUPPLIER_GET:201,BEGIN_TRANSACTION:202,FILE_FLUSHED:203,OPTIMISTIC_UPDATES_APPLIED:204,FRAGMENT_VISIBLE:205,STALE:206,SUCCESS_GET_MODEL:207,FAIL_GET_MODEL:208,ALREADY_SEEN:209,UNKNOWN_SEEN_STATE:210,CREATED_INTENT:211,INVALID_INTENT:212,SHOW_NOTIFICATION:213,SUCCESS_FETCH_IMAGE:214,FAIL_FETCH_IMAGE:215,DROPPED:216,QUERY_CHUNKS:217,QUERY_ROWS:218,COMPUTE_CHUNKS:219,SCROLL_COMPLETE:220,USE_INSTANCE_STATE:221,USE_ARGUMENTS:222,OFFSCREEN:223,LOG_READ:224,LOG_COMPACTED:225,LOG_WRITER_OPENED:226,TAB_SWITCH:227,EXIT_VIEW_CONTROLLER:228,TAGS_PREPARED:229,VIEW_DID_APPEAR:230,MEDIA_TOO_SMALL:231,ITEM_SELECTED:232,REPOSITIONED:233,PHOTO_UPLOAD_START:234,MEDIA_EDIT:235,MEDIA_EDIT_COMPLETE:236,VIDEO_PAUSE:237,VIDEO_COMPLETE:238,VIDEO_PLAYING_TIMEOUT:239,VIDEO_PLAYING_QPL_TIMEOUT:240,SESSION_OPEN:241,SCHEMA_HASH_MISMATCH:242,OVERRIDES_EXIST:243,DI_DONE:244,FLATBUFFER_SCHEMA_ABSENT:245,SUCCESS_NONEXISTENCE:246,VIDEO_CANCELLED:247,MESSENGER_QUEUE_CREATION_FAILURE:248,MESSENGER_DELTA_REQUEST_FAILURE:249,RETURN_EXCEPTION_TO_CALLER:250,SURFACE_TEXTURE_AVAILABLE:251,NEWS_FEED_FRAGMENT:252,HEADER_CACHE_FETCH_STARTED:253,CHANGESET_ENQUEUED:258,RTC_BROADCAST_INITIALIZED:259,RTC_STREAMING_INITIALIZED:260,RTC_STREAMING_STARTED:261,CAMERA_VIDEO_OUTPUT_SWITCHED:262,RTMP_STREAM_STOPPED:263,LOCATION_FETCH_BEGIN:264,LOCATION_FETCH_SUCCESS:265,LOCATION_FETCH_FAILED:266,FIRST_UPDATE_SUCCESS:267,FIRST_UPDATE_FAILURE:268,RTMP_STREAMING_HANDLED_FRAME:269,RTMP_DVR_HANDLED_FRAME:274,LIVE_RTMP_STREAMING_HANDLED_FRAME:275,LIVE_RTMP_DVR_HANDLED_FRAME:276,PASS_QE_CHECK:277,PASS_AD_CHECK:278,PASS_SAMPLE_RATE_CHECK:279,HAS_VALID_HTML:280,FOUND_IMAGES:281,TIGON_REQUEST_BEGIN:282,TIGON_REQUEST_END:283,TIGON_RESPONSE_BEGIN:284,TIGON_RESPONSE_END:285,TIGON_PARSE_BEGIN:286,TIGON_PARSE_END:287,GRAPHQL_CACHE_FETCH_START:288,GRAPHQL_CACHE_FETCH_END:289,VIDEO_START_STALL:290,VIDEO_END_STALL:291,MERGE_LOCAL_FIELDS:292,LOAD_QUERY_STRING:293,CONFIG_TABLE_SCHEMA_HASH_MISMATCH:294,CONFIG_TABLE_SCHEMA_ABSENT:295,CONFIG_TABLE_MAGIC_MISMATCH:296,OBJSEL_FETCH:297,GO_TO_AD_ACTIVITY:298,SAVE_AD:299,UNSAVE_AD:300,SAVE_MODE:301,GO_AD_ACTIVITY_MODE:302,ACCESSIBILITY_ACTIVATE:303,ACCESSIBILITY_CUSTOM:304,ACCESSIBILITY_MAGIC_TAP:305,FINAL_IMAGE_SET:306,INTERMEDIATE_IMAGE_SET:307,INTERMEDIATE_IMAGE_FAIL:308,INTERMEDIATE_IMAGE_GOOD_ENOUGH_SET:309,APP_BACKGROUND:310,APP_FOREGROUND:311,RECEIVED_HARDWARE_FRAME:312,CAMERA_COMPONENT_MOUNTED:313,MQTT_CONNECTION_ATTEMPTED:314,DELTA_APPLICATION_COMPLETED:325,DELTAS_RECEIVED_AFTER_CONNECT:326,MESSENGER_DAY_UNIT_DISPLAYED:327,DATA_LOAD_END:328,VIEW_DID_BECOME_VISIBLE:329,DELTA_APPLICATION_INTERRUPTED:330,DELTA_BATCH_APPLICATION_COMPLETED:331,MESSAGE_LIST_DID_UPDATE:332,MESSAGE_LIST_WILL_UPDATE:333,SUCCESS_ZERO_WAIT_TIME:334,USER_SCROLLED:335,SPINNER_APPEARED:336,MODEL_ENQUEUED:337,VIEW_MODEL_APPLIED:338,PRESENTED:339,VIEW_DID_BECOME_VISIBLE_END:340,MESSENGER_DELTA_REQUEST_INIT:341,FEED_REQUEST_STARTED:342,FEED_REQUEST_FAILED:343,FEED_REQUEST_SUCCEEDED:344,FEED_LOAD_FROM_DISK_FINISHED:345,STORIES_REQUEST_STARTED:346,STORIES_REQUEST_FAILED:392,STORIES_REQUEST_SUCCEEDED:393,STORIES_LOAD_FROM_DISK_FINISHED:394,USER_INFO_LOADED:395,APP_CREATED:396,INIT_TO_USABLE:397,INIT_TO_NETWORK_CONTENT:398,TOTAL:399,HEAD:400,TAIL:401,INITIAL:402,OTHER:403,ANR_START_DATA_CAPTURE:404,ANR_ENQUEUE:405,NOTIF_NOT_ALERTED:406,NOTIF_DUPLICATE:407,NOTIF_MUTED:408,NOTIF_BUZZED:409,FEED_RESPONSE_PROCESSED:410,STORIES_RESPONSE_PROCESSED:411,APP_DID_FINISH_LAUNCHING_ENDED:412,ASYNC_BEGIN_DB:413,DELTA_APPLICATION_STARTED:414,ASYNC_SUCCESS_DB:415,ASYNC_FAIL_DB:416,ASYNC_BEGIN_SERVER:417,ASYNC_SUCCESS_SERVER:418,ASYNC_FAIL_SERVER:419,LEAVE:420,ASYNC_SUCCESS_DB_NO_DATA:429,ASYNC_FAIL_SERVER_NO_DATA:430,SUCCESS_MEMORY:431,SUCCESS_SERVER:432,FAIL_NO_DATA:433,ACTIVITY_NEW_INTENT:434,GRID_MEDIA_LOADED:435,STORY_TRAY_MEDIA_LOADED:436,INTERACTION_OPEN_QRCODE_SCANNER:437,MEDIA_LOAD_CACHE:438,MEDIA_LOAD_NETWORK:439,COMMENTS_LOAD_START:440,COMMENTS_LOAD_COMPLETE:441,MEDIA_LOAD_START:442,SCROLL_START:443,QRCODE_SCANNER_SCAN_SUCCESS:444,QRCODE_SCANNER_SCAN_FAILURE:445,APP_CREATED_MAIN_PROCESS:446,FINISH_REGISTERING_JS_NATIVE_MODULES:447,NON_ANR:448,FINISH_INITIALIZING_JS_BRIDGE:449,FINISH_INJECTING_JS_HOOKS:450,FINISH_RUNNING_JS_INITIALIZER:451,UI_RESPONSIVE:452,PHASE_ONE_COMPLETE:453,PHASE_TWO_COMPLETE:454,LS_HEADER_START:455,LS_HEADER_LOAD:456,LS_BODY_START:457,LS_BODY_LOAD:458,APP_ONCREATE:459,START_FETCH_IMAGE:460,LOGGED_OUT:461,LS_HEADER_LAYOUT_SUCCESS:462,STARTED_CAPTURE_SESSION:463,CAMERA_VIEW_READY:464,CAMERA_FIRST_FRAME:465,PHOTO_BITMAP_READY:466,END:467,FRAME_RENDERED:468,LS_MAP_LIST_START:469,LS_MAP_LIST_LOADED:470,LS_MAP_LIST_SUCCESS:471,FETCH_THREAD_STARTED:472,FETCH_THREAD_SUCCEEDED:473,FETCH_THREAD_FAILED:474,STRUCTURE_FETCH_COMPLETE:475,FOLLOWED_SHOWS_FETCHED:476,ABANDONED:477,ENTERED:478,LS_FILTER_START:479,LS_FILTER_LOAD:480,LS_FILTER_SUCCESS:481,LS_SEARCH_RESULT_START:482,LS_SEARCH_RESULT_LOAD:483,NETWORK_PARSE_START:484,NETWORK_REQUEST_SENT:485,COMPONENT_DATA_MODEL_UPDATE_START:486,COMPONENT_DATA_MODEL_UPDATE_COMPLETE:487,HIGH_RES_PHOTO_FILE_READY:488,NATIVE_PHOTO_BITMAP_READY:489,REEL_JSON_RECEIVED:490,REEL_MEDIA_RECEIVED:491,STORY_VIEWER_APPEAR:492,FETCH_INBOX_STARTED:493,FETCH_INBOX_SUCCEEDED:494,FETCH_INBOX_FAILED:495,REQUEST_ADDED:496,INIT_QE_START:497,INIT_QE_END:498,MULTIDEX_INSTALLED:499,PREPARE_CAMERA_SESSION:500,START_CAMERA_SESSION:501,DID_START_CAMERA_SESSION:502,FIRST_HARDWARE_FRAME:503,START_RENDERING_FIRST_USER_FRAME:504,FIRST_MEDIA_RENDERED:505,FIRST_CACHED_MEDIA_RENDERED:506,CAMERA_INITIALIZED:507,HTTP_TRANSACTION_STARTED:508,REMOTE_PROCESS:509,PRE_REQUEST_SEND_CALLED:510,BRIDGE_STARTUP_WILL_START:511,BRIDGE_STARTUP_DID_FINISH:512,COVER_PHOTO_LOW_RES:513,COVER_PHOTO_HIGH_RES:514,PROFILE_PIC_LOW_RES:515,PROFILE_PIC_HIGH_RES:516,CONTEXT_ITEMS:517,MEDIA_LOADED:518,STATE_UPDATE:519,ON_SHOW_LOGIN:520,EMPTY_REQUEST:521,METERED_CONNECTION:522,VIDEO_DOWNSTREAM_FORMAT_CHANGED:523,DISABLED:524,NO_METADATA:525,INCOMPLETE_METADATA:526,PHOTO_CAPTURE_READY:527,CAMERA_START_READY:528,DELAY_START:529,DELAY_STOP:530,RANK_START:531,RANK_STOP:532,DB_WRITE_START:533,DB_WRITE_STOP:534,ADD_STORY_TO_UI:535,WEBVIEW_URI_REDIRECTOR_CONSTRUCTION:536,UNINTERRUPTED:537,VIDEO_TOGGLE_FULL_SCREEN:538,CONFIGURE_START:539,CONFIGURE_END:540,BROWSER_OPEN:541,FIRST_DATA_RECEIVED:542,RVP_WILL_LOAD:543,RVP_DID_LOAD:544,CACHE_WRITE_START:545,CACHE_WRITE_SUCCESS:546,CACHE_WRITE_FAIL:547,RVP_WILL_PAUSE:548,RVP_DID_PAUSE:549,RVP_WILL_PLAY:550,RVP_DID_PLAY:551,RVP_WILL_PREPARE:552,RVP_DID_PREPARE:553,RVP_WILL_RELOAD:554,RVP_DID_RELOAD:555,RVP_WILL_CREATE:556,RVP_DID_CREATE:557,RVP_WILL_FINISH_INFLATE:558,RVP_DID_FINISH_INFLATE:559,RVP_WILL_MOUNT:560,RVP_DID_MOUNT:561,START_COMPRESSING_MESSAGE:562,MESSAGE_COMPRESSED:563,START_DECOMPRESSING_MESSAGE:564,MESSAGE_DECOMPRESSED:565,START_SENDING_MESSAGE:566,CAMERA_PREVIEW_FROZEN:567,VC_INIT_START:569,VC_INIT_BEGIN:570,VC_INIT_END:571,VC_VIEW_DID_LOAD_BEGIN:572,VC_VIEW_DID_LOAD_END:573,ROOT_QUERY_START:574,ROOT_QUERY_SUCCESS:575,ROOT_QUERY_FAIL:576,CACHE_INITIALIZED:577,FETCH_BEGIN:578,FETCH_FINISHED:579,PARSING_FINISHED:580,LOAD_VIEW_END:581,LOAD_URL_BEGIN:582,LOAD_URL_END:583,SHOULD_LOAD_URL_BEGIN:598,SHOULD_LOAD_URL_END:599,BLOCKING_RESOURCES_LOADED:600,WEB_PAGE_LOADED:601,JS_TEARDOWN:603,JS_SETUP:604,PREP_STATE:605,PREP_FORMS:606,RUN_FUNCTION:610,LOAD_MODULES:613,VIDEO_READY_TO_PLAY:614,CANCEL_NAVIGATION:615,BEGIN_HANDLE_EVENT:626,END_HANDLE_EVENT:627,BEGIN_PROCESS_EVENT:628,END_PROCESS_EVENT:629,CANCEL_BACKGROUND:630,SC_TRACKER_SETUP_BEGIN:631,SC_TRACKER_SETUP_END:632,PROFILE_TOOLBOX_SETUP_BEGIN:633,PROFILE_TOOLBOX_SETUP_END:634,FEED_TOOLBOX_SETUP_BEGIN:635,FEED_TOOLBOX_SETUP_END:636,SCREEN_PART_RECEIVED:637,RVP_DID_FAIL_AUTOPLAY:638,VIEW_WILL_APPEAR_END:639,VIDEO_RENDERED:640,VIEW_DID_APPEAR_END:641,SHARE_FLOW_LOADED:642,START_DOWNLOAD_FACE_DETECTION_EFFECT:643,APPLY_FACE_DETECTION_EFFECT:644,INTERACTION_SWIPE_UP:645,LOOM_PROVIDER_FAILURE:646,ADS_SELECT_POST_VIEW:647,ADS_SELECT_IMAGE_VIEW:648,ADS_SELECT_BUDGET_VIEW:649,ADS_SELECT_AUDIENCE_VIEW:650,ADS_SELECT_CREATIVE_VIEW:651,VIDEO_FETCH_REQUEST_START:652,VIDEO_FETCH_REQUEST_RECEIVED:653,VIDEO_FETCH_REQUEST_ENTER_NETWORK_QUEUE:654,VIDEO_FETCH_REQUEST_NETWORK_REQUEST_START:655,VIDEO_FETCH_REQUEST_NETWORK_RESPONSE_RECEIVED:656,VIDEO_FETCH_REQUEST_NETWORK_FIRST_BYTE_ARRIVED:657,VIDEO_FETCH_REQUEST_NETWORK_TRANSFER_COMPLETE:658,VIDEO_FETCH_REQUEST_SATISFIED_BY_CACHE:659,VIDEO_FETCH_REQUEST_COMPLETE:660,VIDEO_FETCH_REQUEST_CACHE_CHECK_START:661,VIDEO_FETCH_REQUEST_CACHE_CHECK_END:662,VIDEO_FETCH_REQUEST_DID_ATTACH_TO_NETWORK_REQUEST:663,SELECT_PHOTOS_FAILED_SCORE:664,SELECT_PHOTOS_FAILED_TIMESTAMP:665,INTERACTION_CLICK:666,VIDEO_SCRUBBER_FIRST_THUMBNAIL_SHOWN:667,VIDEO_SCRUBBER_THUMBNAIL_SHOWN:668,COLD_START_BEGIN:669,COLD_START_END:670,COLD_START_LOAD_APP_JS:671,COLD_START_QUERY_SEND:672,COLD_START_APP_SHELL_COMPONENT_DID_MOUNT:673,VIDEO_RECORDING_START_CALLED:674,VIDEO_RECORDING_STOP_CALLED:675,WIKTORK_TEST:676,WIKTORK_TEST_TWO:677,ON_VIDEO_RECORDING_FINISHED:678,MEASURE_IMAGE:679,PDP_RENDER_LOADING:680,PDP_RENDER_FETCHED:681,VIDEO_FETCH_REQUEST_FAILED:682,LOGIN_FLOW_STARTED:683,LOGIN_FLOW_COMPLETED:684,VIDEO_DOWNLOAD_STARTED:685,VIDEO_DOWNLOAD_READY_TO_PLAY:686,VIDEO_DOWNLOAD_FAILED:687,FBLITE_SCREEN_RECEIVED:688,FBLITE_SERVER_START:689,FBLITE_SERVER_END:690,FBLITE_INCOMPLETE:691,BACKGROUND_THREAD:692,MAIN_THREAD:693,BWE_ESTIMATE_COMPLETE:694,WIKTORK_TEST_THREE:695,FBLITE_UNEXPECTED:696,THREAD_ASYNC_BEGIN_SERVER:697,THREAD_ASYNC_SUCCESS_SERVER:698,CARD_ASYNC_BEGIN_SERVER:699,CARD_ASYNC_SUCCESS_SERVER:700,FBLITE_INSTANT_TRANSITION_FAILED:701,BB_TRACE_REQUESTED:702,CANCEL_PSP:703,AGGREGATED:704})}),null);
__d("QuickLogConfigHelper",["QuickLogConfig"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.getEventDetails=function(a){return b("QuickLogConfig").qpl_events[a]};return a}();e.exports=new a()}),null);
__d("QuickPerformanceLogger",["requireCond","Arbiter","Bootloader","Env","FBLogger","cr:682175","PerfFalcoEvent","PerfXSharedFields","QuickLogActionType","QuickLogConfig","QuickLogConfigHelper","Random","gkx","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=(g||(g=b("performanceAbsoluteNow")))();a=function(){__p&&__p();function a(){this.$1={},this.$2={},this.$3=100,this.$5=1,this.$6=new Map()}var c=a.prototype;c.$7=function(a,c){if(b("QuickLogConfig").killswitch)return null;a=this.$1[a];if(!a)return null;a=a[c];return!a?null:a};c.markerStart=function(a,c,d){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());if(b("QuickLogConfig").killswitch)return;this.$1&&this.$1[a]&&this.$1[a][c]&&b("FBLogger")("qpl").blameToPreviousFrame().mustfix("Duplicate QPL markerId: "+a+" & instanceKey: "+c);var e;b("cr:682175")&&(e=b("cr:682175").maybeStartTraceForQPL(a,c,d));this.$6.forEach(function(b){return b.onMarkerStart(a,c,d)});var f=this.$9(a),g=f[0];f=f[1];if(g||e!=null){var h=this.$1[a];h||(this.$1[a]={});this.$1[a][c]={passesSampling:g,timestamp:d,sampleRate:f,points:{}}}e!=null&&this.annotateMarkerString(a,"loomRefId",e,c)};c.markerStartFromNavStart=function(a,c){c===void 0&&(c=0);var d=b("performanceNavigationStart")();this.markerStart(a,c,d);if(b("performanceNavigationStart").isPolyfilled){d=this.$7(a,c);d&&(d.timestampIsApproximate=!0)}};c.annotateMarkerBool=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsBool||{};f[b]=c;e.annotationsBool=f};c.annotateMarkerBoolArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsBoolArray||{};f[b]=c;e.annotationsBoolArray=f};c.annotateMarkerString=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotations||{};f[b]=c;e.annotations=f};c.annotateMarkerStringArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsStringArray||{};f[b]=c;e.annotationsStringArray=f};c.annotateMarkerInt=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=Math.floor(c),g=e.annotationsInt||{};g[b]=f;e.annotationsInt=g};c.annotateMarkerIntArray=function(a,b,c,d){__p&&__p();d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=c.map(function(a){return Math.floor(a)}),g=e.annotationsIntArray||{};g[b]=f;e.annotationsIntArray=g};c.annotateMarkerDouble=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsDouble||{};f[b]=c;e.annotationsDouble=f};c.annotateMarkerDoubleArray=function(a,b,c,d){d===void 0&&(d=0);this.$6.forEach(function(e){return e.onAnnotation(a,d,b,c)});var e=this.$7(a,d);if(!e)return;var f=e.annotationsDoubleArray||{};f[b]=c;e.annotationsDoubleArray=f};c.markerPoint=function(a,b,c,d,e){d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());this.$6.forEach(function(f){return f.onMarkerPoint(a,d,b,c,e)});var f=this.$7(a,d);if(!f)return;f.points[b]={data:c,timeSinceStart:Math.round(e-f.timestamp)}};c.markerEnd=function(a,c,d,e){__p&&__p();d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());var f=Date.now();this.$6.forEach(function(b){return b.onMarkerEnd(c,a,d,e)});var g=this.$7(a,d);if(!g)return;b("cr:682175")&&b("cr:682175").maybeEndTraceForQPL(a,d,e,babelHelpers["extends"]({qpl_action:c},g.annotations,g.annotationsBool,g.annotationsInt,g.annotationsDouble,g.annotationsBoolArray,g.annotationsStringArray,g.annotationsIntArray,g.annotationsDoubleArray));if(g.passesSampling){var h=Math.round(e-g.timestamp);f=f-h;if(g.timestampIsApproximate!==!0){var j=g.points;this.$10({marker_id:a,action_id:c,instance_id:d,sample_rate:g.sampleRate,method:"random_sampling",value:h,annotations:g.annotations,annotations_bool:g.annotationsBool,annotations_int:g.annotationsInt,annotations_double:g.annotationsDouble,annotations_bool_array:g.annotationsBoolArray,annotations_string_array:g.annotationsStringArray,annotations_int_array:g.annotationsIntArray,annotations_double_array:g.annotationsDoubleArray,points:Object.keys(j).map(function(a){return{name:a,timeSinceStart:j[a].timeSinceStart,data:{string:j[a].data!=null?{__key:j[a].data}:null}}}),metadata:{application_analytics:{time_since_qpl_module_init:e-i}}})}this.$4===a&&(console.timeStamp("QPLDebug MarkerEnd, "+this.currentTimestamp()+", "+f+", "+h),b("Arbiter").inform("qpl_debugger_finished"))}delete this.$1[a][d]};c.markerDrop=function(a,c){c===void 0&&(c=0);var d=this.$1[a];d&&delete d[c];if(b("cr:682175")){d=this.currentTimestamp();b("cr:682175").maybeEndTraceForQPL(a,c,d,{qpl_action:216})}};c.markEvent=function(a,c,d,e){__p&&__p();e=e===void 0?{}:e;var f=e.timestamp;f=f===void 0?this.currentTimestamp():f;e=e.annotations;if(b("QuickLogConfig").killswitch)return;var g=this.$9(a),h=g[0];g=g[1];if(!h)return;h=typeof e==="function"?e():e;this.$10({marker_id:a,action_id:0,instance_id:0,sample_rate:g,method:"random_sampling",value:0,da_type:c,da_level:d,annotations:h==null?void 0:h.string,annotations_int:h==null?void 0:h["int"],annotations_double:h==null?void 0:h["double"],annotations_bool:h==null?void 0:h.bool,annotations_string_array:h==null?void 0:h.string_array,annotations_int_array:h==null?void 0:h.int_array,annotations_double_array:h==null?void 0:h.double_array,annotations_bool_array:h==null?void 0:h.bool_array,metadata:{application_analytics:{time_since_qpl_module_init:f-i}}})};c.dropAllMarkers=function(){this.$1={}};c.setAlwaysOnSampleRate=function(a,b){this.$2[a]=b};c.setSampleRateForInstance=function(a,b,c){c===void 0&&(c=0);a=this.$1[a][c];a&&(a.sampleRate=b)};c.currentTimestamp=function(){return(g||(g=b("performanceAbsoluteNow")))()};c.$9=function(a){var c;c=(c=b("QuickLogConfigHelper").getEventDetails(a))!=null?c:{sampleRate:0};c=this.$4===a?1:(a=(a=this.$2[a])!=null?a:c.sampleRate)!=null?a:this.$3;a=(h||(h=b("Env"))).enable_qplinspector===!0||b("Random").coinflip(c);return[a,c]};c.$10=function(a){var c=this.$11(a);(h||(h=b("Env"))).enable_qplinspector===!0&&b("Bootloader").loadModules(["QPLInspector"],function(a){a.appendLog(c)},"QuickPerformanceLogger");b("gkx")("708253")?b("PerfFalcoEvent").logImmediately(function(){return c}):b("PerfFalcoEvent").log(function(){return c})};c.$11=function(a){var c=b("PerfXSharedFields").getCommonData();a.metadata=babelHelpers["extends"]({},a.metadata,{memory_stats:{total_mem:c.ram_gb?c.ram_gb*1073741824:null},network_stats:{downlink_megabits:c.downlink_megabits,network_subtype:c.effective_connection_type,rtt_ms:c.rtt_ms}});return a};c.$8=function(a,b,c){};c.enableDebug=function(a){this.$4=parseInt(a,10)};c.disableDebug=function(){this.$4=null};c.addListener=function(a){var b=this,c=this.$5++;this.$6.set(c,a);return{dispose:function(){b.$6["delete"](c)}}};return a}();e.exports=new a()}),null);
__d("MessengerThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2102001433236093"};b.getQueryID=function(){return"521094482074202"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("bs_caml_external_polyfill",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){__p&&__p();if(typeof globalThis!=="undefined")return globalThis;if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof a!=="undefined")return a;if(typeof this!=="undefined")return this;throw new Error("Unable to locate global `this`")}function b(a){var b=g();if(b[a]===void 0)throw new Error(a+" not polyfilled by BuckleScript yet\n");return b[a]}function c(a,b){var c=g();c[a]=b;return 0}f.getGlobalThis=g;f.resolve=b;f.register=c}),null);
__d("bs_caml_io",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["",function(a,b){a=b.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(b);else if(b[a]==="\n")return 0;else return 0}],h=["",function(a,b){a=b.length-1|0;if(b[a]==="\n")return 0;else return 0}];function i(a){if(a[0]!==""){b("bs_curry")._2(a[1],a,a[0]);a[0]="";return 0}else return 0}function j(a,b,c,d){__p&&__p();b=c===0&&d===b.length?b:b.slice(c,d);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&a===g)return process.stdout.write(b);else{c=b.lastIndexOf("\n");if(c<0){a[0]=a[0]+b;return 0}else{a[0]=a[0]+b.slice(0,c+1|0);i(a);a[0]=a[0]+b.slice(c+1|0);return 0}}}function a(a,b){return j(a,String.fromCharCode(b),0,1)}function c(a){return[g,[h,0]]}d=void 0;f.stdin=d;f.stdout=g;f.stderr=h;f.caml_ml_flush=i;f.caml_ml_output=j;f.caml_ml_output_char=a;f.caml_ml_out_channels_list=c}),null);
__d("bs_caml_string",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c>=a.length||c<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];return a.charCodeAt(c)}function c(a,b){return a.charCodeAt(b)+(a.charCodeAt(b+1|0)<<8)|0}function d(a,b){return((a.charCodeAt(b)+(a.charCodeAt(b+1|0)<<8)|0)+(a.charCodeAt(b+2|0)<<16)|0)+(a.charCodeAt(b+3|0)<<24)|0}function e(a,c){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];return a.charCodeAt(c)}f.caml_string_get=a;f.caml_string_get16=c;f.caml_string_get32=d;f.get=e}),null);
__d("bs_caml_sys",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(typeof process==="undefined"||process.env===void 0)throw b("bs_caml_builtin_exceptions").not_found;a=process.env[a];if(a!==void 0)return a;else throw b("bs_caml_builtin_exceptions").not_found}function c(a){if(typeof process==="undefined"||process.uptime===void 0)return-1;else return process.uptime()}function d(a){return[((Date.now()|0)^4294967295)*Math.random()|0]}function e(a){return 127}function g(a){if(typeof process==="undefined")return"/";else return process.cwd()}function h(a){if(typeof process==="undefined")return["",[""]];else{a=process.argv;if(a==null)return["",[""]];else return[a[0],a]}}function i(a){if(typeof process!=="undefined")return process.exit(a);else return 0}function j(a){throw[b("bs_caml_builtin_exceptions").failure,"caml_sys_is_directory not implemented"]}function k(a){throw[b("bs_caml_builtin_exceptions").failure,"caml_sys_file_exists not implemented"]}f.caml_sys_getenv=a;f.caml_sys_time=c;f.caml_sys_random_seed=d;f.caml_sys_system_command=e;f.caml_sys_getcwd=g;f.caml_sys_get_argv=h;f.caml_sys_exit=i;f.caml_sys_is_directory=j;f.caml_sys_file_exists=k}),null);
__d("bs_camlinternalFormatBasics",["bs_block"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();if(typeof a==="number")return 0;else switch(a.tag|0){case 0:return b("bs_block").__(0,[g(a[0])]);case 1:return b("bs_block").__(1,[g(a[0])]);case 2:return b("bs_block").__(2,[g(a[0])]);case 3:return b("bs_block").__(3,[g(a[0])]);case 4:return b("bs_block").__(4,[g(a[0])]);case 5:return b("bs_block").__(5,[g(a[0])]);case 6:return b("bs_block").__(6,[g(a[0])]);case 7:return b("bs_block").__(7,[g(a[0])]);case 8:return b("bs_block").__(8,[a[0],g(a[1])]);case 9:var c=a[0];return b("bs_block").__(9,[c,c,g(a[2])]);case 10:return b("bs_block").__(10,[g(a[0])]);case 11:return b("bs_block").__(11,[g(a[0])]);case 12:return b("bs_block").__(12,[g(a[0])]);case 13:return b("bs_block").__(13,[g(a[0])]);case 14:return b("bs_block").__(14,[g(a[0])])}}function h(a,c){__p&&__p();if(typeof a==="number")return c;else switch(a.tag|0){case 0:return b("bs_block").__(0,[h(a[0],c)]);case 1:return b("bs_block").__(1,[h(a[0],c)]);case 2:return b("bs_block").__(2,[h(a[0],c)]);case 3:return b("bs_block").__(3,[h(a[0],c)]);case 4:return b("bs_block").__(4,[h(a[0],c)]);case 5:return b("bs_block").__(5,[h(a[0],c)]);case 6:return b("bs_block").__(6,[h(a[0],c)]);case 7:return b("bs_block").__(7,[h(a[0],c)]);case 8:return b("bs_block").__(8,[a[0],h(a[1],c)]);case 9:return b("bs_block").__(9,[a[0],a[1],h(a[2],c)]);case 10:return b("bs_block").__(10,[h(a[0],c)]);case 11:return b("bs_block").__(11,[h(a[0],c)]);case 12:return b("bs_block").__(12,[h(a[0],c)]);case 13:return b("bs_block").__(13,[h(a[0],c)]);case 14:return b("bs_block").__(14,[h(a[0],c)])}}function i(a,c){__p&&__p();if(typeof a==="number")return c;else switch(a.tag|0){case 0:return b("bs_block").__(0,[i(a[0],c)]);case 1:return b("bs_block").__(1,[i(a[0],c)]);case 2:return b("bs_block").__(2,[a[0],i(a[1],c)]);case 3:return b("bs_block").__(3,[a[0],i(a[1],c)]);case 4:return b("bs_block").__(4,[a[0],a[1],a[2],i(a[3],c)]);case 5:return b("bs_block").__(5,[a[0],a[1],a[2],i(a[3],c)]);case 6:return b("bs_block").__(6,[a[0],a[1],a[2],i(a[3],c)]);case 7:return b("bs_block").__(7,[a[0],a[1],a[2],i(a[3],c)]);case 8:return b("bs_block").__(8,[a[0],a[1],a[2],i(a[3],c)]);case 9:return b("bs_block").__(9,[a[0],i(a[1],c)]);case 10:return b("bs_block").__(10,[i(a[0],c)]);case 11:return b("bs_block").__(11,[a[0],i(a[1],c)]);case 12:return b("bs_block").__(12,[a[0],i(a[1],c)]);case 13:return b("bs_block").__(13,[a[0],a[1],i(a[2],c)]);case 14:return b("bs_block").__(14,[a[0],a[1],i(a[2],c)]);case 15:return b("bs_block").__(15,[i(a[0],c)]);case 16:return b("bs_block").__(16,[i(a[0],c)]);case 17:return b("bs_block").__(17,[a[0],i(a[1],c)]);case 18:return b("bs_block").__(18,[a[0],i(a[1],c)]);case 19:return b("bs_block").__(19,[i(a[0],c)]);case 20:return b("bs_block").__(20,[a[0],a[1],i(a[2],c)]);case 21:return b("bs_block").__(21,[a[0],i(a[1],c)]);case 22:return b("bs_block").__(22,[i(a[0],c)]);case 23:return b("bs_block").__(23,[a[0],i(a[1],c)]);case 24:return b("bs_block").__(24,[a[0],a[1],i(a[2],c)])}}f.concat_fmtty=h;f.erase_rel=g;f.concat_fmt=i}),null);
__d("bs_pervasives",["bs_curry","bs_caml_io","bs_caml_sys","bs_caml_bytes","bs_caml_format","bs_caml_string","bs_caml_exceptions","bs_caml_js_exceptions","bs_caml_external_polyfill","bs_caml_builtin_exceptions","bs_camlinternalFormatBasics"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){throw[b("bs_caml_builtin_exceptions").failure,a]}function c(a){throw[b("bs_caml_builtin_exceptions").invalid_argument,a]}var h=b("bs_caml_exceptions").create("Pervasives.Exit");function d(a){if(a>=0)return a;else return-a|0}function e(a){return a^-1}var i=-2147483648;function j(a){if(isFinite(a))if(Math.abs(a)>=22250738585072014e-324)return 0;else if(a!==0)return 1;else return 2;else if(isNaN(a))return 4;else return 3}function k(a){if(a<0||a>255)throw[b("bs_caml_builtin_exceptions").invalid_argument,"char_of_int"];return a}function l(a){if(a)return"true";else return"false"}function m(a){switch(a){case"false":return!1;case"true":return!0;default:throw[b("bs_caml_builtin_exceptions").invalid_argument,"bool_of_string"]}}function n(a){switch(a){case"false":return!1;case"true":return!0;default:return}}function o(a){try{return b("bs_caml_format").caml_int_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a[0]===b("bs_caml_builtin_exceptions").failure)return;else throw a}}function p(a){__p&&__p();var c=a.length,d=0;while(!0){var e=d;if(e>=c)return a+".";else{var f=b("bs_caml_string").get(a,e);if(f>=48)if(f>=58)return a;else{d=e+1|0;continue}else if(f!==45)return a;else{d=e+1|0;continue}}}}function q(a){return p(b("bs_caml_format").caml_format_float("%.12g",a))}function r(a){try{return b("bs_caml_format").caml_float_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a[0]===b("bs_caml_builtin_exceptions").failure)return;else throw a}}function s(a,b){if(a)return[a[0],s(a[1],b)];else return b}var t=(g=b("bs_caml_io")).stdin,u=g.stdout,v=g.stderr;function w(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_out")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function x(a){return w([1,[3,[4,[7,0]]]],438,a)}function y(a){return w([1,[3,[4,[6,0]]]],438,a)}function z(a){__p&&__p();a=b("bs_caml_io").caml_ml_out_channels_list(0);while(!0){var c=a;if(c){try{b("bs_caml_io").caml_ml_flush(c[0])}catch(a){var d=b("bs_caml_js_exceptions").internalToOCamlException(a);if(d[0]!==b("bs_caml_builtin_exceptions").sys_error)throw d}a=c[1];continue}else return 0}}function A(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,0,c.length)}function B(a,c){return b("bs_caml_io").caml_ml_output(a,c,0,c.length)}function C(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"output"];return b("bs_caml_external_polyfill").resolve("caml_ml_output_bytes")(a,c,d,e)}function D(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"output_substring"];return b("bs_caml_io").caml_ml_output(a,c,d,e)}function E(a,c){return b("bs_caml_external_polyfill").resolve("caml_output_value")(a,c,0)}function F(a){b("bs_caml_io").caml_ml_flush(a);return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function G(a){try{b("bs_caml_io").caml_ml_flush(a)}catch(a){}try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return 0}}function H(a,c,d){a=b("bs_caml_external_polyfill").resolve("caml_ml_open_descriptor_in")(b("bs_caml_external_polyfill").resolve("caml_sys_open")(d,a,c));b("bs_caml_external_polyfill").resolve("caml_ml_set_channel_name")(a,d);return a}function I(a){return H([0,[7,0]],0,a)}function J(a){return H([0,[6,0]],0,a)}function K(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"input"];return b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,d,e)}function L(a,c,d,e){__p&&__p();while(!0){var f=e,g=d;if(f<=0)return 0;else{var h=b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,c,g,f);if(h===0)throw b("bs_caml_builtin_exceptions").end_of_file;e=f-h|0;d=g+h|0;continue}}}function M(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"really_input"];return L(a,c,d,e)}function N(a,c){var d=b("bs_caml_bytes").caml_create_bytes(c);M(a,d,0,c);return b("bs_caml_bytes").bytes_to_string(d)}function O(a){__p&&__p();var c=function(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(e){var g=e[0],h=g.length;b("bs_caml_bytes").caml_blit_bytes(g,0,a,f-h|0,h);d=e[1];c=f-h|0;continue}else return a}},d=function(d,e){__p&&__p();while(!0){var f=e,g=d,h=b("bs_caml_external_polyfill").resolve("caml_ml_input_scan_line")(a);if(h===0)if(g)return c(b("bs_caml_bytes").caml_create_bytes(f),f,g);else throw b("bs_caml_builtin_exceptions").end_of_file;else if(h>0){var i=b("bs_caml_bytes").caml_create_bytes(h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,i,0,h-1|0);b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a);if(g){var j=(f+h|0)-1|0;return c(b("bs_caml_bytes").caml_create_bytes(j),j,[i,g])}else return i}else{j=b("bs_caml_bytes").caml_create_bytes(-h|0);b("bs_caml_external_polyfill").resolve("caml_ml_input")(a,j,0,-h|0);e=f-h|0;d=[j,g];continue}}};return b("bs_caml_bytes").bytes_to_string(d(0,0))}function P(a){try{return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}catch(a){return 0}}function Q(a){return b("bs_caml_io").caml_ml_output_char(u,a)}function R(a){return B(u,a)}function S(a){return A(u,a)}function T(a){return B(u,String(a))}function U(a){return B(u,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function V(a){b("bs_caml_io").caml_ml_output_char(u,10);return b("bs_caml_io").caml_ml_flush(u)}function W(a){return b("bs_caml_io").caml_ml_output_char(v,a)}function X(a){return B(v,a)}function aa(a){return A(v,a)}function ba(a){return B(v,String(a))}function ca(a){return B(v,p(b("bs_caml_format").caml_format_float("%.12g",a)))}function da(a){b("bs_caml_io").caml_ml_output_char(v,10);return b("bs_caml_io").caml_ml_flush(v)}function ea(a){b("bs_caml_io").caml_ml_flush(u);return O(t)}function fa(a){return b("bs_caml_format").caml_int_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ga(a){return o((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ha(a){return b("bs_caml_format").caml_float_of_string((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ia(a){return r((b("bs_caml_io").caml_ml_flush(u),O(t)))}function ja(a){return a[1]}function ka(a,c){return[b("bs_camlinternalFormatBasics").concat_fmt(a[0],c[0]),a[1]+("%,"+c[1])]}var Y=[z];function la(a){var c=Y[0];Y[0]=function(d){b("bs_curry")._1(a,0);return b("bs_curry")._1(c,0)};return 0}function Z(a){return b("bs_curry")._1(Y[0],0)}function ma(a){Z(0);return b("bs_caml_sys").caml_sys_exit(a)}var na=2147483647,oa=Infinity,pa=-Infinity,qa=17976931348623157e292,ra=22250738585072014e-324,sa=2220446049250313e-31,ta=g.caml_ml_flush,ua=g.caml_ml_output_char;g=g.caml_ml_output_char;function va(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_output_int")(a,c)}function wa(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out")(a,c)}function xa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out")(a)}function ya(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function za(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function Aa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Ba(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_char")(a)}function Ca(a){return b("bs_caml_external_polyfill").resolve("caml_ml_input_int")(a)}function Da(a){return b("bs_caml_external_polyfill").resolve("caml_input_value")(a)}function Ea(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in")(a,c)}function Fa(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in")(a)}function Ga(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size")(a)}function Ha(a){return b("bs_caml_external_polyfill").resolve("caml_ml_close_channel")(a)}function Ia(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_set_binary_mode")(a,c)}function $(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_out_64")(a,c)}function Ja(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_out_64")(a)}function Ka(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}function La(a,c){return b("bs_caml_external_polyfill").resolve("caml_ml_seek_in_64")(a,c)}function Ma(a){return b("bs_caml_external_polyfill").resolve("caml_ml_pos_in_64")(a)}function Na(a){return b("bs_caml_external_polyfill").resolve("caml_ml_channel_size_64")(a)}$={seek_out:$,pos_out:Ja,out_channel_length:Ka,seek_in:La,pos_in:Ma,in_channel_length:Na};f.invalid_arg=c;f.failwith=a;f.Exit=h;f.abs=d;f.max_int=na;f.min_int=i;f.lnot=e;f.infinity=oa;f.neg_infinity=pa;f.max_float=qa;f.min_float=ra;f.epsilon_float=sa;f.classify_float=j;f.char_of_int=k;f.string_of_bool=l;f.bool_of_string=m;f.bool_of_string_opt=n;f.int_of_string_opt=o;f.string_of_float=q;f.float_of_string_opt=r;f.$at=s;f.stdin=t;f.stdout=u;f.stderr=v;f.print_char=Q;f.print_string=R;f.print_bytes=S;f.print_int=T;f.print_float=U;f.print_newline=V;f.prerr_char=W;f.prerr_string=X;f.prerr_bytes=aa;f.prerr_int=ba;f.prerr_float=ca;f.prerr_newline=da;f.read_line=ea;f.read_int=fa;f.read_int_opt=ga;f.read_float=ha;f.read_float_opt=ia;f.open_out=x;f.open_out_bin=y;f.open_out_gen=w;f.flush=ta;f.flush_all=z;f.output_char=ua;f.output_string=B;f.output_bytes=A;f.output=C;f.output_substring=D;f.output_byte=g;f.output_binary_int=va;f.output_value=E;f.seek_out=wa;f.pos_out=xa;f.out_channel_length=ya;f.close_out=F;f.close_out_noerr=G;f.set_binary_mode_out=za;f.open_in=I;f.open_in_bin=J;f.open_in_gen=H;f.input_char=Aa;f.input_line=O;f.input=K;f.really_input=M;f.really_input_string=N;f.input_byte=Ba;f.input_binary_int=Ca;f.input_value=Da;f.seek_in=Ea;f.pos_in=Fa;f.in_channel_length=Ga;f.close_in=Ha;f.close_in_noerr=P;f.set_binary_mode_in=Ia;f.LargeFile=$;f.string_of_format=ja;f.$caret$caret=ka;f.exit=ma;f.at_exit=la;f.valid_float_lexem=p;f.unsafe_really_input=L;f.do_at_exit=Z}),null);
__d("MessengerGraphQLThreadFetcher.bs",["Promise","gkx","BanzaiODS","bs_caml_array","bs_pervasives","WebGraphQL","bs_caml_format","bs_caml_option","bs_js_null_undefined","MercuryServerRequestsConfig","ChatReliabilityInstrumentation","MessengerThreadFetchLoggerUtil","MessengerThreadsWebGraphQLQuery","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){__p&&__p();if(a==null)if(e)return{actions:null,thread:void 0,end_of_history:{type:"user",fbid:c},roger:null,delivery_receipts:[]};else return{actions:null,thread:void 0,end_of_history:void 0,roger:null,delivery_receipts:[]};else{e=[];var g=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),h=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a);g=h==null?g==null?b("bs_pervasives").failwith("No thread ID"):g:h;g!==c&&b("bs_pervasives").failwith("Thread ID mismatch");h=b("MessengerServerPayloadTransformer.bs").transformThread(d,a,f);g=b("bs_js_null_undefined").fromOption(b("MessengerServerPayloadTransformer.bs").transformMessages(d,a,f));f=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(d,a);if(f!==void 0){d={};d[c]=b("bs_caml_option").valFromOption(f);f=d}else f=null;d=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(d.length>=1){d=b("bs_caml_array").caml_array_get(d,0);h.is_canonical?e.push({other_user_fbid:c,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)}):e.push({other_user_fbid:null,thread_fbid:c,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)})}d=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);if(d!==void 0)if(b("bs_caml_option").valFromOption(d).has_previous_page)return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:{type:"thread",fbid:c},roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e}}}function h(a){b("MessengerThreadFetchLoggerUtil").markerPoint(a.id,"sendThreadInfoFetchRequest");return new(b("MessengerThreadsWebGraphQLQuery"))({id:a.id,message_limit:a.limit,load_messages:a.limit>0,load_read_receipts:a.loadReadReceipts,load_delivery_receipts:a.loadDeliveryReceipts,before:a.timestamp,is_work_teamwork_not_putting_muted_in_unreads:b("gkx")("1105011")})}function a(a,c,d){__p&&__p();var e=c.map(h);return b("Promise").all(b("WebGraphQL").execAll(e,{actorID:d?a:null,batchName:"MessengerGraphQLThreadFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.failure");c.forEach(function(a){b("MessengerThreadFetchLoggerUtil").markerEnd(a.id,"FAIL");return 0});b("ChatReliabilityInstrumentation").logERROR("fetch_thread_fail");return b("Promise").reject(a)}).then(function(e){b("BanzaiODS").bumpEntityKey(2966,"messenger_webgraphql","fetch_thread.success");return e.map(function(e,f){e=e.message_thread;f=b("bs_caml_array").caml_array_get(c,f);b("MessengerThreadFetchLoggerUtil").markerPoint(f.id,"getThreadInfoFetchResponse");return g(e,f.id,a,f.isCanonical,d)})})}f._transformPayload=g;f._getQuery=h;f.fetchAll=a}),null);
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("bs_belt_Array",["bs_curry","bs_js_math","bs_caml_option","bs_caml_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c>=0&&c<a.length)return b("bs_caml_option").some(a[c])}function c(a,b){if(!(b>=0&&b<a.length))throw new Error('File "belt_Array.ml", line 25, characters 6-12');return a[b]}function d(a,b,c){if(b>=0&&b<a.length){a[b]=c;return!0}else return!1}function e(a,b,c){if(!(b>=0&&b<a.length))throw new Error('File "belt_Array.ml", line 31, characters 4-10');a[b]=c;return 0}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;return 0}function h(a){var c=a.length;for(var d=0,e=c-1|0;d<=e;++d)g(a,d,b("bs_js_math").random_int(d,c));return 0}function i(a){a=a.slice(0);h(a);return a}function j(a){var b=a.length;a=a;var c=0;b=b;for(var d=0,e=(b/2|0)-1|0;d<=e;++d)g(a,c+d|0,((c+b|0)-d|0)-1|0);return 0}function k(a){var b=a.length,c=new Array(b);for(var d=0,e=b-1|0;d<=e;++d)c[d]=a[(b-1|0)-d|0];return c}function l(a,b){if(a<=0)return[];else{var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b;return c}}function m(a,b){if(a<=0)return[];else{var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b(d);return c}}function n(a,c){return m(a,b("bs_curry").__1(c))}function o(a,b){a=m(a,b);h(a);return a}function p(a,c){return o(a,b("bs_curry").__1(c))}function q(a,b){b=b-a|0;if(b<0)return[];else{var c=new Array(b+1|0);for(var d=0;d<=b;++d)c[d]=a+d|0;return c}}function r(a,b,c){__p&&__p();b=b-a|0;if(b<0||c<=0)return[];else{b=(b/c|0)+1|0;var d=new Array(b);a=a;for(var e=0,b=b-1|0;e<=b;++e)d[e]=a,a=a+c|0;return d}}function s(a,b){var c=a.length,d=b.length;c=c<d?c:d;d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=[a[e],b[e]];return d}function t(a,b,c){var d=a.length,e=b.length;d=d<e?d:e;e=new Array(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=c(a[f],b[f]);return e}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){var c=a.length,d=b.length,e=new Array(c+d|0);for(var f=0,g=c-1|0;f<=g;++f)e[f]=a[f];for(var a=0,f=d-1|0;a<=f;++a)e[c+a|0]=b[a];return e}function w(a){__p&&__p();var b=a.length,c=0;for(var d=0,e=b-1|0;d<=e;++d)c=c+a[d].length|0;d=new Array(c);c=0;for(var e=0,b=b-1|0;e<=b;++e){var f=a[e];for(var g=0,h=f.length-1|0;g<=h;++g)d[c]=f[g],c=c+1|0}return d}function x(a,c,d){__p&&__p();if(d<=0)return[];else{var e=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(e+c|0,0):c;e=e-c|0;e=e<d?e:d;if(e<=0)return[];else{d=new Array(e);for(var f=0,e=e-1|0;f<=e;++f)d[f]=a[c+f|0];return d}}}function y(a,c){var d=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(d+c|0,0):c;d=d-c|0;var e=new Array(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=a[c+f|0];return e}function z(a,c,d,e){__p&&__p();if(d>0){var f=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(f+c|0,0):c;f=f-c|0;f=f<d?f:d;if(f>0){for(var d=c,c=(c+f|0)-1|0;d<=c;++d)a[d]=e;return 0}else return 0}else return 0}function A(a,b,c,d,e){if(d<=b){for(var f=0,g=e-1|0;f<=g;++f)c[f+d|0]=a[f+b|0];return 0}else{for(var f=e-1|0;f>=0;--f)c[f+d|0]=a[f+b|0];return 0}}function B(a,c,d,e,f){__p&&__p();var g=a.length,h=d.length;c=c<0?b("bs_caml_primitive").caml_int_max(g+c|0,0):c;e=e<0?b("bs_caml_primitive").caml_int_max(h+e|0,0):e;f=b("bs_caml_primitive").caml_int_min(f,b("bs_caml_primitive").caml_int_min(g-c|0,h-e|0));if(e<=c){for(var g=0,h=f-1|0;g<=h;++g)d[g+e|0]=a[g+c|0];return 0}else{for(var g=f-1|0;g>=0;--g)d[g+e|0]=a[g+c|0];return 0}}function C(a,b){for(var c=0,d=a.length-1|0;c<=d;++c)b(a[c]);return 0}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,b){var c=a.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=b(a[e]);return d}function F(a,c){return E(a,b("bs_curry").__1(c))}function G(a,c){var d=a.length,e=0,f=void 0;while(f===void 0&&e<d){var g=a[e];c(g)&&(f=b("bs_caml_option").some(g));e=e+1|0}return f}function H(a,c){return G(a,b("bs_curry").__1(c))}function I(a,b){var c=a.length,d=0,e=void 0;while(e===void 0&&d<c){var f=a[d];b(f)&&(e=d);d=d+1|0}return e}function J(a,c){return I(a,b("bs_curry").__1(c))}function K(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0,c=c-1|0;f<=c;++f){var g=a[f];b(g)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function aa(a,c){return K(a,b("bs_curry").__1(c))}function L(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0,c=c-1|0;f<=c;++f){var g=a[f];b(g,f)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function ba(a,c){return L(a,b("bs_curry").__2(c))}function M(a,c){var d=a.length,e=new Array(d),f=0;for(var g=0,d=d-1|0;g<=d;++g){var h=a[g];h=c(h);h!==void 0&&(e[f]=b("bs_caml_option").valFromOption(h),f=f+1|0)}e.length=f;return e}function ca(a,c){return M(a,b("bs_curry").__1(c))}function N(a,b){for(var c=0,d=a.length-1|0;c<=d;++c)b(c,a[c]);return 0}function da(a,c){return N(a,b("bs_curry").__2(c))}function O(a,b){var c=a.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=b(e,a[e]);return d}function ea(a,c){return O(a,b("bs_curry").__2(c))}function P(a,b,c){b=b;for(var d=0,e=a.length-1|0;d<=e;++d)b=c(b,a[d]);return b}function fa(a,c,d){return P(a,c,b("bs_curry").__2(d))}function Q(a,b,c){b=b;for(var d=a.length-1|0;d>=0;--d)b=c(b,a[d]);return b}function ga(a,c,d){return Q(a,c,b("bs_curry").__2(d))}function R(a,c,d,e){d=d;var f=b("bs_caml_primitive").caml_int_min(a.length,c.length);for(var f=f-1|0;f>=0;--f)d=e(d,a[f],c[f]);return d}function ha(a,c,d,e){return R(a,c,d,b("bs_curry").__3(e))}function S(a,b,c){b=b;for(var d=0,e=a.length-1|0;d<=e;++d)b=c(b,a[d],d);return b}function ia(a,c,d){return S(a,c,b("bs_curry").__3(d))}function T(a,b){__p&&__p();var c=a.length;a=a;var d=0;b=b;c=c;while(!0){var e=d;if(e===c)return!0;else if(b(a[e])){d=e+1|0;continue}else return!1}}function ja(a,c){return T(a,b("bs_curry").__1(c))}function U(a,b){__p&&__p();var c=a.length;a=a;var d=0;b=b;c=c;while(!0){var e=d;if(e===c)return!1;else if(b(a[e]))return!0;else{d=e+1|0;continue}}}function ka(a,c){return U(a,b("bs_curry").__1(c))}function V(a,b,c,d,e){__p&&__p();while(!0){var f=c;if(f===e)return!0;else if(d(a[f],b[f])){c=f+1|0;continue}else return!1}}function W(a,c,d){return V(a,c,0,d,b("bs_caml_primitive").caml_int_min(a.length,c.length))}function la(a,c,d){return W(a,c,b("bs_curry").__2(d))}function X(a,c,d){__p&&__p();var e=a,f=c,g=0;d=d;a=b("bs_caml_primitive").caml_int_min(a.length,c.length);while(!0){c=g;if(c===a)return!1;else if(d(e[c],f[c]))return!0;else{g=c+1|0;continue}}}function ma(a,c,d){return X(a,c,b("bs_curry").__2(d))}function Y(a,b,c){var d=a.length,e=b.length;if(d===e)return V(a,b,0,c,d);else return!1}function na(a,c,d){return Y(a,c,b("bs_curry").__2(d))}function Z(a,b,c){__p&&__p();var d=a.length,e=b.length;if(d>e)return 1;else if(d<e)return-1;else{e=a;a=b;b=0;c=c;d=d;while(!0){var f=b;if(f===d)return 0;else{var g=c(e[f],a[f]);if(g===0){b=f+1|0;continue}else return g}}}}function oa(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,b){var c=a.length,d=0,e=0,f=new Array(c),g=new Array(c);for(var h=0,c=c-1|0;h<=c;++h){var i=a[h];b(i)?(f[d]=i,d=d+1|0):(g[e]=i,e=e+1|0)}f.length=d;g.length=e;return[f,g]}function pa(a,c){return $(a,b("bs_curry").__1(c))}function qa(a){var b=a.length,c=new Array(b),d=new Array(b);for(var e=0,b=b-1|0;e<=b;++e){var f=a[e];c[e]=f[0];d[e]=f[1]}return[c,d]}f.get=a;f.getExn=c;f.set=d;f.setExn=e;f.shuffleInPlace=h;f.shuffle=i;f.reverseInPlace=j;f.reverse=k;f.make=l;f.range=q;f.rangeBy=r;f.makeByU=m;f.makeBy=n;f.makeByAndShuffleU=o;f.makeByAndShuffle=p;f.zip=s;f.zipByU=t;f.zipBy=u;f.unzip=qa;f.concat=v;f.concatMany=w;f.slice=x;f.sliceToEnd=y;f.fill=z;f.blit=B;f.blitUnsafe=A;f.forEachU=C;f.forEach=D;f.mapU=E;f.map=F;f.getByU=G;f.getBy=H;f.getIndexByU=I;f.getIndexBy=J;f.keepU=K;f.keep=aa;f.keepWithIndexU=L;f.keepWithIndex=ba;f.keepMapU=M;f.keepMap=ca;f.forEachWithIndexU=N;f.forEachWithIndex=da;f.mapWithIndexU=O;f.mapWithIndex=ea;f.partitionU=$;f.partition=pa;f.reduceU=P;f.reduce=fa;f.reduceReverseU=Q;f.reduceReverse=ga;f.reduceReverse2U=R;f.reduceReverse2=ha;f.reduceWithIndexU=S;f.reduceWithIndex=ia;f.someU=U;f.some=ka;f.everyU=T;f.every=ja;f.every2U=W;f.every2=la;f.some2U=X;f.some2=ma;f.cmpU=Z;f.cmp=oa;f.eqU=Y;f.eq=na}),null);
__d("ClientSyncProtocol_GroupsSyncAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPT_IN:0,OPT_OUT:1,UPDATE_EMOJI:2})}),null);
__d("MSuggestionDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("MSuggestionActions",["MSuggestionDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SAVE_ALL_SUGGESTIONS:null,REMOVE_ALL_SUGGESTIONS:null,REMOVE_SUGGESTIONS_BY_TYPE:null});var g={Types:a,saveAllSuggestions:function(a,c){b("MSuggestionDispatcher").dispatch({type:g.Types.SAVE_ALL_SUGGESTIONS,threadID:a,suggestions:c})},removeAllSuggestions:function(a){a&&b("MSuggestionDispatcher").dispatch({type:g.Types.REMOVE_ALL_SUGGESTIONS,threadID:a})},removeSuggestionsByType:function(a,c){b("MSuggestionDispatcher").dispatch({type:g.Types.REMOVE_SUGGESTIONS_BY_TYPE,threadID:a,typeID:c})}};e.exports=g}),null);
__d("MercuryGlobalActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MARK_ALL_READ:"mga-type:mark-all-read",MARK_ALL_SEEN:"mga-type:mark-all-seen"})}),null);
__d("MercuryMessageCustomizations",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=JSON.parse(a),c=[];Object.keys(b).forEach(function(a){c.push({customization_type:a,customization_value:b[a]})});return c}e.exports={parseCustomizations:a}}),null);
__d("MercuryProfileRanges",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!a.id&&a.i?{id:a.i,offset:a.o,length:a.l}:a}e.exports={extractFromDelta:function(a){a=(a=a)!=null?(a=a.data)!=null?a.prng:a:a;if(!a)return[];var b=[];try{b=JSON.parse(a);if(b.length>0)return b.map(g)}catch(a){}return b}}}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};e.exports=a}),null);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};e.exports=a}),null);
__d("MessageThreadReadStateEffect",["MessageThreadReadState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,c){var d=c.messageMetadata.threadReadStateEffect;if(d!=null){var e=b("MessageThreadReadState")[d];return e===void 0&&typeof d==="number"?d:e}d=c.messageMetadata.skipBumpThread;return d===!0?b("MessageThreadReadState").KEEP_AS_IS:a!==c.messageMetadata.actorFbId?b("MessageThreadReadState").MARK_UNREAD:b("MessageThreadReadState").KEEP_AS_IS};e.exports={extractThreadStateEffectFromDelta:a}}),null);
__d("MessagingThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"})}),null);
__d("MessengerApprovalModeTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:0,APPROVALS:1})}),null);
__d("MessengerApprovalQueueTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUESTED:"REQUESTED",REMOVED:"REMOVED"})}),null);
__d("MessengerGroupRequestSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD:0,JOIN_THROUGH_LINK:1})}),null);
__d("MessengerParticipantsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"3155186547886547"};b.getQueryID=function(){return"1009367449423157"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerWebDeltaEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DELTA_RECEIVED:"DELTA_RECEIVED",DELTA_IGNORED:"DELTA_IGNORED"})}),null);
__d("Bootload.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=function(c){return b("bs_curry")._1(a.doLoad,function(a){return b("bs_curry")._1(c,a.bootloadable)})};return{load:c}}f.Create=a}),null);
__d("PagesMessagingEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3})}),null);
__d("RepliedToMessageStatusForGraphQL",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VALID:"VALID",DELETED:"DELETED",TEMPORARILY_UNAVAILABLE:"TEMPORARILY_UNAVAILABLE"})}),null);
__d("ImmutableValue",["invariant","isNode"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_DONT_EVER_TYPE_THIS_SECRET_KEY";a=function(){__p&&__p();function a(b){b===a[h]||g(0,5608)}a.mergeAllPropertiesInto=function(a,b){var c=b.length;for(var d=0;d<c;d++)Object.assign(a,b[d])};a.deepFreezeRootNode=function(c){if(b("isNode")(c))return;Object.freeze(c);for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)};a.recurseDeepFreeze=function(c){if(b("isNode")(c)||!a.shouldRecurseFreeze(c))return;Object.freeze(c);for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)};a.shouldRecurseFreeze=function(b){return typeof b==="object"&&!(b instanceof a)&&b!==null};return a}();a._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();e.exports=a}),null);
__d("ImmutableObject",["invariant","ImmutableValue","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("mergeHelpers").checkMergeObjectArgs,i=b("mergeHelpers").isTerminal,j="_DONT_EVER_TYPE_THIS_SECRET_KEY";function k(a){a instanceof b("ImmutableValue")||g(0,3884)}var l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a;a=c.call(this,b("ImmutableValue")[j])||this;b("ImmutableValue").mergeAllPropertiesInto(babelHelpers.assertThisInitialized(a),arguments);return a}a.create=function(){var b=Object.create(a.prototype);a.apply(b,arguments);return b};a.set=function(b,c){k(b);typeof c==="object"&&c!==void 0&&!Array.isArray(c)||g(0,3885);return new a(b,c)};a.setProperty=function(b,c,d){var e={};e[c]=d;return a.set(b,e)};a.deleteProperty=function(b,c){var d={};for(var e in b)e!==c&&Object.prototype.hasOwnProperty.call(b,e)&&(d[e]=b[e]);return new a(d)};a.setDeep=function(a,b){k(a);return m(a,b)};a.values=function(a){return Object.keys(a).map(function(b){return a[b]})};return a}(b("ImmutableValue"));function m(a,c){__p&&__p();h(a,c);var d={},e=Object.keys(a);for(var f=0;f<e.length;f++){var g=e[f];!Object.prototype.hasOwnProperty.call(c,g)?d[g]=a[g]:i(a[g])||i(c[g])?d[g]=c[g]:d[g]=m(a[g],c[g])}g=Object.keys(c);for(f=0;f<g.length;f++){e=g[f];if(Object.prototype.hasOwnProperty.call(a,e))continue;d[e]=c[e]}return a instanceof b("ImmutableValue")?new l(d):c instanceof b("ImmutableValue")?new l(d):d}e.exports=l}),null);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),null);
__d("MercuryActionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10})}),null);
__d("MercuryAssert",["MercuryIDs"],(function(a,b,c,d,e,f){__p&&__p();e.exports={isParticipantID:function(a){if(a==null)throw new Error("participant_id null/undefined");if(!b("MercuryIDs").isValid(a))throw new Error("bad_participant_id "+a)},allParticipantIDs:function(a){a.forEach(this.isParticipantID)},isUserParticipantID:function(a){var c=b("MercuryIDs").tokenize(a);if(a==null)throw new Error("participant_id null/undefined");if(c.type!="fbid")throw new Error("bad_user_id "+a)},isEmailParticipantID:function(a){var c=b("MercuryIDs").tokenize(a);if(a==null)throw new Error("participant_id null/undefined");if(c.type!="email")throw new Error("bad_email_id "+a)},allThreadID:function(a){a.forEach(this.isThreadID)},isThreadID:function(a){if(a==null)throw new Error("participant_id null/undefined");if(!b("MercuryIDs").isValid(a))throw new Error("bad_thread_id "+a)}}}),null);
__d("MercuryTagHelper",[],(function(a,b,c,d,e,f){"use strict";a={get:function(a,b){a=a.find(function(a){return a!=null?a.startsWith(b):!1});return a==null?a:a.substr(a.indexOf(":")+1)}};e.exports=a}),null);
__d("MercuryAttachment",["cx","EmojiLikeUtils","MercuryAudioType"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a===Object(a)},i="_1c_u",j=new Set(["animated_image","photo","video","third_party_sticker"]),k={getAttachIconClass:function(a){__p&&__p();switch(a){case"attach:image":return"_y2-";case"attach:video":return"_y2_";case"attach:music":return"_y30";case"attach:voice":return"_y31";case"attach:text":return"_y32";case"attach:pdf":return"_1k9k";case"attach:richtext":return"_1k9l";case"attach:spreadsheet":return"_1k9p";case"attach:presentation":return"_1k9r";case"attach:archive":return"_1k9s";case"attach:ms:word":return"_y33";case"attach:ms:xls":return"_y34";case"attach:ms:ppt":return"_y35"}return"_y36"},getAttachIconClassByMime:function(a){return this.getAttachIconClass(this.getAttachTypeByMime(a))},getAttachTypeByMime:function(a){__p&&__p();if(!a)return"attach:unknown";if(a.startsWith("image"))return"attach:image";else if(a.startsWith("video"))return"attach:video";else if(a.startsWith("audio"))return"attach:music";else if(a.startsWith("text/plain"))return"attach:text";else if(a=="text/pdf"||a=="application/pdf"||a=="application/vnd.pdf"||a=="application/x-pdf")return"attach:pdf";else if(a=="text/richtext"||a=="application/rtf"||a=="application/x-iwork-pages-sffkey")return"attach:richtext";else if(a=="text/csv"||a=="application/x-iwork-numbers-sffkey")return"attach:spreadsheet";else if(a=="application/x-iwork-keynote-sffkey")return"attach:presentation";else if(a=="application/vnd.ms-cab-compressed"||a=="application/x-7z-compressed"||a=="application/x-ace-compressed"||a=="application/x-apple-diskimage"||a=="application/x-compress"||a=="application/x-compressed"||a=="application/x-gzip"||a=="application/x-rar-compressed"||a=="application/x-tar"||a=="application/x-zip-compressed"||a=="application/zip")return"attach:archive";else if(a=="application/msword"||a.startsWith("application/vnd.ms-word")||a.startsWith("application/vnd.openxmlformats-officedocument.wordprocessingml"))return"attach:ms:word";else if(a.startsWith("application/vnd.ms-excel")||a.startsWith("application/vnd.openxmlformats-officedocument.spreadsheetml"))return"attach:ms:xls";else if(a.startsWith("application/vnd.ms-powerpoint")||a.startsWith("application/vnd.openxmlformats-officedocument.presentationml"))return"attach:ms:ppt";else return"attach:unknown"},convertRaw:function(a){__p&&__p();var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d.attach_type==="photo")b.push(d);else if(d.filename){var e=k.getAttachTypeByMime(d.filetype),f={};f.attach_type="file";f.name=d.filename;f.icon_type=e;f.url="";b.push(f)}}return b},get:function(a){__p&&__p();var c=[];a.attachments?c=a.attachments:a.raw_attachments&&(c=this.convertRaw(a.raw_attachments));var d=b("EmojiLikeUtils").getEmojiSize(a);d&&(c=c.concat([{attach_type:"emoji_like",size:d}]));if(!(a.attachments&&a.attachments.length>0)){if(a.sticker_id)return c.concat([{attach_type:"sticker"}]);if(a.preview_attachments&&a.preview_attachments.length>0)return c.concat(a.preview_attachments)}return c},resizeContain:function(a,b){var c=a.width/a.height,d=b.width/b.height;if(d<c)return{width:Math.ceil(Math.min(a.height*d,b.width)),height:Math.ceil(Math.min(a.height,b.height))};else return{width:Math.ceil(Math.min(a.width,b.width)),height:Math.ceil(Math.min(a.width/d,b.height))}},isBubblePreferred:function(a){return this.isFileAttachment(a)},isPhotoAttachment:function(a){return(this==null?void 0:this.getAttachTypeByMime)&&this.getAttachTypeByMime(a.mime_type)==="attach:pdf"?!1:!!(a.attach_type=="photo"||a.attach_type=="animated_image"||a.attach_type=="third_party_sticker"||a.attach_type=="file"&&a.preview_url)},isPhotoGroupAttachment:function(a){return j.has(a.attach_type)},isSinglePhotoGroupAttachment:function(a){return!!(a.attachments&&a.attachments.length===1&&a.attachments[0]&&this.isPhotoGroupAttachment(a.attachments[0]))},isVideoAttachment:function(a){return a.attach_type=="video"},isShareAttachment:function(a){return a.attach_type=="share"},isFileAttachment:function(a){return a.attach_type=="file"},isErrorAttachment:function(a){return a.attach_type=="error"},isStickerAttachment:function(a){return a.attach_type=="sticker"},isEmojiLikeAttachment:function(a){return a.attach_type==="emoji_like"},isVoiceAttachment:function(a){return!a.metadata?!1:a.metadata.type===b("MercuryAudioType").AudioClip||a.metadata.type===b("MercuryAudioType").VoiceMessageWithTranscript},hasAttribution:function(a){return!!a.app_attribution},isLightweightActionAttachment:function(a){return!!(k.isShareAttachment(a)&&a.share&&a.share.target!=null&&a.share.target.lwa_type!=null)},isSingleVideoAttachment:function(a){var b=this;a=this.get(a).filter(h).filter(function(a){return b.isVideoAttachment(a)});return a.length===1},isSharedVideoAttachment:function(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSharedVideoAttachmentMessage:function(a){var b=this;a=this.get(a).filter(h).filter(function(a){return b.isSharedVideoAttachment(a)||b.isGenieSharedVideoAttachment(a)});return a.length===1},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(i);return a&&a.length?a[0]:b}};e.exports=k}),null);
__d("MercuryDisplayTimeFilterMessageRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={renderFilteredContent:function(a){if(a.is_filtered_content_bh)return g._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 b\u1ecb g\u1ee1 do ch\u1ee9a li\u00ean k\u1ebft vi ph\u1ea1m Ti\u00eau chu\u1ea9n c\u1ed9ng \u0111\u1ed3ng c\u1ee7a ch\u00fang t\u00f4i.");if(a.is_filtered_content_account)return g._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 t\u1ea1m th\u1eddi b\u1ecb g\u1ee1 v\u00ec t\u00e0i kho\u1ea3n c\u1ee7a ng\u01b0\u1eddi g\u1eedi c\u1ea7n ph\u1ea3i \u0111\u01b0\u1ee3c x\u00e1c minh.");if(a.is_filtered_content_quasar)return g._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 b\u1ecb g\u1ee1 v\u00ec c\u00f3 ch\u1ee9a n\u1ed9i dung b\u1ecb ch\u1eb7n ho\u1eb7c c\u00f3 h\u1ea1i.");return a.is_filtered_content_invalid_app?g._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 b\u1ecb g\u1ee1 v\u00ec \u1ee9ng d\u1ee5ng g\u1eedi tin nh\u1eafn b\u1ecb ch\u1eb7n g\u1eedi tin."):g._("Tin nh\u1eafn n\u00e0y \u0111\u00e3 t\u1ea1m th\u1eddi b\u1ecb g\u1ee1 v\u00ec t\u00e0i kho\u1ea3n c\u1ee7a ng\u01b0\u1eddi g\u1eedi c\u1ea7n \u0111\u01b0\u1ee3c x\u00e1c minh ho\u1eb7c t\u00e0i kho\u1ea3n \u0111\u00f3 \u0111\u00e3 b\u1ecb x\u00e1c \u0111\u1ecbnh l\u00e0 l\u1ea1m d\u1ee5ng.")}};e.exports=a}),null);
__d("MercuryFilters.bs",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessagingTag").UNREAD;d=b("MessagingTag").GROUPS;function a(a){return[g]}function c(a){return a===g}e="all";f.all=e;f.unread=g;f.groups=d;f.getSupportedFilters=a;f.isSupportedFilter=c}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={generateThreadID:function(a){return"root:"+g.generateOfflineThreadingID(a)},generateOfflineThreadingID:function(a){a=a!=null?a:Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return h(a.slice(-63))}};function h(a){__p&&__p();var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=g}),null);
__d("MercuryMessageIDs.bs",["bs_curry","bs_js_dict","KeyedCallbackManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("KeyedCallbackManager"))();function a(a,c){var d=a.filter(function(a){return a.indexOf("id")===-1}),e=function(d){return b("bs_curry")._1(c,a.map(function(a){var c=b("bs_js_dict").get(d,a);if(c!==void 0)return c;else return a}))};return g.executeOrEnqueue(d,e)}function c(a,b){g.setResource(a,b);return 0}f.getServerIDs=a;f.addServerID=c}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};c.get=function(){return this.getForFBID(b("CurrentUser").getID())};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};return a}();e.exports=a}),null);
__d("MessengerMQTTConnectionEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={DELTA_EVENT:"messenger-mqtt-delta",STREAM_DISCONNECT:"messenger-mqtt-stream-disconnect",STREAM_CONNECTING:"messenger-mqtt-stream-connecting",STREAM_CONNECT:"messenger-mqtt-stream-connect",STATE_CONNECTED:"Connected",STATE_DISCONNECTED:"Disconnected",STATE_CONNECTING:"Connecting",TYP:"messenger-mqtt-typ"}}),null);
__d("MessengerMQTTGating",[],(function(a,b,c,d,e,f){"use strict";var g={_forcedOff:!1,isEnabled:function(){return!g._forcedOff},turnOff:function(){g._forcedOff=!0}};e.exports=g}),null);
__d("MercurySyncEventsProxy",["Arbiter","Bootloader","ChannelConstants","LogHistory","MercurySingletonProvider","MessengerMQTTConnectionEvents","MessengerMQTTGating","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_event_proxy"),h={DELTA:"DELTA",FAKE_DFF:"FAKE_DFF",FLOW:"FLOW",FLOW_REJECT:"FLOW_REJECT",INIT:"MercurySyncDeltaHandler/initSeqID",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING",SHUTDOWN:"SHUTDOWN",TYP:"TYP"};a=function(){__p&&__p();a.getArbiterTypeForFBID=function(a,b){return a+"/"+b};a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$2=[],this.$3=[],this.$1=a,this.init()}var c=a.prototype;c.getArbiterType=function(b){return a.getArbiterTypeForFBID(this.$1,b)};c.init=function(){__p&&__p();var a=this;this.$2.forEach(function(a){return b("Arbiter").unsubscribe(a)});this.$3.forEach(function(a){return b("ifRequired")("ChannelConnection",function(b){return b.unsubscribe(a)})});var c=[],d=[],e=b("MessengerMQTTGating").isEnabled(),f=e?b("MessengerMQTTConnectionEvents").DELTA_EVENT:b("ChannelConstants").getArbiterType("delta");c.push(b("Arbiter").subscribe(f,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.DELTA)].concat(e))}),b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){return a.init()}));!e?(c.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("deltaflow"),function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.FLOW)].concat(e))}),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("deltaflowreject"),function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.FLOW_REJECT)].concat(e))})),b("Bootloader").loadModules(["ChannelConnection","ChannelConnectionEvents"],function(c,e){__p&&__p();d.push(c.subscribe(e.CONNECTED,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.CONNECTED)].concat(e))}),c.subscribe(e.RECONNECTING,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.RECONNECTING)].concat(e))}),c.subscribe(e.SHUTDOWN,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.SHUTDOWN)].concat(e))}))},"MercurySyncEventsProxy")):c.push(b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECT,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.CONNECTED)].concat(e))}),b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_DISCONNECT,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.SHUTDOWN)].concat(e))}),b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECTING,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.RECONNECTING)].concat(e))}));c.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),function(c){g.debug("fakedff",JSON.stringify({fbid:a.$1}));for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.FAKE_DFF)].concat(e))}));e?c.push(b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").TYP,function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.TYP)].concat(e))})):c.push(b("Arbiter").subscribe([b("ChannelConstants").getArbiterType("typ"),b("ChannelConstants").getArbiterType("ttyp")],function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b("Arbiter").inform.apply(b("Arbiter"),[a.getArbiterType(h.TYP)].concat(e))}));this.$2=c;this.$3=d};return a}();a.Events=h;var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryThreadInfo",["MercuryIDs","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={canReply:function(a){return!!(a.is_subscribed&&(a.can_reply===void 0||a.can_reply)&&!a.has_email_participant&&!a.read_only)},getMuteSetting:function(a){return a.mute_until==null?void 0:a.mute_until},isEmptyLocalThread:function(a){return b("MercuryIDs").tokenize(a.thread_id).type==="root"&&!a.timestamp},isMuted:function(a){a=g.getMuteSetting(a);return a!=null&&(a>Date.now()/1e3||a===-1)},areMentionsMuted:function(a){return a.mentions_mute_mode===1},areReactionsMuted:function(a){return a.reactions_mute_mode===1},isNewEmptyLocalThread:function(a){return!!(g.isEmptyLocalThread(a)&&a.participants&&a.participants.length===0)},showSettingsMenu:function(a){return!!((a.can_reply||!a.cannot_reply_reason||a.cannot_reply_reason.toLowerCase()==="blocked"||a.cannot_reply_reason.toLowerCase()==="messenger_blockee")&&!a.has_email_participant&&!a.read_only&&(a.is_subscribed||b("gkx")("982744")))},isColdOpen:function(a){return!!(a.is_canonical_user&&(a.message_count===0||!a.timestamp))}};e.exports=g}),null);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercurySingletonProvider","mixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_informer");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.get=function(){return h.get()};c.getForFBID=function(a){return h.getForFBID(a)};function c(b){__p&&__p();var c;c=a.call(this)||this;c.$MercuryThreadInformer1=b;c.$MercuryThreadInformer2={};c.$MercuryThreadInformer3={};c.$MercuryThreadInformer4={};c.$MercuryThreadInformer5={};c.$MercuryThreadInformer6=!1;c.$MercuryThreadInformer7=!1;c.$MercuryThreadInformer8=!1;c.$MercuryThreadInformer9=!1;c.$MercuryThreadInformer10={};c.$MercuryThreadInformer11={};c.$MercuryThreadInformer12={};c.$MercuryThreadInformer13={};c.$MercuryThreadInformer14=0;return c}var d=c.prototype;d.informNewMessage=function(a,b){this.inform("new-message",{threadID:a,message:b})};d.informNewLogMessage=function(a,b){this.inform("new-log-message",{threadID:a,message:b})};d.updatedThread=function(a){this.$MercuryThreadInformer3[a]=!0,this.$MercuryThreadInformer15()};d.invalidatedThread=function(a){this.$MercuryThreadInformer4[a]=!0,this.$MercuryThreadInformer15()};d.deletedThread=function(a){this.$MercuryThreadInformer2[a]=!0,this.$MercuryThreadInformer15()};d.updatedThreadlist=function(){this.$MercuryThreadInformer6=!0,this.$MercuryThreadInformer15()};d.updatedUnseenState=function(){this.$MercuryThreadInformer7=!0,this.$MercuryThreadInformer15()};d.updatedUnseenTimestamp=function(){this.$MercuryThreadInformer8=!0,this.$MercuryThreadInformer15()};d.updatedUnreadState=function(){this.$MercuryThreadInformer9=!0,this.$MercuryThreadInformer15()};d.changedThreadReadState=function(a,b,c){(!this.$MercuryThreadInformer5[a]||this.$MercuryThreadInformer5[a].timestamp<c)&&(this.$MercuryThreadInformer5[a]={mark_as_read:b,timestamp:c}),this.$MercuryThreadInformer15()};d.receivedMessage=function(a){b("MercuryAssert").isThreadID(a.thread_id);var c=a.thread_id;this.$MercuryThreadInformer10[c]||(this.$MercuryThreadInformer10[c]=[]);this.$MercuryThreadInformer10[c].push(a);this.updatedThread(c)};d.reorderedMessages=function(a,b){this.$MercuryThreadInformer11[a]={source:b},this.$MercuryThreadInformer15()};d.updatedMessage=function(a,b,c){this.$MercuryThreadInformer12[a]||(this.$MercuryThreadInformer12[a]={}),this.$MercuryThreadInformer12[a][b]={source:c},this.updatedThread(a)};d.deletedMessage=function(a,b,c,d){this.$MercuryThreadInformer13[a]||(this.$MercuryThreadInformer13[a]={}),this.$MercuryThreadInformer13[a][b]={attachmentIDs:d,source:c},this.updatedThread(a)};d.synchronizeInforms=function(a){this.$MercuryThreadInformer14++;try{a()}catch(a){throw a}finally{this.$MercuryThreadInformer14--,this.$MercuryThreadInformer15()}};d.listen=function(a,b){return this.subscribe("threads-updated",function(c,d){d[a]&&b(a)})};d.$MercuryThreadInformer15=function(){__p&&__p();if(!this.$MercuryThreadInformer14){var a=this.$MercuryThreadInformer2,b=this.$MercuryThreadInformer3,c=this.$MercuryThreadInformer4,d=this.$MercuryThreadInformer5,e=this.$MercuryThreadInformer6,f=this.$MercuryThreadInformer7,g=this.$MercuryThreadInformer8,h=this.$MercuryThreadInformer9,i=this.$MercuryThreadInformer10,j=this.$MercuryThreadInformer11,k=this.$MercuryThreadInformer12,l=this.$MercuryThreadInformer13;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=!1;this.$MercuryThreadInformer7=!1;this.$MercuryThreadInformer8=!1;this.$MercuryThreadInformer9=!1;this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12={};this.$MercuryThreadInformer13={};var m=Object.keys(b);(m.length||e)&&this.inform("threadlist-updated",m);m.length&&this.$MercuryThreadInformer16("threads-updated",b);for(var e in c){this.$MercuryThreadInformer16("thread-invalidated",c);break}for(var e in d){this.$MercuryThreadInformer16("thread-read-changed",d);break}for(e in a){this.$MercuryThreadInformer16("threads-deleted",a);break}f&&this.$MercuryThreadInformer16("unseen-updated",null);g&&this.$MercuryThreadInformer16("unseen-timestamp-updated",null);h&&this.$MercuryThreadInformer16("unread-updated",null);for(e in i){this.$MercuryThreadInformer16("messages-received",i);break}for(e in j){this.$MercuryThreadInformer16("messages-reordered",j);break}for(e in k){this.$MercuryThreadInformer16("messages-updated",k);break}for(e in l){this.$MercuryThreadInformer16("messages-deleted",l);break}}};d.$MercuryThreadInformer16=function(a,b){a==="threads-updated"&&g.debug(a,JSON.stringify(b)),this.inform(a,b)};return c}(b("mixin")(b("ArbiterMixin")));var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryViewer",["CurrentUser","MercuryAssert"],(function(a,b,c,d,e,f){"use strict";var g="fbid:"+b("CurrentUser").getID();a={getID:function(){return g},isViewer:function(a){b("MercuryAssert").isParticipantID(a);return a===g}};e.exports=a}),null);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"n",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a"})}),null);
__d("getPageIDFromThreadID",["FBIDCheck","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MercuryIDs").getUserIDFromThreadID(a);return!a||b("FBIDCheck").isUser_deprecated(a)?null:a}e.exports=a}),null);
__d("MessengerDesktopNotificationPermissions",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",DENIED:"denied",GRANTED:"granted"});e.exports=a}),null);
__d("MessengerDesktopNotifications",["MessengerDesktopNotificationPermissions","Run","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=new Map();function a(){h.forEach(function(a,b,c){a.close&&a.close()})}c={_closeTimer:null,isSupported:function(){return!!window.Notification},checkPermission:function(){if(window.Notification)return window.Notification.permission},hasDefaultSound:function(){return b("UserAgent").isBrowser("FireFox")&&b("UserAgent").isPlatform("Mac OS X")},isDenied:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED},isGranted:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").GRANTED},requestPermission:function(a){window.Notification&&window.Notification.requestPermission(a)},showNotification:function(a){__p&&__p();if(this.isGranted()){var c=window.Notification?new window.Notification(a.title,{body:a.body,icon:a.icon,tag:a.tag,silent:a.silent}):{};h.set(a.tag,c);a.onShow&&a.onShow();c.onclick=function(){b("WorkplaceChatHelper").isDesktopChatApp()&&b("WorkplaceChatHelper").showWindow(),a.onClick()};c.onclose=function(){h["delete"](a.tag)};this._closeTimer=setTimeout(function(){c.close()},a.closeTime||g);return c}else return null},removeNotification:function(a){a=h.get(a);a&&a.close()}};b("Run").onUnload(a);e.exports=c}),null);
__d("MessengerFolders.bs",["gkx","qex","MessagingTag","MessagingThreadType","MercuryFoldersConfig","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom?[b("MessagingTag").INBOX,b("MessagingTag").PENDING,b("MessagingTag").OTHER,b("MessagingTag").ACTION_ARCHIVED,b("MessagingTag").MARKETPLACE_FOLDER]:[b("MessagingTag").INBOX,b("MessagingTag").PENDING,b("MessagingTag").OTHER,b("MessagingTag").ACTION_ARCHIVED];var g=d.filter(function(a){if(a===b("MessagingTag").PENDING)return!b("MercuryFoldersConfig").hide_message_filtered;else if(a===b("MessagingTag").OTHER)return!b("MercuryFoldersConfig").hide_message_requests;else return!0});function a(a){return[].concat(g)}function c(a){if(a.is_archived)return b("MessagingTag").ACTION_ARCHIVED;else{var c=a.thread_type;if(!(c==null)&&c===b("MessagingThreadType").MARKETPLACE&&b("gkx")("965951"))return b("MessagingTag").MARKETPLACE_FOLDER;else return a.folder}}f.getSupportedFolders=a;f.getFromMeta=c}),null);
__d("MercuryMessageDeliveryState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});e.exports=a}),null);
__d("MessengerMessage.bs",["URI","Utils.bs","bs_js_dict","bs_js_json","bs_caml_obj","bs_caml_option","MercuryViewer","bs_caml_primitive","MercuryActionType","MercuryActionStatus","MercuryPayloadSource","isMessengerDotComURI","MercuryLogMessageType","MercuryMessageDeliveryState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,b,c,d,e,f){b={thread_id:b,thread_fbid:null,other_user_fbid:null,action_type:d,message_id:a,threading_id:null,offline_threading_id:null,author:c,author_email:"",ephemeral_ttl_mode:null,timestamp:e,is_unread:null,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_sponsored:!1,is_one_way_sent:!1,ad_id:null,ad_client_token:null,commerce_message_type:null,customizations:[],source:"",source_tags:[],m_suggestions:null,tags:[],is_spoof_warning:!1,folder:"inbox",platform_xmd:null,message_source:null,montage_reply_data:null,replied_to_message:null,skip_bump_thread:!1,profile_ranges:null,reactions:null,attachments:null,ranges:null,meta_ranges:null,status:null,log_message_type:null,log_message_data:null,log_message_body:null,raw_attachments:null,body:null,subject:null,has_attachment:null,creator_info:null,error_data:null,removed_timestamp:null,unsender:null,verse_group_role_xmd:null,message_unsendability_status:null,is_forwarded:!1,preview_attachments:null,sticker_id:null,mib_direct_message_data:null};return Object.assign(b,f)}function c(a){var b=a.offline_threading_id;if(b==null)return!1;else return b===a.message_id}function d(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE))return!0;else{a=a.log_message_type;if(a==null)return!0;else return!(b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").UNSUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SERVER_ERROR)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").LIVE_LISTEN))}}function e(a){__p&&__p();var c=a.ranges;if(c==null)return 0;else{c=c.map(function(c){__p&&__p();var a=c.entity;if(a==null)return c;else{var d=b("Utils.bs").isTruthy(a.external),e=a.url;if(d||e==null)return c;else{d=new(g||(g=b("URI")))(e);e=b("isMessengerDotComURI")(g.getRequestURI());var f=d.getDomain();return!(e&&!(!(f==null)&&f!==""))?c:Object.assign(Object.assign({},c),{entity:Object.assign(Object.assign({},a),{url:d.setProtocol("https").setDomain("www.facebook.com").toString()})})}}});Object.assign(a,{ranges:c});return 0}}function h(a){if(b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").UNKNOWN)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_INITIAL_DATA)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_THREAD_SYNC)}function i(a){a=a.author;if(a==null)return!1;else return a===b("MercuryViewer").getID()}function j(a){a=a.author;if(a==null)return!1;else return a!==b("MercuryViewer").getID()}function k(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNSENT)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNCONFIRMED)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").RESENDING)}function l(a){a=a.status;if(a==null)return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").SUCCESS)}function m(a,c){return b("bs_caml_primitive").caml_float_compare(a.timestamp,c.timestamp)}function n(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").FAILED_UNKNOWN_REASON)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").ERROR)}function o(a){a=a.error_data;if(a==null)return;else return b("bs_caml_option").nullable_to_opt(a.description)}function p(a,c){__p&&__p();if(n(a))return b("MercuryMessageDeliveryState").ERROR;else if(k(a))return b("MercuryMessageDeliveryState").SENDING;else if(l(a)){a=a.is_one_way_sent||a.timestamp>c;if(a)return b("MercuryMessageDeliveryState").SENT;else return b("MercuryMessageDeliveryState").DELIVERED}else return b("MercuryMessageDeliveryState").UNKNOWN}function q(a,b){__p&&__p();if(n(a))return 4;else if(k(a))return 1;else if(l(a)){b=a.timestamp<=b&&!a.is_one_way_sent;if(b)return 3;else return 2}else return 0}function r(a){__p&&__p();try{a=b("bs_caml_option").some(JSON.parse(a))}catch(b){a=void 0}if(a!==void 0){a=b("bs_js_json").classify(b("bs_caml_option").valFromOption(a));if(typeof a==="number"||a.tag!==2)return;else{a=b("bs_js_dict").get(a[0],"persona");if(a!==void 0){a=b("bs_js_json").classify(b("bs_caml_option").valFromOption(a));if(typeof a==="number"||a.tag!==2)return;else return b("bs_caml_option").some(a[0])}else return}}}function s(a){__p&&__p();if(a==null)return null;else{a=a.platform_xmd;if(a==null)return null;else{a=r(a);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var c=b("bs_js_dict").get(a,"id"),d=b("bs_js_dict").get(a,"name");a=b("bs_js_dict").get(a,"profile_picture_url");if(c!==void 0&&d!==void 0&&a!==void 0)return{id:b("bs_caml_option").valFromOption(c),name:b("bs_caml_option").valFromOption(d),profile_picture_url:b("bs_caml_option").valFromOption(a)};else return null}else return null}}}function t(a){var c=a.log_message_type;if(!(c==null)&&b("bs_caml_obj").caml_equal(c,b("MercuryLogMessageType").SERVER_ERROR))return b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").LOG_MESSAGE);else return!1}function u(a,b){var c=a.thread_fbid,d=a.other_user_fbid;a=a.is_from_iris;if(!(b==null)&&b)return!1;if(!(c==null)||!(d==null)||a)return!0;else return!1}f.makeFakeMessage=a;f.isLocalMessage=c;f.isTitanMessage=d;f.finalizeRanges=e;f.shouldSortForPayloadSource=h;f.isOutbound=i;f.isInbound=j;f.isSending=k;f.isSent=l;f.compare=m;f.hasError=n;f.getError=o;f.getDeliveryState=p;f.getGutterItemStatus=q;f.getPersonaData=r;f.getPersona=s;f.isErrorLogMessage=t;f.hasServerTimestamp=u}),null);
__d("RemoteAction.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return 0}function a(a){return[g]}function c(a,b){if(b[0]===g){b[0]=a;return b}}function d(a){a[0]=g;return 0}function e(a,c){return b("bs_curry")._1(a[0],c)}f.create=a;f.subscribe=c;f.unsubscribe=d;f.send=e}),null);
__d("MessengerSharedMediaActionsLoader",["JSResource"],(function(a,b,c,d,e,f){"use strict";a={deletePhotos:function(a,c){b("JSResource").loadAll([b("JSResource")("MessengerSharedMediaActions").__setRef("MessengerSharedMediaActionsLoader")],function(b){b.deletePhotos(a,c)})}};e.exports=a}),null);
__d("MessengerJoinableModeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRIVATE:0,JOINABLE:1})}),null);
__d("ImageSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE_PICTURE:"profile_picture",IMAGE:"image"});e.exports=a}),null);
__d("PhotoResizeModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTAIN:"s",COVER:"p"})}),null);
__d("ImageSourceRequest",["CurrentUser","ImageSourceType","KeyedCallbackManager","MercuryServerDispatcher","PhotoResizeModeConst"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this._request={fbid:null,type:null,width:null,height:null,resize_mode:null},this._callback=null}var c=a.prototype;c.setFBID=function(a){this._request.fbid=a;return this};c.setType=function(a){if(![b("ImageSourceType").PROFILE_PICTURE,b("ImageSourceType").IMAGE].includes(a))throw new TypeError("ImageSourceRequest.setType: invalid type "+a);this._request.type=a;return this};c.setDimensions=function(a,b){this._request.width=a;this._request.height=b;return this};c.setResizeMode=function(a){if(!["p","s"].includes(a))throw new TypeError("ImageSourceRequest.setResizeMode: invalid resize mode "+a);this._request.resize_mode=a;return this};c.setCallback=function(a){this._callback=a;return this};c.send=function(){if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error("ImageSourceRequest: You must set all the fields");var a=h(),c=i(this._request);a.executeOrEnqueue(c,this._callback);if(a.getUnavailableResourcesFromRequest(c).length===1){b("MercuryServerDispatcher").trySend("/ajax/image_source.php",{requests:[this._request]});return!0}return!1};return a}();var g=null;function h(){__p&&__p();if(g)return g;var a=new(b("KeyedCallbackManager"))();g=a;b("MercuryServerDispatcher").registerEndpoints({"/ajax/image_source.php":{request_user_id:b("CurrentUser").getID(),mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,batch_function:function(a,b){var c;(c=a.requests).push.apply(c,b.requests);return a},handler:function(b,c){c=c.getData().requests;for(var d=0;d<c.length;++d)a.setResource(i(c[d]),b[d])}}});return a}function i(a){return[a.fbid,a.type,a.width,a.height,a.resize_mode].join("|")}e.exports=a}),null);
__d("MercuryVanityIDMap.bs",["bs_js_dict","MercuryAssert","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={};function a(a){return b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(g,a.toLowerCase()))}function c(a){return b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(h,a))}function d(a){return b("bs_js_dict").get(h,a)!==void 0}function e(a){return b("bs_js_dict").get(g,a.toLowerCase())!==void 0}function i(a,c){b("MercuryAssert").isParticipantID(c);a=a.toLowerCase();g[a]=c;h[c]=a;return 0}f.vanityToID=g;f.idToVanity=h;f.getID=a;f.getVanity=c;f.hasID=d;f.hasVanity=e;f.set=i}),null);
__d("ThreadConnectivityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNCONNECTED:0,IMPLICIT_OR_TWO_WAY_MESSAGING:1})}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},badge_type:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("XMercuryThreadLikeIconController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/like_icon/",{emoji:{type:"String",defaultValue:""}})}),null);
__d("bs_belt_SortArray",["bs_curry","bs_belt_Array"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d,e){__p&&__p();while(!0){var f=c,g=b;if(f>=d)return f;else{var h=a[f];if(e(h,g)){c=f+1|0;b=h;continue}else return f}}}function h(a,b){__p&&__p();var c=a.length;if(c===0||c===1)return c;else{var d=a[0],e=a[1];if(b(d,e)){var f=a,h=e,i=2,j=c,k=b;while(!0){var l=i,m=h;if(l>=j)return l;else{var n=f[l];if(k(m,n)){i=l+1|0;h=n;continue}else return l}}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){__p&&__p();var c=a.length;if(c===0)return!0;else{a=a;var d=0;b=b;c=c-1|0;while(!0){var e=d;if(e===c)return!0;else if(b(a[e],a[e+1|0])<=0){d=e+1|0;continue}else return!1}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p<d){i=m+1|0;c=a[p];k=p;continue}else return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0)}else{h[m]=n;p=o+1|0;if(p<g){i=m+1|0;f=e[p];l=p;continue}else return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0)}}}function k(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}else{b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}}else if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(s<d&&t<g){i=r;f=e[t];l=t;c=a[s];k=s;continue}else if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}}else{h[m]=n;p=o+1|0;t=m+1|0;if(p<g){i=t;f=e[p];l=p;continue}else{b("bs_belt_Array").blitUnsafe(a,q,h,t,d-q|0);return(t+d|0)-q|0}}}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){__p&&__p();c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q<c){b=a[q];j=q;continue}else return l}else if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(q<c&&m<f){h=o;e=d[m];k=m;b=a[q];j=q;continue}else return o}else{p=n+1|0;if(p<f){e=d[p];k=p;continue}else return l}}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r<d){i=p;c=a[r];k=r;continue}else return p}else if(n===0){r=q+1|0;p=o+1|0;if(r<d&&p<g){f=e[p];l=p;c=a[r];k=r;continue}else if(r===d)return m;else{b("bs_belt_Array").blitUnsafe(a,r,h,m,d-r|0);return(m+d|0)-r|0}}else{n=o+1|0;if(n<g){f=e[n];l=n;continue}else{b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0,e=e-1|0;g<=e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}return 0}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);else{var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}}function q(a,b){__p&&__p();var c=a.length;if(c<=5)return o(a,0,a,0,c,b);else{var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){__p&&__p();var d=a.length;if(d===0)return-1;else{var e=a[0];e=c(b,e);if(e<0)return-1;else{e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=a;a=0;d=d-1|0;b=b;c=c;while(!0){var f=d,g=a,h=(g+f|0)/2|0,i=e[h];i=c(b,i);if(i===0)return h;else if(i<0)if(f===h)if(c(e[g],b)===0)return g;else return-(f+1|0)|0;else{d=h;continue}else if(g===h)if(c(e[f],b)===0)return f;else return-(f+1|0)|0;else{a=h;continue}}}}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w=0,x=0;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("bs_belt_internalAVLtree",["bs_curry","bs_caml_option","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==null)return a.height;else return 0}function h(a){if(a!==null){var b=a.left,c=a.right;return{key:a.key,value:a.value,height:a.height,left:h(b),right:h(c)}}else return a}function i(a,b,c,d){var e=g(a),f=g(d);return{key:b,value:c,height:e>=f?e+1|0:f+1|0,left:a,right:d}}function j(a,b){return{key:a,value:b,height:1,left:null,right:null}}function k(a,b){if(b!==null)if(a!==null)return a.height>=b.height;else return!1;else return!0}function a(a,b){if(a.value===b)return a;else return{key:a.key,value:b,height:a.height,left:a.left,right:a.right}}function l(a,b,c,d){__p&&__p();var e=a!==null?a.height:0,f=d!==null?d.height:0;if(e>(f+2|0)){var h=a.left,j=a.key,k=a.value,l=a.right;if(g(h)>=g(l))return i(h,j,k,i(l,b,c,d));else{var m=l.left,n=l.key,o=l.value;l=l.right;return i(i(h,j,k,m),n,o,i(l,b,c,d))}}else if(f>(e+2|0)){h=d.left;j=d.key;k=d.value;m=d.right;if(g(m)>=g(h))return i(i(a,b,c,h),j,k,m);else{n=h.left;o=h.key;l=h.value;h=h.right;return i(i(a,b,c,n),o,l,i(h,j,k,m))}}else return{key:b,value:c,height:e>=f?e+1|0:f+1|0,left:a,right:d}}function m(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return b.key}}function c(a){if(a!==null)return b("bs_caml_option").some(m(a))}function d(a){if(a!==null)return m(a)}function n(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return b.key}}function e(a){if(a!==null)return b("bs_caml_option").some(n(a))}function o(a){if(a!==null)return n(a)}function p(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return[b.key,b.value]}}function q(a){if(a!==null)return p(a)}function r(a){if(a!==null)return p(a)}function s(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return[b.key,b.value]}}function t(a){if(a!==null)return s(a)}function aa(a){if(a!==null)return s(a)}function u(a,b,c){var d=a.left,e=a.right,f=a.key;a=a.value;if(d!==null)return l(u(d,b,c),f,a,e);else{b[0]=f;c[0]=a;return e}}function ba(a){return a===null}function v(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d,c];a=d.left;continue}else return c}}function w(a,b){__p&&__p();if(a!==null){var c=w(a.left,b);if(c!==void 0)return c;else{c=a.key;var d=a.value,e=b(c,d);if(e)return[c,d];else{e=w(a.right,b);if(e!==void 0)return e;else return}}}}function ca(a,c){return w(a,b("bs_curry").__2(c))}function x(a,b){__p&&__p();while(!0){var c=a;if(c!==null){x(c.left,b);b(c.key,c.value);a=c.right;continue}else return 0}}function da(a,c){return x(a,b("bs_curry").__2(c))}function y(a,b){if(a!==null){var c=y(a.left,b),d=b(a.value);b=y(a.right,b);return{key:a.key,value:d,height:a.height,left:c,right:b}}else return null}function ea(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){if(a!==null){var c=a.key,d=z(a.left,b),e=b(c,a.value);b=z(a.right,b);return{key:c,value:e,height:a.height,left:d,right:b}}else return null}function fa(a,c){return z(a,b("bs_curry").__2(c))}function A(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e!==null){var f=e.left,g=e.key,h=e.value;e=e.right;b=c(A(f,d,c),g,h);a=e;continue}else return d}}function ga(a,c,d){return A(a,c,b("bs_curry").__3(d))}function B(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.key,c.value)&&B(c.left,b)){a=c.right;continue}else return!1;else return!0}}function ha(a,c){return B(a,b("bs_curry").__2(c))}function C(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.key,c.value)||C(c.left,b))return!0;else{a=c.right;continue}else return!1}}function ia(a,c){return C(a,b("bs_curry").__2(c))}function D(a,b,c){if(a!==null)return l(D(a.left,b,c),a.key,a.value,a.right);else return j(b,c)}function E(a,b,c){if(a!==null)return l(a.left,a.key,a.value,E(a.right,b,c));else return j(b,c)}function F(a,b,c,d){__p&&__p();if(a!==null)if(d!==null){var e=a.left,f=a.key,g=a.value,h=a.right,j=a.height,k=d.left,m=d.key,n=d.value,o=d.right,p=d.height;if(j>(p+2|0))return l(e,f,g,F(h,b,c,d));else if(p>(j+2|0))return l(F(a,b,c,k),m,n,o);else return i(a,b,c,d)}else return E(a,b,c);else return D(d,b,c)}function G(a,b){if(a!==null)if(b!==null){var c=[b.key],d=[b.value],e=u(b,c,d);return F(a,c[0],d[0],e)}else return a;else return b}function ja(a,c,d,e){if(d!==void 0)return F(a,c,b("bs_caml_option").valFromOption(d),e);else return G(a,e)}function H(a,b){if(a!==null){var c=a.key,d=a.value,e=H(a.left,b),f=b(c,d);a=H(a.right,b);if(f)return F(e,c,d,a);else return G(e,a)}else return null}function ka(a,c){return H(a,b("bs_curry").__2(c))}function I(a,c){if(a!==null){var d=a.key,e=a.value,f=I(a.left,c);e=c(d,e);a=I(a.right,c);if(e!==void 0)return F(f,d,b("bs_caml_option").valFromOption(e),a);else return G(f,a)}else return null}function la(a,c){return I(a,b("bs_curry").__2(c))}function J(a,b){__p&&__p();if(a!==null){var c=a.key,d=a.value,e=J(a.left,b),f=e[1];e=e[0];var g=b(c,d);a=J(a.right,b);b=a[1];a=a[0];if(g)return[F(e,c,d,a),G(f,b)];else return[G(e,a),F(f,c,d,b)]}else return[null,null]}function ma(a,c){return J(a,b("bs_curry").__2(c))}function K(a){var b=a.left;a=a.right;b=b!==null?K(b):0;a=a!==null?K(a):0;return(1+b|0)+a|0}function L(a){if(a!==null)return K(a);else return 0}function M(a,b){__p&&__p();while(!0){var c=b,d=a;if(d!==null){var e=d.left,f=d.right,g=d.key;d=d.value;b=[[g,d],M(f,c)];a=e;continue}else return c}}function na(a){return M(a,0)}function N(a){__p&&__p();while(!0){var b=a;if(b!==null){var c=b.left;b=b.right;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw new Error('File "belt_internalAVLtree.ml", line 385, characters 6-12');N(c);a=b;continue}else return 0}}function O(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.key;e=e.right;f=f!==null?O(f,d,c):d;c[f]=g;d=f+1|0;if(e!==null){b=d;a=e;continue}else return d}}function P(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.right;f=f!==null?P(f,d,c):d;c[f]=e.value;d=f+1|0;if(g!==null){b=d;a=g;continue}else return d}}function Q(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.key,h=e.right;f=f!==null?Q(f,d,c):d;c[f]=[g,e.value];d=f+1|0;if(h!==null){b=d;a=h;continue}else return d}}function oa(b){if(b!==null){var a=K(b);a=new Array(a);Q(b,0,a);return a}else return[]}function pa(b){if(b!==null){var a=K(b);a=new Array(a);O(b,0,a);return a}else return[]}function qa(b){if(b!==null){var a=K(b);a=new Array(a);P(b,0,a);return a}else return[]}function R(a,b,c){__p&&__p();switch(c){case 0:return null;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b-1|0];e=e;d=d;return{key:e[0],value:e[1],height:2,left:j(d[0],d[1]),right:null};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];f=f;d=d;e=e;return{key:d[0],value:d[1],height:2,left:j(e[0],e[1]),right:j(f[0],f[1])};default:d=c/2|0;e=R(a,b,d);f=a[b-d|0];a=R(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function S(a,b,c){__p&&__p();switch(c){case 0:return null;case 1:var d=a[b];return j(d[0],d[1]);case 2:d=a[b];var e=a[b+1|0];e=e;d=d;return{key:e[0],value:e[1],height:2,left:j(d[0],d[1]),right:null};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];f=f;d=d;e=e;return{key:d[0],value:d[1],height:2,left:j(e[0],e[1]),right:j(f[0],f[1])};default:d=c/2|0;e=S(a,b,d);f=a[b+d|0];a=S(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f[0],f[1],a)}}function ra(a){return S(a,0,a.length)}function T(a,b,c,d){__p&&__p();var e=L(a),f=L(b);if(e===f){a=v(a,0);b=v(b,0);c=c;d=d;while(!0){var g=b,h=a;if(h&&g){var i=g[0],j=h[0],k=c(j.key,i.key);if(k===0){var l=d(j.value,i.value);if(l===0){b=v(i.right,g[1]);a=v(j.right,h[1]);continue}else return l}else return k}else return 0}}else if(e<f)return-1;else return 1}function sa(a,c,d,e){return T(a,c,d,b("bs_curry").__2(e))}function U(a,b,c,d){__p&&__p();var e=L(a),f=L(b);if(e===f){e=v(a,0);f=v(b,0);a=c;b=d;while(!0){c=f;d=e;if(d&&c){var g=c[0],h=d[0];if(a(h.key,g.key)===0&&b(h.value,g.value)){f=v(g.right,c[1]);e=v(h.right,d[1]);continue}else return!1}else return!0}}else return!1}function ta(a,c,d,e){return U(a,c,d,b("bs_curry").__2(e))}function ua(c,d,a){__p&&__p();while(!0){var e=c;if(e!==null){var f=e.key;f=a(d,f);if(f===0)return b("bs_caml_option").some(e.value);else{c=f<0?e.left:e.right;continue}}else return}}function va(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return d.value;else{b=e<0?d.left:d.right;continue}}else return}}function wa(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return d.value;else{b=e<0?d.left:d.right;continue}}else throw new Error("getExn0")}}function xa(b,c,d,a){__p&&__p();while(!0){var e=b;if(e!==null){var f=e.key;f=a(c,f);if(f===0)return e.value;else{b=f<0?e.left:e.right;continue}}else return d}}function ya(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return!0;else{b=e<0?d.left:d.right;continue}}else return!1}}function V(a){var b=a.left;a.left=b.right;b.right=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.left);d=a.height;b.height=(c>d?c:d)+1|0;return b}function W(a){var b=a.right;a.right=b.left;b.left=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.right);d=a.height;b.height=(c>d?c:d)+1|0;return b}function za(a){var b=W(a.left);a.left=b;return V(a)}function Aa(a){var b=V(a.right);a.right=b;return W(a)}function X(a){var b=g(a.left),c=g(a.right);a.height=(b>c?b:c)+1|0;return a}function Y(a){__p&&__p();var b=a.left,c=a.right,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.left;b=b.right;if(k(f,b))return X(V(a));else return X(za(a))}else if(e>(2+d|0)){f=c.left;b=c.right;if(k(b,f))return X(W(a));else return X(Aa(a))}else{a.height=(d>e?d:e)+1|0;return a}}function Z(b,c,d,a){__p&&__p();if(b!==null){var e=b.key;e=a(c,e);if(e===0){b.value=d;return b}else{var f=b.left,g=b.right;if(e<0){e=Z(f,c,d,a);b.left=e}else b.right=Z(g,c,d,a);return Y(b)}}else return j(c,d)}function Ba(c,a){__p&&__p();var d=c.length;if(d===0)return null;else{var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b[0],c[0])<0}),f;e>=0?f=S(c,0,e):(e=-e|0,f=R(c,e-1|0,e));for(var e=e,d=d-1|0;e<=d;++e){var g=c[e];f=Z(f,g[0],g[1],a)}return f}}function $(a,b){var c=b.right,d=b.left;if(d!==null){b.left=$(a,d);return Y(b)}else{a.key=b.key;return c}}var Ca=null;f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.updateValue=a;f.minKey=c;f.minKeyUndefined=d;f.maxKey=e;f.maxKeyUndefined=o;f.minimum=q;f.minUndefined=r;f.maximum=t;f.maxUndefined=aa;f.removeMinAuxWithRef=u;f.empty=Ca;f.isEmpty=ba;f.stackAllLeft=v;f.findFirstByU=w;f.findFirstBy=ca;f.forEachU=x;f.forEach=da;f.mapU=y;f.map=ea;f.mapWithKeyU=z;f.mapWithKey=fa;f.reduceU=A;f.reduce=ga;f.everyU=B;f.every=ha;f.someU=C;f.some=ia;f.join=F;f.concat=G;f.concatOrJoin=ja;f.keepSharedU=H;f.keepShared=ka;f.keepMapU=I;f.keepMap=la;f.partitionSharedU=J;f.partitionShared=ma;f.lengthNode=K;f.size=L;f.toList=na;f.checkInvariantInternal=N;f.fillArray=Q;f.toArray=oa;f.keysToArray=pa;f.valuesToArray=qa;f.fromSortedArrayAux=S;f.fromSortedArrayRevAux=R;f.fromSortedArrayUnsafe=ra;f.cmpU=T;f.cmp=sa;f.eqU=U;f.eq=ta;f.get=ua;f.getUndefined=va;f.getWithDefault=xa;f.getExn=wa;f.has=ya;f.fromArray=Ba;f.updateMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_MapDict",["bs_curry","bs_caml_option","bs_belt_internalAVLtree"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(c,d,e,a){__p&&__p();if(c!==null){var f=c.key,g=a(d,f);if(g===0)return b("bs_belt_internalAVLtree").updateValue(c,e);else{var i=c.left,j=c.right;c=c.value;if(g<0)return b("bs_belt_internalAVLtree").bal(h(i,d,e,a),f,c,j);else return b("bs_belt_internalAVLtree").bal(i,f,c,h(j,d,e,a))}}else return b("bs_belt_internalAVLtree").singleton(d,e)}function i(c,d,e,a){__p&&__p();if(c!==null){var f=c.key,g=a(d,f);if(g===0){var h=e(b("bs_caml_option").some(c.value));if(h!==void 0)return b("bs_belt_internalAVLtree").updateValue(c,b("bs_caml_option").valFromOption(h));else{h=c.left;var j=c.right;if(h!==null)if(j!==null){var k=[j.key],l=[j.value],m=b("bs_belt_internalAVLtree").removeMinAuxWithRef(j,k,l);return b("bs_belt_internalAVLtree").bal(h,k[0],l[0],m)}else return h;else return j}}else{k=c.left;l=c.right;m=c.value;if(g<0){h=i(k,d,e,a);if(k===h)return c;else return b("bs_belt_internalAVLtree").bal(h,f,m,l)}else{j=i(l,d,e,a);if(l===j)return c;else return b("bs_belt_internalAVLtree").bal(k,f,m,j)}}}else{g=e(void 0);if(g!==void 0)return b("bs_belt_internalAVLtree").singleton(d,b("bs_caml_option").valFromOption(g));else return c}}function a(c,d,e,a){return i(c,d,b("bs_curry").__1(e),a)}function j(c,d,a){__p&&__p();var e=c.left,f=c.key,g=c.right,h=a(d,f);if(h===0)if(e!==null)if(g!==null){var i=[g.key],k=[g.value],l=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,i,k);return b("bs_belt_internalAVLtree").bal(e,i[0],k[0],l)}else return e;else return g;else if(h<0)if(e!==null){i=j(e,d,a);if(i===e)return c;else return b("bs_belt_internalAVLtree").bal(i,f,c.value,g)}else return c;else if(g!==null){k=j(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(e,f,c.value,k)}else return c}function c(c,d,a){if(c!==null)return j(c,d,a);else return b("bs_belt_internalAVLtree").empty}function d(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=h(b,f[0],f[1],a)}return b}function k(c,d,e,a){__p&&__p();var f=c.left,g=c.key,h=c.value,i=c.right,j=a(d,g);if(j===0){e[0]=b("bs_caml_option").some(h);return[f,i]}else if(j<0)if(f!==null){j=k(f,d,e,a);return[j[0],b("bs_belt_internalAVLtree").join(j[1],g,h,i)]}else return[b("bs_belt_internalAVLtree").empty,c];else if(i!==null){j=k(i,d,e,a);return[b("bs_belt_internalAVLtree").join(f,g,h,j[0]),j[1]]}else return[c,b("bs_belt_internalAVLtree").empty]}function e(c,d,a){if(c!==null){var e=[void 0];c=k(c,d,e,a);return[c,e[0]]}else return[[b("bs_belt_internalAVLtree").empty,b("bs_belt_internalAVLtree").empty],void 0]}function l(c,d,e,a){__p&&__p();if(c!==null)if(d!==null)if(c.height>=d.height){var f=c.left,g=c.key,h=c.value,i=c.right,j=[void 0],m=k(d,g,j,a);j=j[0];f=l(f,m[0],e,a);h=e(g,b("bs_caml_option").some(h),j);j=l(i,m[1],e,a);return b("bs_belt_internalAVLtree").concatOrJoin(f,g,h,j)}else{i=d.left;m=d.key;f=d.value;g=d.right;h=[void 0];j=k(c,m,h,a);h=h[0];i=l(j[0],i,e,a);h=e(m,h,b("bs_caml_option").some(f));f=l(j[1],g,e,a);return b("bs_belt_internalAVLtree").concatOrJoin(i,m,h,f)}else return b("bs_belt_internalAVLtree").keepMapU(c,function(a,c){return e(a,b("bs_caml_option").some(c),void 0)});else if(d!==null)return b("bs_belt_internalAVLtree").keepMapU(d,function(a,c){return e(a,void 0,b("bs_caml_option").some(c))});else return b("bs_belt_internalAVLtree").empty}function m(c,d,e,a){return l(c,d,b("bs_curry").__3(e),a)}function n(c,d,a){__p&&__p();var e=d.length;if(c!==null){c=c;d=d;var f=0;e=e;a=a;while(!0){var g=f,h=c;if(g<e){var i=d[g];i=j(h,i,a);if(i!==null){f=g+1|0;c=i;continue}else return i}else return h}}else return b("bs_belt_internalAVLtree").empty}var o=(g=b("bs_belt_internalAVLtree")).empty,p=g.isEmpty,q=g.has,r=g.cmpU,s=g.cmp,t=g.eqU,u=g.eq,v=g.findFirstByU,w=g.findFirstBy,x=g.forEachU,y=g.forEach,z=g.reduceU,A=g.reduce,B=g.everyU,C=g.every,D=g.someU,E=g.some,F=g.size,G=g.toList,H=g.toArray,I=g.fromArray,J=g.keysToArray,K=g.valuesToArray,L=g.minKey,M=g.minKeyUndefined,N=g.maxKey,O=g.maxKeyUndefined,P=g.minimum,Q=g.minUndefined,R=g.maximum,S=g.maxUndefined,T=g.get,U=g.getUndefined,V=g.getWithDefault,W=g.getExn,X=g.checkInvariantInternal,Y=g.keepSharedU,Z=g.keepShared,$=g.partitionSharedU,aa=g.partitionShared,ba=g.mapU,ca=g.map,da=g.mapWithKeyU;g=g.mapWithKey;f.empty=o;f.isEmpty=p;f.has=q;f.cmpU=r;f.cmp=s;f.eqU=t;f.eq=u;f.findFirstByU=v;f.findFirstBy=w;f.forEachU=x;f.forEach=y;f.reduceU=z;f.reduce=A;f.everyU=B;f.every=C;f.someU=D;f.some=E;f.size=F;f.toList=G;f.toArray=H;f.fromArray=I;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.checkInvariantInternal=X;f.remove=c;f.removeMany=n;f.set=h;f.updateU=i;f.update=a;f.mergeU=l;f.merge=m;f.mergeMany=d;f.keepU=Y;f.keep=Z;f.partitionU=$;f.partition=aa;f.split=e;f.mapU=ba;f.map=ca;f.mapWithKeyU=da;f.mapWithKey=g}),null);
__d("bs_belt_Map",["bs_curry","bs_belt_MapDict"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_MapDict").fromArray(a,c)}}function c(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_MapDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp;c=c.data;c=b("bs_belt_MapDict").removeMany(c,d,a);return{cmp:a,data:c}}function e(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").set(c.data,d,e,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeMany(c.data,d,a)}}function h(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").updateU(c.data,d,e,a)}}function i(a,c,d){return h(a,c,b("bs_curry").__1(d))}function j(c,d){var a=c.cmp;c=b("bs_belt_MapDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function k(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeU(c.data,d.data,e,a)}}function l(a,c,d){return k(a,c,b("bs_curry").__3(d))}function m(a){return{cmp:a.cmp,data:b("bs_belt_MapDict").empty}}function n(a){return b("bs_belt_MapDict").isEmpty(a.data)}function o(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,c)}function p(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,b("bs_curry").__2(c))}function q(a,c){return b("bs_belt_MapDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_MapDict").forEachU(a.data,b("bs_curry").__2(c))}function s(a,c,d){return b("bs_belt_MapDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__3(d))}function u(a,c){return b("bs_belt_MapDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_MapDict").everyU(a.data,b("bs_curry").__2(c))}function w(a,c){return b("bs_belt_MapDict").someU(a.data,c)}function x(a,c){return b("bs_belt_MapDict").someU(a.data,b("bs_curry").__2(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__2(c))}function A(c,d){var a=c.cmp;c=b("bs_belt_MapDict").partitionU(c.data,d);return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__2(c))}function C(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapU(a.data,c)}}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapWithKeyU(a.data,c)}}function F(a,c){return E(a,b("bs_curry").__2(c))}function G(a){return b("bs_belt_MapDict").size(a.data)}function H(a){return b("bs_belt_MapDict").toList(a.data)}function I(a){return b("bs_belt_MapDict").toArray(a.data)}function J(a){return b("bs_belt_MapDict").keysToArray(a.data)}function K(a){return b("bs_belt_MapDict").valuesToArray(a.data)}function L(a){return b("bs_belt_MapDict").minKey(a.data)}function M(a){return b("bs_belt_MapDict").minKeyUndefined(a.data)}function N(a){return b("bs_belt_MapDict").maxKey(a.data)}function O(a){return b("bs_belt_MapDict").maxKeyUndefined(a.data)}function P(a){return b("bs_belt_MapDict").minimum(a.data)}function Q(a){return b("bs_belt_MapDict").minUndefined(a.data)}function R(a){return b("bs_belt_MapDict").maximum(a.data)}function S(a){return b("bs_belt_MapDict").maxUndefined(a.data)}function T(a,c){return b("bs_belt_MapDict").get(a.data,c,a.cmp)}function U(a,c){return b("bs_belt_MapDict").getUndefined(a.data,c,a.cmp)}function V(a,c,d){return b("bs_belt_MapDict").getWithDefault(a.data,c,d,a.cmp)}function W(a,c){return b("bs_belt_MapDict").getExn(a.data,c,a.cmp)}function X(a,c){return b("bs_belt_MapDict").has(a.data,c,a.cmp)}function Y(a){return b("bs_belt_MapDict").checkInvariantInternal(a.data)}function Z(a,c,d){return b("bs_belt_MapDict").eqU(a.data,c.data,a.cmp,d)}function aa(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,c,d){return b("bs_belt_MapDict").cmpU(a.data,c.data,a.cmp,d)}function ba(a,c,d){return $(a,c,b("bs_curry").__2(d))}function ca(a){return a.data}function da(a){a=a.cmp;return{cmp:a}}function ea(a,b){return{cmp:a.cmp,data:b}}var fa=0,ga=0,ha=0;f.Int=fa;f.$$String=ga;f.Dict=ha;f.make=m;f.isEmpty=n;f.has=X;f.cmpU=$;f.cmp=ba;f.eqU=Z;f.eq=aa;f.findFirstByU=o;f.findFirstBy=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.size=G;f.toArray=I;f.toList=H;f.fromArray=a;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.remove=c;f.removeMany=d;f.set=e;f.updateU=h;f.update=i;f.mergeMany=g;f.mergeU=k;f.merge=l;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.split=j;f.mapU=C;f.map=D;f.mapWithKeyU=E;f.mapWithKey=F;f.getData=ca;f.getId=da;f.packIdData=ea;f.checkInvariantInternal=Y}),null);
__d("bs_belt_internalMapString",["bs_curry","bs_caml_option","bs_belt_SortArray","bs_caml_primitive","bs_belt_internalAVLtree"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);else{var f=a.value;if(c<e)return b("bs_belt_internalAVLtree").bal(g(a.left,c,d),e,f,a.right);else return b("bs_belt_internalAVLtree").bal(a.left,e,f,g(a.right,c,d))}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function a(a,c){__p&&__p();while(!0){var d=a;if(d!==null){var e=d.key;if(c===e)return b("bs_caml_option").some(d.value);else{a=c<e?d.left:d.right;continue}}else return}}function c(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return c.value;else{a=b<d?c.left:c.right;continue}}else return}}function d(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return c.value;else{a=b<d?c.left:c.right;continue}}else throw new Error("getExn")}}function e(a,b,c){__p&&__p();while(!0){var d=a;if(d!==null){var e=d.key;if(b===e)return d.value;else{a=b<e?d.left:d.right;continue}}else return c}}function h(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return!0;else{a=b<d?c.left:c.right;continue}}else return!1}}function i(a,c){__p&&__p();if(a!==null){var d=a.left,e=a.key,f=a.right;if(c===e)if(d!==null)if(f!==null){var g=[f.key],h=[f.value],j=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(d,g[0],h[0],j)}else return d;else return f;else if(c<e)return b("bs_belt_internalAVLtree").bal(i(d,c),e,a.value,f);else return b("bs_belt_internalAVLtree").bal(d,e,a.value,i(f,c))}else return a}function j(a,c){__p&&__p();var d=c.left,e=c.key,f=c.value,g=c.right;if(a===e)return[d,b("bs_caml_option").some(f),g];else if(a<e)if(d!==null){var h=j(a,d);return[h[0],h[1],b("bs_belt_internalAVLtree").join(h[2],e,f,g)]}else return[b("bs_belt_internalAVLtree").empty,void 0,c];else if(g!==null){h=j(a,g);return[b("bs_belt_internalAVLtree").join(d,e,f,h[0]),h[1],h[2]]}else return[c,void 0,b("bs_belt_internalAVLtree").empty]}function k(a,c){if(c!==null)return j(a,c);else return[b("bs_belt_internalAVLtree").empty,void 0,b("bs_belt_internalAVLtree").empty]}function l(a,c,d){__p&&__p();if(a!==null){if(a.height>=(c!==null?c.height:0)){var e=a.left,f=a.key,g=a.value,h=a.right,i=k(f,c);return b("bs_belt_internalAVLtree").concatOrJoin(l(e,i[0],d),f,d(f,b("bs_caml_option").some(g),i[1]),l(h,i[2],d))}}else if(c===null)return b("bs_belt_internalAVLtree").empty;if(c!==null){e=c.left;f=c.key;g=c.value;h=c.right;i=k(f,a);return b("bs_belt_internalAVLtree").concatOrJoin(l(i[0],e,d),f,d(f,i[1],b("bs_caml_option").some(g)),l(i[2],h,d))}else return 0}function m(a,c,d){return l(a,c,b("bs_curry").__3(d))}function n(a,c,d){__p&&__p();while(!0){var e=c,f=a;if(f&&e){var g=e[0],h=f[0],i=b("bs_caml_primitive").caml_string_compare(h.key,g.key);if(i===0){var j=d(h.value,g.value);if(j===0){c=b("bs_belt_internalAVLtree").stackAllLeft(g.right,e[1]);a=b("bs_belt_internalAVLtree").stackAllLeft(h.right,f[1]);continue}else return j}else return i}else return 0}}function o(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return n(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else if(e<f)return-1;else return 1}function p(a,c,d){return o(a,c,b("bs_curry").__2(d))}function q(c,d,a){__p&&__p();while(!0){var e=d,f=c;if(f&&e){var g=e[0],h=f[0];if(h.key===g.key&&a(h.value,g.value)){d=b("bs_belt_internalAVLtree").stackAllLeft(g.right,e[1]);c=b("bs_belt_internalAVLtree").stackAllLeft(h.right,f[1]);continue}else return!1}else return!0}}function r(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return q(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else return!1}function s(a,c,d){return r(a,c,b("bs_curry").__2(d))}function t(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e){a.key=c;a.value=d;return a}else{var f=a.left,g=a.right;if(c<e){e=t(f,c,d);a.left=e}else a.right=t(g,c,d);return b("bs_belt_internalAVLtree").balMutate(a)}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function u(a){__p&&__p();var c=a.length;if(c===0)return b("bs_belt_internalAVLtree").empty;else{var d=b("bs_belt_SortArray").strictlySortedLengthU(a,function(a,b){return a[0]<b[0]}),e;d>=0?e=b("bs_belt_internalAVLtree").fromSortedArrayAux(a,0,d):(d=-d|0,e=b("bs_belt_internalAVLtree").fromSortedArrayRevAux(a,d-1|0,d));for(var d=d,c=c-1|0;d<=c;++d){var f=a[d];e=t(e,f[0],f[1])}return e}}var v=0,w=0,x=0;f.N=v;f.A=w;f.S=x;f.add=g;f.get=a;f.getUndefined=c;f.getExn=d;f.getWithDefault=e;f.has=h;f.remove=i;f.splitAux=j;f.split=k;f.mergeU=l;f.merge=m;f.compareAux=n;f.cmpU=o;f.cmp=p;f.eqAux=q;f.eqU=r;f.eq=s;f.addMutate=t;f.fromArray=u}),null);
__d("bs_belt_MapString",["bs_curry","bs_caml_option","bs_belt_internalAVLtree","bs_belt_internalMapString"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function i(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);else{var f=a.value;if(c<e)return b("bs_belt_internalAVLtree").bal(i(a.left,c,d),e,f,a.right);else return b("bs_belt_internalAVLtree").bal(a.left,e,f,i(a.right,c,d))}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function j(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e){var f=d(b("bs_caml_option").some(a.value));if(f!==void 0)return b("bs_belt_internalAVLtree").updateValue(a,b("bs_caml_option").valFromOption(f));else{f=a.left;var g=a.right;if(f!==null)if(g!==null){var h=[g.key],i=[g.value],k=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,h,i);return b("bs_belt_internalAVLtree").bal(f,h[0],i[0],k)}else return f;else return g}}else{h=a.left;i=a.right;k=a.value;if(c<e){f=j(h,c,d);if(h===f)return a;else return b("bs_belt_internalAVLtree").bal(f,e,k,i)}else{g=j(i,c,d);if(i===g)return a;else return b("bs_belt_internalAVLtree").bal(h,e,k,g)}}}else{f=d(void 0);if(f!==void 0)return b("bs_belt_internalAVLtree").singleton(c,b("bs_caml_option").valFromOption(f));else return a}}function a(a,c,d){return j(a,c,b("bs_curry").__1(d))}function k(a,c){__p&&__p();var d=a.left,e=a.key,f=a.right;if(c===e)if(d!==null)if(f!==null){var g=[f.key],h=[f.value],i=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(d,g[0],h[0],i)}else return d;else return f;else if(c<e)if(d!==null){g=k(d,c);if(g===d)return a;else return b("bs_belt_internalAVLtree").bal(g,e,a.value,f)}else return a;else if(f!==null){h=k(f,c);return b("bs_belt_internalAVLtree").bal(d,e,a.value,h)}else return a}function c(a,c){if(a!==null)return k(a,c);else return b("bs_belt_internalAVLtree").empty}function d(a,c){__p&&__p();var d=c.length;if(a!==null){a=a;c=c;var e=0;d=d;while(!0){var f=e,g=a;if(f<d){var h=c[f];h=k(g,h);if(h!==null){e=f+1|0;a=h;continue}else return h}else return g}}else return b("bs_belt_internalAVLtree").empty}function e(a,b){var c=b.length;a=a;for(var d=0,c=c-1|0;d<=c;++d){var e=b[d];a=i(a,e[0],e[1])}return a}var l=(g=b("bs_belt_internalAVLtree")).empty,m=g.isEmpty,n=(h=b("bs_belt_internalMapString")).has,o=h.cmpU,p=h.cmp,q=h.eqU,r=h.eq,s=g.findFirstByU,t=g.findFirstBy,u=g.forEachU,v=g.forEach,w=g.reduceU,x=g.reduce,y=g.everyU,z=g.every,A=g.someU,B=g.some,C=g.size,D=g.toList,E=g.toArray,F=h.fromArray,G=g.keysToArray,H=g.valuesToArray,I=g.minKey,J=g.minKeyUndefined,K=g.maxKey,L=g.maxKeyUndefined,M=g.minimum,N=g.minUndefined,O=g.maximum,P=g.maxUndefined,Q=h.get,R=h.getUndefined,S=h.getWithDefault,T=h.getExn,U=g.checkInvariantInternal,V=h.mergeU,W=h.merge,X=g.keepSharedU,Y=g.keepShared,Z=g.partitionSharedU,$=g.partitionShared;h=h.split;var aa=g.mapU,ba=g.map,ca=g.mapWithKeyU;g=g.mapWithKey;f.empty=l;f.isEmpty=m;f.has=n;f.cmpU=o;f.cmp=p;f.eqU=q;f.eq=r;f.findFirstByU=s;f.findFirstBy=t;f.forEachU=u;f.forEach=v;f.reduceU=w;f.reduce=x;f.everyU=y;f.every=z;f.someU=A;f.some=B;f.size=C;f.toList=D;f.toArray=E;f.fromArray=F;f.keysToArray=G;f.valuesToArray=H;f.minKey=I;f.minKeyUndefined=J;f.maxKey=K;f.maxKeyUndefined=L;f.minimum=M;f.minUndefined=N;f.maximum=O;f.maxUndefined=P;f.get=Q;f.getUndefined=R;f.getWithDefault=S;f.getExn=T;f.checkInvariantInternal=U;f.remove=c;f.removeMany=d;f.set=i;f.updateU=j;f.update=a;f.mergeU=V;f.merge=W;f.mergeMany=e;f.keepU=X;f.keep=Y;f.partitionU=Z;f.partition=$;f.split=h;f.mapU=aa;f.map=ba;f.mapWithKeyU=ca;f.mapWithKey=g}),null);
__d("bs_belt_internalAVLset",["bs_curry","bs_caml_option","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==null)return a.height;else return 0}function h(a){if(a!==null){var b=a.left,c=a.right;return{value:a.value,height:a.height,left:h(b),right:h(c)}}else return a}function i(a,b,c){var d=a!==null?a.height:0,e=c!==null?c.height:0;return{value:b,height:d>=e?d+1|0:e+1|0,left:a,right:c}}function j(a){return{value:a,height:1,left:null,right:null}}function k(a,b){if(b!==null)if(a!==null)return a.height>=b.height;else return!1;else return!0}function l(a,b,c){__p&&__p();var d=a!==null?a.height:0,e=c!==null?c.height:0;if(d>(e+2|0)){var f=a.left,g=a.value,h=a.right;if(k(f,h))return i(f,g,i(h,b,c));else{var j=h.left,l=h.value;h=h.right;return i(i(f,g,j),l,i(h,b,c))}}else if(e>(d+2|0)){f=c.left;g=c.value;j=c.right;if(k(j,f))return i(i(a,b,f),g,j);else{l=f.left;h=f.value;f=f.right;return i(i(a,b,l),h,i(f,g,j))}}else return{value:b,height:d>=e?d+1|0:e+1|0,left:a,right:c}}function m(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return b.value}}function a(a){if(a!==null)return b("bs_caml_option").some(m(a))}function c(a){if(a!==null)return m(a)}function n(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return b.value}}function d(a){if(a!==null)return b("bs_caml_option").some(n(a))}function e(a){if(a!==null)return n(a)}function o(a,b){var c=a.left,d=a.right;a=a.value;if(c!==null)return l(o(c,b),a,d);else{b[0]=a;return d}}function p(a){return a===null}function q(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d,c];a=d.left;continue}else return c}}function r(a,b){__p&&__p();while(!0){var c=a;if(c!==null){r(c.left,b);b(c.value);a=c.right;continue}else return 0}}function s(a,c){return r(a,b("bs_curry").__1(c))}function t(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e!==null){var f=e.left,g=e.value;e=e.right;b=c(t(f,d,c),g);a=e;continue}else return d}}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.value)&&v(c.left,b)){a=c.right;continue}else return!1;else return!0}}function w(a,c){return v(a,b("bs_curry").__1(c))}function x(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.value)||x(c.left,b))return!0;else{a=c.right;continue}else return!1}}function y(a,c){return x(a,b("bs_curry").__1(c))}function z(a,b){if(a!==null)return l(z(a.left,b),a.value,a.right);else return j(b)}function A(a,b){if(a!==null)return l(a.left,a.value,A(a.right,b));else return j(b)}function B(a,b,c){__p&&__p();if(a!==null)if(c!==null){var d=a.height,e=c.height;if(d>(e+2|0))return l(a.left,a.value,B(a.right,b,c));else if(e>(d+2|0))return l(B(a,b,c.left),c.value,c.right);else return i(a,b,c)}else return A(a,b);else return z(c,b)}function C(a,b){if(a!==null)if(b!==null){var c=[b.value],d=o(b,c);return B(a,c[0],d)}else return a;else return b}function D(a,b){__p&&__p();if(a!==null){var c=a.value,d=D(a.left,b),e=d[1];d=d[0];var f=b(c);a=D(a.right,b);b=a[1];a=a[0];if(f)return[B(d,c,a),C(e,b)];else return[C(d,a),B(e,c,b)]}else return[null,null]}function E(a,c){return D(a,b("bs_curry").__1(c))}function F(a){var b=a.left;a=a.right;b=b!==null?F(b):0;a=a!==null?F(a):0;return(1+b|0)+a|0}function G(a){if(a!==null)return F(a);else return 0}function H(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d.value,H(d.right,c)];a=d.left;continue}else return c}}function I(a){return H(a,0)}function J(a){__p&&__p();while(!0){var b=a;if(b!==null){var c=b.left;b=b.right;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw new Error('File "belt_internalAVLset.ml", line 304, characters 6-12');J(c);a=b;continue}else return 0}}function K(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.value;e=e.right;f=f!==null?K(f,d,c):d;c[f]=g;d=f+1|0;if(e!==null){b=d;a=e;continue}else return d}}function L(a,b,c,d){__p&&__p();while(!0){var e=a,f=e.left,g=e.value;e=e.right;f!==null&&L(f,b,c,d);if(d(g)){f=b.forward;c[f]=g;b.forward=f+1|0}else{f=b.backward;c[f]=g;b.backward=f-1|0}if(e!==null){a=e;continue}else return 0}}function M(a,b,c,d){__p&&__p();while(!0){var e=b,f=a,g=f.left,h=f.value;f=f.right;g=g!==null?M(g,e,c,d):e;e=d(h)?(c[g]=h,g+1|0):g;if(f!==null){b=e;a=f;continue}else return e}}function N(b){if(b!==null){var a=F(b);a=new Array(a);K(b,0,a);return a}else return[]}function O(a,b,c){__p&&__p();switch(c){case 0:return null;case 1:return j(a[b]);case 2:var d=a[b],e=a[b-1|0];return{value:e,height:2,left:j(d),right:null};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];return{value:d,height:2,left:j(e),right:j(f)};default:d=c/2|0;e=O(a,b,d);f=a[b-d|0];a=O(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f,a)}}function P(a,b,c){__p&&__p();switch(c){case 0:return null;case 1:return j(a[b]);case 2:var d=a[b],e=a[b+1|0];return{value:e,height:2,left:j(d),right:null};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];return{value:d,height:2,left:j(e),right:j(f)};default:d=c/2|0;e=P(a,b,d);f=a[b+d|0];a=P(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f,a)}}function aa(a){return P(a,0,a.length)}function Q(a,b){__p&&__p();if(a!==null){var c=a.left,d=a.value,e=a.right,f=Q(c,b),g=b(d);b=Q(e,b);if(g)if(c===f&&e===b)return a;else return B(f,d,b);else return C(f,b)}else return null}function ba(a,c){return Q(a,b("bs_curry").__1(c))}function R(b,c){if(b!==null){var a=F(b);a=new Array(a);b=M(b,0,a,c);return P(a,0,b)}else return null}function ca(a,c){return R(a,b("bs_curry").__1(c))}function S(b,c){if(b!==null){var a=F(b),d=new Array(a),e=a-1|0,f={forward:0,backward:e};L(b,f,d,c);b=f.forward;return[P(d,0,b),O(d,e,a-b|0)]}else return[null,null]}function da(a,c){return S(a,b("bs_curry").__1(c))}function ea(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value;e=a(c,e);if(e===0)return!0;else{b=e<0?d.left:d.right;continue}}else return!1}}function T(a,b,c){__p&&__p();var d=G(a),e=G(b);if(d===e){a=q(a,0);b=q(b,0);c=c;while(!0){var f=b,g=a;if(g&&f){var h=f[0],i=g[0],j=c(i.value,h.value);if(j===0){b=q(h.right,f[1]);a=q(i.right,g[1]);continue}else return j}else return 0}}else if(d<e)return-1;else return 1}function fa(a,b,c){return T(a,b,c)===0}function U(b,c,a){__p&&__p();while(!0){var d=c,e=b;if(e!==null)if(d!==null){var f=e.left,g=e.value;e=e.right;var h=d.left,j=d.value;d=d.right;j=a(g,j);if(j===0)if(U(f,h,a)){c=d;b=e;continue}else return!1;else if(j<0)if(U(i(f,g,null),h,a)){b=e;continue}else return!1;else if(U(i(null,g,e),d,a)){b=f;continue}else return!1}else return!1;else return!0}}function ga(c,d,a){__p&&__p();while(!0){var e=c;if(e!==null){var f=e.value,g=a(d,f);if(g===0)return b("bs_caml_option").some(f);else{c=g<0?e.left:e.right;continue}}else return}}function ha(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value,f=a(c,e);if(f===0)return e;else{b=f<0?d.left:d.right;continue}}else return}}function ia(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value,f=a(c,e);if(f===0)return e;else{b=f<0?d.left:d.right;continue}}else throw new Error("getExn0")}}function V(a){var b=a.left;a.left=b.right;b.right=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.left);d=a.height;b.height=(c>d?c:d)+1|0;return b}function W(a){var b=a.right;a.right=b.left;b.left=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.right);d=a.height;b.height=(c>d?c:d)+1|0;return b}function ja(a){var b=W(a.left);a.left=b;return V(a)}function ka(a){var b=V(a.right);a.right=b;return W(a)}function X(a){var b=g(a.left),c=g(a.right);a.height=(b>c?b:c)+1|0;return a}function Y(a){__p&&__p();var b=a.left,c=a.right,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.left;b=b.right;if(k(f,b))return X(V(a));else return X(ja(a))}else if(e>(2+d|0)){f=c.left;b=c.right;if(k(b,f))return X(W(a));else return X(ka(a))}else{a.height=(d>e?d:e)+1|0;return a}}function Z(a,b,c){__p&&__p();if(b!==null){var d=b.value;d=a(c,d);if(d===0)return b;else{var e=b.left,f=b.right;if(d<0){d=Z(a,e,c);b.left=d}else b.right=Z(a,f,c);return Y(b)}}else return j(c)}function la(c,a){__p&&__p();var d=c.length;if(d===0)return null;else{var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b,c)<0}),f;e>=0?f=P(c,0,e):(e=-e|0,f=O(c,e-1|0,e));for(var e=e,d=d-1|0;e<=d;++e)f=Z(a,f,c[e]);return f}}function $(a,b){var c=b.right,d=b.left;if(d!==null){b.left=$(a,d);return Y(b)}else{a.value=b.value;return c}}var ma=null;f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.minimum=a;f.minUndefined=c;f.maximum=d;f.maxUndefined=e;f.removeMinAuxWithRef=o;f.empty=ma;f.isEmpty=p;f.stackAllLeft=q;f.forEachU=r;f.forEach=s;f.reduceU=t;f.reduce=u;f.everyU=v;f.every=w;f.someU=x;f.some=y;f.joinShared=B;f.concatShared=C;f.keepSharedU=Q;f.keepShared=ba;f.keepCopyU=R;f.keepCopy=ca;f.partitionSharedU=D;f.partitionShared=E;f.partitionCopyU=S;f.partitionCopy=da;f.lengthNode=F;f.size=G;f.toList=I;f.checkInvariantInternal=J;f.fillArray=K;f.toArray=N;f.fromSortedArrayAux=P;f.fromSortedArrayRevAux=O;f.fromSortedArrayUnsafe=aa;f.has=ea;f.cmp=T;f.eq=fa;f.subset=U;f.get=ga;f.getUndefined=ha;f.getExn=ia;f.fromArray=la;f.addMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_SetDict",["bs_belt_internalAVLset"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(c,d,a){__p&&__p();if(c!==null){var e=c.value,f=a(d,e);if(f===0)return c;else{var h=c.left,i=c.right;if(f<0){f=g(h,d,a);if(f===h)return c;else return b("bs_belt_internalAVLset").bal(f,e,i)}else{f=g(i,d,a);if(f===i)return c;else return b("bs_belt_internalAVLset").bal(h,e,f)}}}else return b("bs_belt_internalAVLset").singleton(d)}function h(c,d,a){__p&&__p();if(c!==null){var e=c.left,f=c.value,g=c.right,i=a(d,f);if(i===0)if(e!==null)if(g!==null){var j=[g.value],k=b("bs_belt_internalAVLset").removeMinAuxWithRef(g,j);return b("bs_belt_internalAVLset").bal(e,j[0],k)}else return e;else return g;else if(i<0){j=h(e,d,a);if(j===e)return c;else return b("bs_belt_internalAVLset").bal(j,f,g)}else{k=h(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLset").bal(e,f,k)}}else return c}function a(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=g(b,f,a)}return b}function c(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=h(b,f,a)}return b}function i(a,c,d){__p&&__p();var e=c.left,f=c.value,g=c.right,h=a(d,f);if(h===0)return[e,g];else if(h<0)if(e!==null){h=i(a,e,d);return[h[0],b("bs_belt_internalAVLset").joinShared(h[1],f,g)]}else return[b("bs_belt_internalAVLset").empty,c];else if(g!==null){h=i(a,g,d);return[b("bs_belt_internalAVLset").joinShared(e,f,h[0]),h[1]]}else return[c,b("bs_belt_internalAVLset").empty]}function j(a,c,d,e){__p&&__p();var f=c.left,g=c.value,h=c.right,i=a(d,g);if(i===0){e[0]=!0;return[f,h]}else if(i<0)if(f!==null){i=j(a,f,d,e);return[i[0],b("bs_belt_internalAVLset").joinShared(i[1],g,h)]}else return[b("bs_belt_internalAVLset").empty,c];else if(h!==null){i=j(a,h,d,e);return[b("bs_belt_internalAVLset").joinShared(f,g,i[0]),i[1]]}else return[c,b("bs_belt_internalAVLset").empty]}function d(c,d,a){if(c!==null){var e=[!1];a=j(a,c,d,e);return[a,e[0]]}else return[[b("bs_belt_internalAVLset").empty,b("bs_belt_internalAVLset").empty],!1]}function k(c,d,a){__p&&__p();if(c!==null)if(d!==null){var e=c.height,f=d.height;if(e>=f)if(f===1)return g(c,d.value,a);else{f=c.left;var h=c.value,j=c.right,l=i(a,d,h);return b("bs_belt_internalAVLset").joinShared(k(f,l[0],a),h,k(j,l[1],a))}else if(e===1)return g(d,c.value,a);else{f=d.left;h=d.value;j=d.right;l=i(a,c,h);return b("bs_belt_internalAVLset").joinShared(k(l[0],f,a),h,k(l[1],j,a))}}else return c;else return d}function l(c,d,a){__p&&__p();if(c!==null&&d!==null){var e=c.left,f=c.value;c=c.right;var g=[!1];d=j(a,d,f,g);e=l(e,d[0],a);c=l(c,d[1],a);if(g[0])return b("bs_belt_internalAVLset").joinShared(e,f,c);else return b("bs_belt_internalAVLset").concatShared(e,c)}else return b("bs_belt_internalAVLset").empty}function m(c,d,a){__p&&__p();if(c!==null&&d!==null){var e=c.left,f=c.value,g=c.right,h=[!1];d=j(a,d,f,h);e=m(e,d[0],a);g=m(g,d[1],a);if(h[0])return b("bs_belt_internalAVLset").concatShared(e,g);else return b("bs_belt_internalAVLset").joinShared(e,f,g)}else return c}var n=(e=b("bs_belt_internalAVLset")).empty,o=e.fromArray,p=e.fromSortedArrayUnsafe,q=e.isEmpty,r=e.has,s=e.subset,t=e.cmp,u=e.eq,v=e.forEachU,w=e.forEach,x=e.reduceU,y=e.reduce,z=e.everyU,A=e.every,B=e.someU,C=e.some,D=e.keepSharedU,E=e.keepShared,F=e.partitionSharedU,G=e.partitionShared,H=e.size,I=e.toList,J=e.toArray,K=e.minimum,L=e.minUndefined,M=e.maximum,N=e.maxUndefined,O=e.get,P=e.getUndefined,Q=e.getExn;e=e.checkInvariantInternal;f.empty=n;f.fromArray=o;f.fromSortedArrayUnsafe=p;f.isEmpty=q;f.has=r;f.add=g;f.mergeMany=a;f.remove=h;f.removeMany=c;f.union=k;f.intersect=l;f.diff=m;f.subset=s;f.cmp=t;f.eq=u;f.forEachU=v;f.forEach=w;f.reduceU=x;f.reduce=y;f.everyU=z;f.every=A;f.someU=B;f.some=C;f.keepU=D;f.keep=E;f.partitionU=F;f.partition=G;f.size=H;f.toList=I;f.toArray=J;f.minimum=K;f.minUndefined=L;f.maximum=M;f.maxUndefined=N;f.get=O;f.getUndefined=P;f.getExn=Q;f.split=d;f.checkInvariantInternal=e}),null);
__d("bs_belt_Set",["bs_curry","bs_belt_SetDict"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_SetDict").fromArray(a,c)}}function c(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_SetDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_SetDict").add(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function e(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").mergeMany(c.data,d,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").removeMany(c.data,d,a)}}function h(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").union(c.data,d.data,a)}}function i(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").intersect(c.data,d.data,a)}}function j(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").diff(c.data,d.data,a)}}function k(c,d){var a=c.cmp;return b("bs_belt_SetDict").subset(c.data,d.data,a)}function l(c,d){var a=c.cmp;c=b("bs_belt_SetDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function m(a){return{cmp:a.cmp,data:b("bs_belt_SetDict").empty}}function n(a){return b("bs_belt_SetDict").isEmpty(a.data)}function o(a,c){var d=a.cmp;return b("bs_belt_SetDict").cmp(a.data,c.data,d)}function p(a,c){return b("bs_belt_SetDict").eq(a.data,c.data,a.cmp)}function q(a,c){return b("bs_belt_SetDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_SetDict").forEachU(a.data,b("bs_curry").__1(c))}function s(a,c,d){return b("bs_belt_SetDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c){return b("bs_belt_SetDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_SetDict").everyU(a.data,b("bs_curry").__1(c))}function w(a,c){return b("bs_belt_SetDict").someU(a.data,c)}function x(a,c){return b("bs_belt_SetDict").someU(a.data,b("bs_curry").__1(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_SetDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__1(c))}function A(a,c){c=b("bs_belt_SetDict").partitionU(a.data,c);a=a.cmp;return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__1(c))}function C(a){return b("bs_belt_SetDict").size(a.data)}function D(a){return b("bs_belt_SetDict").toList(a.data)}function E(a){return b("bs_belt_SetDict").toArray(a.data)}function F(a){return b("bs_belt_SetDict").minimum(a.data)}function G(a){return b("bs_belt_SetDict").minUndefined(a.data)}function H(a){return b("bs_belt_SetDict").maximum(a.data)}function I(a){return b("bs_belt_SetDict").maxUndefined(a.data)}function J(a,c){return b("bs_belt_SetDict").get(a.data,c,a.cmp)}function K(a,c){return b("bs_belt_SetDict").getUndefined(a.data,c,a.cmp)}function L(a,c){return b("bs_belt_SetDict").getExn(a.data,c,a.cmp)}function M(a,c){return b("bs_belt_SetDict").has(a.data,c,a.cmp)}function N(a,c){return{cmp:c.cmp,data:b("bs_belt_SetDict").fromSortedArrayUnsafe(a)}}function O(a){return a.data}function P(a){a=a.cmp;return{cmp:a}}function Q(a,b){return{cmp:a.cmp,data:b}}function R(a){return b("bs_belt_SetDict").checkInvariantInternal(a.data)}var S=0,T=0,U=0;f.Int=S;f.$$String=T;f.Dict=U;f.make=m;f.fromArray=a;f.fromSortedArrayUnsafe=N;f.isEmpty=n;f.has=M;f.add=d;f.mergeMany=e;f.remove=c;f.removeMany=g;f.union=h;f.intersect=i;f.diff=j;f.subset=k;f.cmp=o;f.eq=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.size=C;f.toArray=E;f.toList=D;f.minimum=F;f.minUndefined=G;f.maximum=H;f.maxUndefined=I;f.get=J;f.getUndefined=K;f.getExn=L;f.split=l;f.checkInvariantInternal=R;f.getData=O;f.getId=P;f.packIdData=Q}),null);
__d("MercuryDelayedDispatcher",["MercuryDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){var c=this;this.$1=a;this.$2=[];this.$3=b("MercuryThreadIDMap").getForFBID(this.$1);this.$4=b("MercuryDispatcher").getForFBID(this.$1);this.$5=b("MercuryServerRequests").getForFBID(this.$1);this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$4.subscribe("model-update-completed",function(a,b){return c.$7()})}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.handleUpdateWaitForThread=function(a,b){var c=this,d=this.$3.getClientIDFromServerIDNow(b);if(d){this.$8(a);return}this.$3.getClientIDFromServerID(b,function(){return c.$2.push({thread_fbid:b,payload:a})});this.$5.ensureThreadIsFetched(b)};c.$7=function(){if(this.$2&&this.$2.length){var a=this.$2.shift(),b=a.thread_fbid;a=a.payload;this.handleUpdateWaitForThread(a,b)}};c.$8=function(a){a.from_client?this.$4.handleUpdate(a):this.$6.handleUpdate(a)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryDispatcher",["invariant","ArbiterMixin","LogHistory","MercurySingletonProvider","MercuryThreadInformer","MessengerParticipants.bs","MessengerState.bs","isEmpty","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LogHistory").getInstance("mercury_dispatcher");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getForFBID=function(a){return j.getForFBID(a)};c.get=function(){return j.get()};function c(b){var c;c=a.call(this)||this;c.$MercuryDispatcher1=b;return c}var d=c.prototype;d.handlePreprocessedUpdate=function(a){a.preprocessed=!0,this.handleUpdate(a)};d.handleUpdate=function(a){__p&&__p();var c=this;this.$MercuryDispatcher2(a);!!a.from_client!==!!a.preprocessed||g(0,5757);delete a.preprocessed;(h||(h=b("isEmpty")))(a)||b("MercuryThreadInformer").getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){__p&&__p();a.payload_source==="server_invalidate_global_state"&&(c.inform("invalidate-global-state",{}),b("MessengerParticipants.bs").reset());if(a.payload_source==="server_invalidate_thread_state"){var d=a.threads&&a.threads.length>0&&a.threads[0]&&a.threads[0].thread_id;d&&c.inform("invalidate-thread-state",d)}b("MessengerParticipants.bs").addParticipants(a);b("MessengerState.bs").sendJS(c.$MercuryDispatcher1,b("MessengerState.bs").processJSActions(a));c.inform("update-threadlist",a);c.inform("update-messages",a);c.inform("model-update-completed",null)})};d.$MercuryDispatcher2=function(a){__p&&__p();var b=a.payload_source;if(b==="client_change_read_status"||b==="client_mark_thread_seen")return;var c={from_client:a.from_client,messages:null};if(a.actions){a=a.actions.filter(function(a){return a.action_type==="ma-type:user-generated-message"||a.action_type==="ma-type:log-message"}).map(function(a){return{action_type:a.action_type,other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,message_id:a.message_id}});a.length&&(c.messages=a)}i.debug("update:"+b,JSON.stringify(c))};return c}(b("mixin")(b("ArbiterMixin")));var j=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySendErrorLogger",["Banzai","BanzaiLogger"],(function(a,b,c,d,e,f){var g=b("BanzaiLogger").create({retry:!0}),h=b("Banzai").isEnabled("mercury_send_error_logging");a={log:function(a){if(!h)return;a={message_id:a.message_id,timestamp_client:Date.now(),error_type:a.error_data.type,error_code:a.error_data.code,error_description:a.error_data.description,is_transient:a.error_data.is_transient};g.log("MercurySendErrorLoggerConfig",a)}};e.exports=a}),null);
__d("MercuryServerPayloadPreprocessor",["invariant","ChatReliabilityInstrumentation","LogHistory","MercuryAttachment","MercuryDispatcher","MercuryIDs","MercurySendErrorLogger","MercurySingletonProvider","MercuryThreadIDMap","MessengerEnvironment","MessengerState.re","URI","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=function(){__p&&__p();function a(a){this.$4=b("LogHistory").getInstance("MercuryServerPayloadPreprocessor"),this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercuryDispatcher").getForFBID(this.$1)}a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};var c=a.prototype;c.handleUpdate=function(a){__p&&__p();var c=this,e={};a.from_client&&g(0,2150);(a.threads||[]).forEach(function(a){c.$5(a,e);var b=c.$2.getServerIDFromClientIDNow(a.thread_id);d(["MercuryServerRequests"],function(d){d=d.getForFBID(c.$1);d.markThreadFetched(a.thread_id);b&&d.markThreadFetched(b);d.updateLastActionTimestamp(a.timestamp)})});a.pinned_thread_ids=(a.pinned_thread_ids||[]).map(function(a){return c.$2.getClientIDFromServerIDNow(a)});(a.ordered_threadlists||[]).forEach(function(a){var b=a.thread_fbids||[];b=b.concat(a.other_user_fbids||[]);a.thread_ids=b.map(function(a){return c.$2.getClientIDFromServerIDNow(a.toString())})});if(a.delivery_receipts){var f={};for(var h=a.delivery_receipts,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=k.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(k.other_user_fbid):this.$2.getClientIDFromServerIDNow(k.thread_fbid);l&&(f[l]=k.time)}a.delivery_receipts=f}a.actions=a.actions||[];a.actions.forEach(function(f){f.action_type==="ma-type:send-message"&&f.status===10&&b("MercurySendErrorLogger").log(f);var h=null,i=null;f.other_user_fbid?(i=b("MercuryIDs").getThreadIDFromUserID(f.other_user_fbid),h=f.other_user_fbid):f.thread_fbid?(i=b("MercuryIDs").getThreadIDFromThreadFBID(f.thread_fbid),h=f.thread_fbid):f.thread_id?(i=b("MercuryIDs").getThreadIDFromThreadFBID(f.thread_id),h=f.thread_id):f.status&&f.status!=1&&f.client_thread_id?i=f.client_thread_id:g(0,2151,f.action_type,f.status);h=h&&h.toString();f.thread_id=c.$2.hasClientIDForServerID(h)?c.$2.getClientIDFromServerIDNow(h):i;f.action_type=="ma-type:send-message"&&f.client_thread_id&&h&&(f.thread_id=f.client_thread_id,c.$6("forceSetServerIDToClientID",h,f.client_thread_id)&&b("ChatReliabilityInstrumentation").logSET_THREAD_ID_MAP(h+":"+f.client_thread_id),c.$2.forceSetServerIDToClientID(h,f.client_thread_id),e[h]=f.client_thread_id);f.thread_id||g(0,2152,f.action_type);(!a.payload_source||!a.payload_source.startsWith("server"))&&d(["MercuryServerRequests"],function(a){a.getForFBID(c.$1).updateLastActionTimestamp(f.timestamp)})});this.$7(a);this.$8(a);if(a.end_of_history){l=[];for(var k=0;k<a.end_of_history.length;k++){j=a.end_of_history[k];j.type=="user"?l.push("user:"+j.fbid):j.type=="thread"&&this.$2.hasClientIDForServerID(j.fbid)&&l.push(this.$2.getClientIDFromServerIDNow(j.fbid))}a.end_of_history=l}if(a.roger){var m={};Object.keys(a.roger).forEach(function(d){__p&&__p();var e=Object.keys(a.roger[d]),f;d?f=c.$2.getClientIDFromServerIDNow(d):e.length===1&&(f=b("MercuryIDs").getThreadIDFromUserID(e[0]));if(f){e=a.roger[d];m[f]={};for(var g in e)if(Object.prototype.hasOwnProperty.call(e,g)){d=b("MercuryIDs").getParticipantIDFromUserID(g);m[f][d]=e[g]}}});a.roger=m}a.newlyAddedClientIDs=e;a.preprocessed=!0;this.$3.handleUpdate(a)};c.$6=function(a,c,d){if(!b("gkx")("1199097"))return;var e=b("MessengerState.re").getThreadMetaNow(this.$1,d);if(e==null){this.$4.debug(a,c+":"+d);return!0}return!1};c.$5=function(a,c){var d=a.other_user_fbid?a.other_user_fbid:a.thread_fbid;d||g(0,2153);var e=this.$2.getClientIDFromServerIDNow(d);e||(e=a.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(a.other_user_fbid):b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid),this.$6("setServerIDToClientID",d,e),this.$2.setServerIDToClientID(d,e),this.$2.setDeprecatedServerIDToClientID(a.thread_id,e),c[d]=e);a.thread_id=e};c.$7=function(a){a.actions.forEach(function(a){a.action_type==="ma-type:user-generated-message"&&(a.attachments=a.attachments||[],a.attachments.forEach(function(a){if(b("MercuryAttachment").isShareAttachment(a)&&a.share&&b("MessengerEnvironment").messengerui){var c=new(h||(h=b("URI")))(a.share.uri);c.getDomain()||(a.share.uri=c.setDomain("facebook.com").setSubdomain((h||(h=b("URI"))).getRequestURI().getSubdomain()).setProtocol("https").toString())}}))})};c.$8=function(a){__p&&__p();a.actions.forEach(function(a){__p&&__p();if(a.action_type!=="ma-type:user-generated-message")return;a=a;if(!a.has_attachment||!a.attachments)return;for(var c=a.attachments.length-1;c>=0;c-=1){var d=a.attachments[c];if(!d.share||!d.share.style_list||d.share.style_list[0]!="genie_message")continue;d.share.target.genie_id&&(a.author=b("MercuryIDs").getParticipantIDFromUserID(d.share.target.genie_id));d.share.target&&!d.share.target.attachment&&(a.attachments.splice(c,1),a.has_attachment=a.attachments.length>0)}})};return a}();var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryServerSendMessageQueueOptions",[],(function(a,b,c,d,e,f){a=function(a,b,c,d,e,f){"use strict";this.success_handler=a,this.error_handler=b,this.transport_error_handler=c,this.timeout_handler=d,this.timeout=e,this.connection_retries=f};e.exports=a}),null);
__d("MercurySyncDeltaHolder",["MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$2=new Map(),this.$3=[],this.$1=0}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var b=a.prototype;b.peek=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3[0]};b.getTop=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3.reverse()[0]};b.pop=function(){this.$3=this.$3.sort(function(a,b){return a-b});if(this.$3.length===0)return void 0;var a=this.$3.shift(),b=this.$2.get(a);this.$2["delete"](a);return{seqID:a,delta:b}};b.push=function(a,b){if(this.$2.has(a))return;this.$2.set(a,b);this.$3.push(a)};b.getLastSeqID=function(){return this.$1};b.updateLastSeqID=function(a){this.$1=a};b.updateLastSeqIDAndClearHistory=function(a){this.$2=new Map(),this.$3=[],this.$1=a};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerWebStgTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MessengerWebStgLoggerConfig")}),null);
__d("XMercuryUnseenThreadIDsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/unseen_thread_ids/",{})}),null);
__d("XMessagingChangeMentionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_mentions_mute_thread/",{})}),null);
__d("XMessagingChangeReactionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_reactions_mute_thread/",{})}),null);
__d("MercuryServerRequests",["errorCode","invariant","Promise","Arbiter","AsyncResponse","BanzaiODS","Bootloader","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","Env","EventProfiler","LogHistory","MercuryAPIArgsSource","MercuryAssert","MercuryDispatcher","MercuryIDs","MercuryMessageClientState","MercuryMessageIDs.bs","MercurySendErrorLogger","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequestsConfig","MercuryServerSendMessageQueueOptions","MercuryServerSendMessageQueueRouter","MercuryServerURIs","MercurySingletonProvider","MercurySyncDeltaHolder","MercuryTagHelper","MercuryThreadIDMap","MessagingConfig","MessagingTag","MessengerEnvironment","MessengerWebStgTypedLoggerLite","XMercuryUnseenThreadIDsController","XMessagingChangeMentionsMuteModeController","XMessagingChangeReactionsMuteModeController","createObjectFrom","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerWebStgTypedLoggerLite").log,k=b("LogHistory").getInstance("mercury_server"),l=b("MercuryAPIArgsSource").MERCURY,m=30*1e3,n=!0;function o(a){return a.getError()?"_"+a.getError():""}function p(a,c){__p&&__p();var d=babelHelpers["extends"]({},a),e;if(c.threads){d.threads||(d.threads={});for(e in c.threads)d.threads[e]=Object.keys(b("createObjectFrom")((d.threads[e]||[]).concat(c.threads[e]||[])))}if(c.messages){d.messages||(d.messages={});for(e in c.messages){d.messages[e]||(d.messages[e]={});for(var f in c.messages[e])d.messages[e][f]?d.messages[e][f]=t(d.messages[e][f],c.messages[e][f]):d.messages[e][f]=c.messages[e][f]}}d.client=a.client||c.client;return d}function q(a,c){var d=Object.assign(b("createObjectFrom")(a.folders,!0),b("createObjectFrom")(c.folders,!0));a=a.client||c.client;return{folders:Object.keys(d),client:a}}function r(a,b){for(var c in b)if(a[c]&&typeof a[c]==="object")a[c]=t(a[c],b[c]);else if(b[c]&&typeof b[c]==="object"){var d={};Object.assign(d,b[c]);a[c]=d}return a}function s(a,b){return b}function t(a,b){var c=Math.max(a.limit,b.limit),d;!a.timestamp?d=b.timestamp:!b.timestamp?d=a.timestamp:d=Math.min(a.timestamp,b.timestamp);return{limit:c,timestamp:d}}function u(a,b){var c=a.client||b.client;c={ids:{},client:c};Object.assign(c.ids,a.ids,b.ids);return c}function v(a,c){__p&&__p();var d={},e,f=a.client||c.client;delete a.client;delete c.client;for(e in a)Object.assign(d,b("createObjectFrom")(a[e],e));for(e in c)Object.assign(d,b("createObjectFrom")(c[e],e));a={client:f};for(var g in d)e=d[g],a[e]||(a[e]=[]),a[e].push(g);return a}function w(a,c){var d=a.client||c.client;a=b("createObjectFrom")(a.ids,!0);c=b("createObjectFrom")(c.ids,!0);a=Object.assign(a,c);return{ids:Object.keys(a),client:d}}a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$1=a;this.$2=0;this.$3={};this.$4={};this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=b("MercuryDispatcher").getForFBID(this.$1);this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.$7=new(b("MercuryServerSendMessageQueueOptions"))(function(a,b){c.__handleUpdate(a,b)},function(a){return c.$9(a)},function(a){c.$10(a)},function(a){return c.$11(a)},b("MercuryServerRequestsConfig").sendMessageTimeout,b("MessagingConfig").SEND_CONNECTION_RETRIES);this.$8=b("MercurySyncDeltaHolder").getForFBID(this.$1);this.$12()}a.getForFBID=function(a){return x.getForFBID(a)};a.get=function(){return x.get()};var c=a.prototype;c.fetchThreadlistInfo=function(a,c,d,e,f,g){d===void 0&&(d=b("MessagingTag").INBOX);f===void 0&&(f=l);n&&(n=!1,b("EventProfiler").tagCurrentActiveInteractionsAs("FirstMercuryThreadFetch"));var h=e?b("MercuryServerDispatcher").IMMEDIATE:null;f={client:f};f[d]={offset:a,limit:c,filter:e,before:g};this.__sendRequest(b("MercuryServerURIs").THREADLIST_INFO,f,h)};c.fetchUnseenThreadIDs=function(a,c){a===void 0&&b("MessagingTag").INBOX,c===void 0&&(c=l),this.__sendRequest(b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString(),{})};c.fetchUnreadThreadIDs=function(a,c){c===void 0&&(c=l),this.__sendRequest(b("MercuryServerURIs").UNREAD_THREADS,{folders:[a],client:c})};c.fetchThreadData=function(a,c){__p&&__p();var d=this;c===void 0&&(c=l);b("MercuryAssert").allThreadID(a);var e={threads:{},client:c},f=[],g=[];a.forEach(function(a){__p&&__p();if(d.$3[a])return;d.$3[a]=!0;var c=d.__threadIDMap.getServerIDFromClientIDNow(a);a=b("MercuryIDs").tokenize(a);if(a.type=="user")f.push(a.value),e.threads.user_ids=f;else if(a.type=="thread")c?g.push(c):g.push(a.value),e.threads.thread_fbids=g;else if(a.type=="root")c&&(g.push(c),e.threads.thread_fbids=g);else if(a.type!="pending")throw new Error("Unknown thread type",a)});e.threads.user_ids&&e.threads.user_ids.forEach(function(a){a||(k.error("empty user id",JSON.stringify(f)),b("ChatReliabilityInstrumentation").logERROR("Invalid user ID sent to thread_info.php: "+JSON.stringify(f)))});e.threads.thread_fbids&&e.threads.thread_fbids.forEach(function(c){c||b("ChatReliabilityInstrumentation").logERROR("Invalid FBID sent to thread_info.php: "+JSON.stringify(a))});for(var h in e.threads){this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,e);break}};c.ensureThreadIsFetched=function(a,c){__p&&__p();c===void 0&&(c=l);if(!this.__threadIDMap.getClientIDFromServerIDNow(a)&&!this.$3[a]){if(!a){b("ChatReliabilityInstrumentation").logERROR("Ensure invalid FBID sent to thread_info.php");k.error("attempting to fetch empty thread_fbid. Bad idea!");return}this.$3[a]=!0;this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,{threads:{thread_fbids:[a]},client:c})}};c.fetchThreadMessages=function(a,c,d,e,f,g){__p&&__p();var h=this;g===void 0&&(g=l);b("MercuryAssert").isThreadID(a);var i;c=b("MercuryIDs").tokenize(a);var j=this.__threadIDMap.getServerIDFromClientIDNow(a),k=!1;if(j)j=j,i=c.type=="user"?"user_ids":"thread_fbids";else{j=c.value;switch(c.type){case"user":i="user_ids";k=!0;break;case"thread":i="thread_fbids";break}}var m={messages:{},threads:{},client:g};i?(m.messages[i]={},m.messages[i][j]={timestamp:e,limit:d},k&&(m.threads[i]=[j]),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,m,f)):this.__threadIDMap.getServerIDFromClientID(a,function(a){m.messages.thread_fbids={},m.messages.thread_fbids[a]={timestamp:e,limit:d},h.__sendRequest(b("MercuryServerURIs").THREAD_INFO,m,f)})};c.handleThreadInfoError=function(a,c){__p&&__p();var d=a.getData();c=[];if(d.messages){for(var e in d.messages.thread_fbids){a=this.__threadIDMap.getClientIDFromServerIDNow(e);a&&c.push(this.$13(a))}for(var f in d.messages.user_ids)c.push(this.$13("user:"+f));for(var g in d.messages.group_ids)c.push(this.$13("group:"+g))}c.length&&this.$5.handleUpdate({actions:c,from_client:!0,payload_source:"client_channel_message"});if(d.threads&&(d.threads.user_ids||d.threads.thread_fbids||d.threads.group_ids||d.threads.thread_ids)){a=5;c=!0;d.retry_count||(d.retry_count=0,d.messages&&delete d.messages);if(c){c=Math.pow(2,Math.min(d.retry_count,a))*1e3;b("setTimeoutAcrossTransitions")(function(){k.log("retry_thread","{}"),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,d)}.bind(this),c);d.retry_count++}}};c.markFolderAsRead=function(a){this.__sendRequest(b("MercuryServerURIs").MARK_FOLDER_READ,{folder:a});a=[{action_type:"mga-type:mark-all-read",folder:a}];this.$5.handleUpdate({global_actions:a,from_client:!0,payload_source:"client_change_read_status"})};c.changeThreadReadStatus=function(a,c,d,e,f,g){var h=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(i){var j;j={ids:(j={},j[i]=c,j),source:d,watermarkTimestamp:e,shouldSendReadReceipt:f,commerce_last_message_type:g};k.log("initiate_change_read_status",JSON.stringify({thread_id:a,thread_fbid:i,mark_as_read:c,watermarkTimestamp:e}));h.__sendRequest(b("MercuryServerURIs").CHANGE_READ_STATUS,j)})};c.changeThreadArchivedStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS,f)})};c.changeThreadPinnedStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_PINNED_STATUS,f)})};c.changeThreadPageFollowUpStatus=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var f={ids:{},source:d};f.ids[a]=c;e.__sendRequest(b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS,f)})};c.changeThreadFolder=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={};e[c]=[a];d.__sendRequest(b("MercuryServerURIs").MOVE_THREAD,e)})};c.changeMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").CHANGE_MUTE_THREAD,{thread_fbid:a,mute_settings:c,payload_source:l})})};c.changeMentionsMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,mentions_mute_mode:c,payload_source:l})})};c.changeReactionsMutingOnThread=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,reactions_mute_mode:c,payload_source:l})})};c.markThreadSpam=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").MARK_SPAM,{id:a,source:c})})};c.unmarkThreadSpam=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){d.__sendRequest(b("MercuryServerURIs").UNMARK_SPAM,{id:a,source:c})})};c.deleteThread=function(a,b){this.deleteThreads([a],b)};c.deleteThreads=function(a,c){var d=this;b("promiseDone")(b("Promise").all(a.map(function(a){b("MercuryAssert").isThreadID(a);return new(b("Promise"))(function(b){return d.__threadIDMap.getServerIDFromClientID(a,b)})})).then(function(a){d.__sendRequest(b("MercuryServerURIs").DELETE_THREAD,{ids:a,source:c})}))};c.deleteMessages=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(c||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELETE_MESSAGES,{message_ids:a})}.bind(this))};c.sendDeliveryReceipts=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(a||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELIVERY_RECEIPTS,{message_ids:a,thread_ids:c})}.bind(this))};c.sendNewMessage=function(a,c){__p&&__p();var d=this;c===void 0&&(c=l);a.offline_threading_id||b("BanzaiODS").bumpEntityKey(3303,"chat.web","missing_otid_on_send");if(a.client_state&&a.client_state!==b("MercuryMessageClientState").SEND_TO_SERVER)return;var e=b("MercuryIDs").tokenize(a.thread_id),f=e.type,g=babelHelpers["extends"]({},a);g.thread_id=null;f=="user"?(g.other_user_fbid=e.value,this.$14(g,c)):f=="thread"?(g.thread_fbid=e.value,this.$14(g,c)):f=="root"&&e.value==g.offline_threading_id?(g.client_thread_id=a.thread_id,this.$14(g,c)):(b("MercuryIDs").isLocalThread(a.thread_id)||h(0,5587,a.thread_id),this.__threadIDMap.getServerIDFromClientID(a.thread_id,function(a){g.thread_fbid=a,d.$14(g,c)}));this.$15("send_msg",a);b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerStart(c.SEND_MESSAGE,a.offline_threading_id)},"MercuryServerRequests")};c.$15=function(a,c){try{var d=(i||(i=b("Env"))).isCQuick?"Comet Inbox":b("MessengerEnvironment").messengerdotcom?"messenger_dot_com":b("MessengerEnvironment").facebookdotcom?"Facebook Messenger (other)":"Other",e=b("MercuryTagHelper").get(c.tags||[],"entrypoint");j({attachment_infos:void 0,client_timestamp:Date.now(),entry_point:e,event_name:a,first_attachment_type:void 0,"interface":d,mid:c.message_id,offline_threading_id:c.offline_threading_id,other_user_fbid:b("MercuryIDs").isGroupChat(c.thread_id)?void 0:b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),thread_fbid:b("MercuryIDs").isGroupChat(c.thread_id)?b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id):void 0})}catch(a){b("BanzaiODS").bumpEntityKey(3303,"chat.web","logging_error")}};c.$14=function(a,c){b("Arbiter").inform(b("ChannelConstants").ATTEMPT_RECONNECT),this.$4[a.message_id]=Date.now(),b("MercuryServerSendMessageQueueRouter").getForFBID(this.$1).enqueue(a.other_user_fbid||a.thread_fbid||a.client_thread_id,this.$7,c,a)};c.__getSendMessageQueueOptions=function(){return this.$7};c.markSeen=function(){var a=this.$2;this.__sendRequest(b("MercuryServerURIs").MARK_SEEN,{seen_timestamp:a})};c.$16=function(a,c,d,e){__p&&__p();a=a.getData();a=a.message_batch||[a];k.debug("handle_send_message_error_common",JSON.stringify({reliability_error_status:d,request_error_status:c,error_data:e,message_list:a}));b("ChatReliabilityInstrumentation").logERROR("send_message_fail");var f=a.map(function(a){a={action_type:"ma-type:send-message",other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,client_message_id:a.message_id,message_id:a.message_id,client_thread_id:a.client_thread_id,status:c,error_data:e};return a});f.forEach(function(a){a.action_type==="ma-type:send-message"&&a.status===10&&this.__logMercurySendError(a)},this);d={actions:f,payload_source:"client_handle_error"};b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){f.map(function(c){a.markerEnd(b.SEND_MESSAGE,"FAIL",c.client_message_id)})},"MercuryServerRequests");this.$6.handleUpdate(d)};c.handleSendMessageError=function(a){var c=a.getPayload(),d=null,e=null;c&&c.error_payload?(d=3,e="send_error"):(d=10,e="request_error"+o(a));c=a.error;c===1404102?b("AsyncResponse").verboseErrorHandler(a):(c===1545052||c===1409009||c===1409008||c===1409007||c===1409006||c===1545083||c===1545084)&&b("AsyncResponse").defaultErrorHandler(a);c=/<.*>/.test(a.getErrorDescription())?a.getErrorSummary():a.getErrorDescription();this.$16(a.getRequest(),d,e,{type:1,code:a.getError(),description:c,is_transient:a.isTransient()})};c.handleSendMessageTransportError=function(a){this.$16(a.getRequest(),10,"transport_error"+o(a),{type:2,code:a.getError(),is_transient:!0})};c.handleSendMessageTimeout=function(a){this.$16(a,10,"transport_timeout",{type:3,is_transient:!0})};c.getLastActionTimestamp=function(){return this.$2};c.__logMercurySendError=function(a){b("MercurySendErrorLogger").log(a)};c.updateLastActionTimestamp=function(a){var b=Date.now()-1e3*60*60*24;a&&a>b&&(this.$2=Math.max(this.$2,a))};c.markThreadFetched=function(a){delete this.$3[a]};c.$13=function(a){return{action_type:"ma-type:log-message",thread_id:a,message_id:a,timestamp:Date.now(),is_unread:!1,source:"source:unknown",log_message_body:"",log_message_type:"log:error-msg",log_message_data:{}}};c.__getForAsyncRequest=function(c){c=c.getData();c=c.request_user_id?c.request_user_id:b("CurrentUser").getID();return a.getForFBID(c)};c.__handleUpdate=function(a,c){a.payload_source==="server_send_message"&&b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){var d=a.actions&&a.actions[0]&&a.actions[0].client_message_id;d&&b.markerEnd(c.SEND_MESSAGE,"SUCCESS",d)},"MercuryServerRequests"),this.__getForAsyncRequest(c).$6.handleUpdate(a)};c.$17=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a)};c.$18=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a,!0)};c.$9=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageError(a)};c.$10=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageTransportError(a)};c.$11=function(a){var b=this.__getForAsyncRequest(a);b.handleSendMessageTimeout(a)};c.$12=function(){__p&&__p();var a=this,c,d=null;b("MercuryServerRequestsConfig").msgrRegion&&(d={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});c=(c={},c[b("MercuryServerURIs").THREAD_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,customHeader:d,batch_function:p,handler:function(b,c){return a.__handleUpdate(b,c)},error_handler:function(b){return a.$17(b.getRequest())},timeout_handler:function(b){return a.$18(b)},timeout:m},c[b("MercuryServerURIs").MARK_FOLDER_READ]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_READ_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){a.__handleUpdate(b,c);c=(b.threads||[]).map(function(a){return a&&a.thread_id});k.log("response_change_read_status",JSON.stringify({threads:c}))}},c[b("MercuryServerURIs").MARK_SEEN]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:s,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").THREADLIST_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:d,batch_function:r,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").MARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").UNMARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").UNREAD_THREADS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:d,batch_function:q,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_PINNED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:u,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELETE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:w,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELETE_MESSAGES]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").DELIVERY_RECEIPTS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").MOVE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:d,batch_function:v,handler:function(b,c){return a.__handleUpdate(b,c)}},c[b("MercuryServerURIs").CHANGE_MUTE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}},c);var e=b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};e=b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};e=b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI().toString();c[e]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:d,handler:function(b,c){return a.__handleUpdate(b,c)}};b("MercuryServerDispatcher").registerEndpoints(c)};c.__sendRequest=function(a,c,d){if(this.$8)switch(a){case b("MercuryServerURIs").THREADLIST_INFO:case b("MercuryServerURIs").THREAD_INFO:c.cachius_min_seq_id=this.$8.getLastSeqID();break;default:break}b("MercuryServerDispatcher").trySend(a,c,d,this.$1)};c.__getFBID=function(){return this.$1};return a}();var x=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryThreadIDMap",["KeyedCallbackManager","MercuryAssert","MercuryIDs","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=new(b("KeyedCallbackManager"))(),this.$3=new(b("KeyedCallbackManager"))()}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.setServerIDToClientID=function(a,b){var c=this.getClientIDFromServerIDNow(a);if(c)return;this.forceSetServerIDToClientID(a,b)};c.forceSetServerIDToClientID=function(a,b){this.$2.setResource(a,b),this.$3.setResource(b,a)};c.setDeprecatedServerIDToClientID=function(a,b){a&&this.$2.setResource(a,b)};c.getClientIDFromServerIDNow=function(a){return this.$2.getResource(a)};c.getClientIDFromServerID=function(a,b){var c=this;this.$2.executeOrEnqueue(a,b);d(["MercuryServerRequests"],function(b){b.getForFBID(c.$1).ensureThreadIsFetched(a)})};c.getServerIDFromClientIDNow=function(a){return this.$3.getResource(a)};c.getServerIDFromClientID=function(a,c){var e=this;b("MercuryAssert").isThreadID(a);var f=this.$3.executeOrEnqueue(a,c);d(["MercuryServerRequests"],function(c){var d=e.$3.getUnavailableResources(f),g=b("MercuryIDs").tokenize(a);d.length&&g.type!="root"&&c.getForFBID(e.$1).fetchThreadData(d)})};c.hasClientIDForServerID=function(a){return!!this.getClientIDFromServerIDNow(a)};c.convertThreadIDIfAvailable=function(a){var b=this.getClientIDFromServerIDNow(a);return b||a};c.canLinkExternally=function(a){b("MercuryAssert").isThreadID(a);var c=b("MercuryIDs").tokenize(a);return c.type=="user"||!!this.getServerIDFromClientIDNow(a)};c.reset=function(){this.$3.reset(),this.$2.reset()};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryLoggingHelper",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){return Array.from(a).slice(0,6).join("")}a={obfuscateThread:function(a){var b=babelHelpers["extends"]({},a);a&&a.snippet&&a.snippet.length>9&&(b.snippet=g(a.snippet)+"...");return b},obfuscateMessage:function(a){var b=babelHelpers["extends"]({},a);a&&a.body&&a.body.length>9&&(b.body=g(a.body)+"...");return b}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueSimulatedError",["AsyncRequest","AsyncResponse"],(function(a,b,c,d,e,f){var g=9999;a={create:function(a){a=new(b("AsyncRequest"))(this.endpoint_uri).setData({message_batch:[a],client:this.client});var c=new(b("AsyncResponse"))(a,{});Object.assign(c,{error:g,silentError:!1,transientError:!0,request:a});return c}};e.exports=a}),null);
__d("MessengerAttachmentTransformerForSend.bs",["MercuryAttachmentType","MessengerMessageTransformer.bs","MessengerAttachmentTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){__p&&__p();c=c.node;if(c==null)return{attach_type:b("MercuryAttachmentType").ERROR};else{if(c.__typename==="ExtensibleMessageAttachment"){var f=c.story_attachment,g=c.genie_attachment,h;if(g==null)h=null;else{g=g.genie_message;var i;if(g==null)i=null;else{g=g.story_attachment;i={story_attachment:g==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(g)}}h={genie_message:i}}g={legacy_attachment_id:c.legacy_attachment_id,story_attachment:f==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(f),genie_attachment:h}}else g=null;i=c.__typename==="Sticker"?c:null;f=c.__typename;var j;switch(f){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":j=[c];break;default:j=null}h=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments({blob_attachments:j});f=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:h,sticker:i},d,e);if(f.length!==0)return f[0];else return{}}}function a(a,b,c,d){return b.map(function(b){return g(a,b,c,d)})}f._transform=g;f.transform=a}),null);
__d("XMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/send/",{})}),null);
__d("MercuryServerSendMessageQueue",["fbt","BanzaiODS","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryIDs","MercuryLoggingHelper","MercuryServerDispatcher","MercuryServerRequestsConfig","MercuryServerSendMessageQueueSimulatedError","MercurySyncDeltaHandler","MessengerAttachmentTransformerForSend.bs","MessengerObjectAssociationType","MessengerState.bs","Run","XMessagingSendController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("mercury_server_send_message_queue");a=function(){__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.pending_message=null;this.queue=[];this.$6=function(){return f.queue.length||f.pending_message?g._("B\u1ea1n v\u1eabn ch\u01b0a g\u1eedi tin nh\u1eafn. B\u1ea1n c\u00f3 mu\u1ed1n tho\u00e1t m\u00e0 kh\u00f4ng g\u1eedi kh\u00f4ng?"):void 0};this.sender_id=a;this.queue_id=c;this.$2=d.success_handler;this.$1=d.error_handler;this.$4=d.transport_error_handler;this.$3=d.timeout_handler;this.$5=b("MercurySyncDeltaHandler").getForFBID(this.sender_id);this.client=e;b("Run").onBeforeUnload(this.$6,!1);a=null;b("MercuryServerRequestsConfig").msgrRegion&&(a={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});c=this.__getSendURI();c=(e={},e[c]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:a,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:d.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:d.connection_retries},e);b("MercuryServerDispatcher").registerEndpoints(c)}var c=a.prototype;c.__getSendURI=function(){return b("XMessagingSendController").getURIBuilder().getURI().toString()};c.__preparePayload=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.replied_to_message)!=null?(c=c.message)!=null?c.message_id:c:c:c;var d=null,e=a.client_thread_id;if(b("MercuryIDs").isLocalThread(e)){e=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),e);if(e&&e.message_count===1&&e.object_association_type===b("MessengerObjectAssociationType").GENERAL_CHAT){d=(e=e)!=null?(e=e.associated_object)!=null?e.id:e:e}}e=c?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),c):null;return{client:this.client,action_type:a.action_type,app_id:a.app_id,audio_ids:a.audio_ids,body:a.body,client_thread_id:a.client_thread_id,ephemeral_ttl_mode:a.ephemeral_ttl_mode,file_ids:a.file_ids,gif_ids:a.gif_ids,has_attachment:a.has_attachment,image_ids:a.image_ids,location_attachment:a.location_attachment,lightweight_action_attachment:a.lightweight_action_attachment,log_message_data:a.log_message_data,log_message_type:a.log_message_type,message_id:a.message_id,message_source_data:a.message_source_data,montage_reply_data:a.montage_reply_data,offline_threading_id:a.offline_threading_id,other_user_fbid:a.other_user_fbid,photo_fbids:a.photo_fbids,shareable_attachment:a.shareable_attachment,signature_id:a.signatureID,source:a.source,specific_to_list:a.specific_to_list,sticker_id:a.sticker_id,tags:a.tags,thread_fbid:a.thread_fbid,timestamp:a.timestamp,ui_push_phase:a.ui_push_phase,video_ids:a.video_ids,platform_xmd:a.platform_xmd,profile_xmd:a.profile_xmd,replied_to_message_id:e,work_synced_group_id:d,to_list_md5:a.to_list_md5,mib_direct_message_data:a.mib_direct_message_data}};c.enqueue=function(a){this.queue.push(a),this.$7()};c.$7=function(){__p&&__p();if(this.pending_message||!this.queue.length){this.pending_message&&this.$8();return}this.pending_message=this.queue.shift();var a=this.__preparePayload(this.pending_message);for(var c in a)(a[c]===void 0||a[c]===null)&&delete a[c];if(!a.action_type){var d=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller");h.debug("missing_action_type",JSON.stringify(d))}if(!a.message_id){d=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller"+JSON.stringify(d));h.debug("missing_message_id",JSON.stringify(d))}this.$9();b("MercuryServerDispatcher").trySend(this.__getSendURI(),a,null,this.sender_id,this.queue_id)};c.$10=function(){while(this.queue.length)this.$11(this.queue.shift())};c.$11=function(a){this.$1(b("MercuryServerSendMessageQueueSimulatedError").create(a)),h.error("mark_as_failed",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,message:b("MercuryLoggingHelper").obfuscateMessage(a)}))};c.handleSuccess=function(a,c){__p&&__p();var d=this;this.pending_message=null;var e=(a.actions||[]).map(function(a){__p&&__p();var c=babelHelpers["extends"]({},a);if(a.graphql_payload&&a.graphql_payload.length>0){var e=b("MessengerAttachmentTransformerForSend.bs").transform(d.sender_id,a.graphql_payload,a.message_id,a.for_page);c=Object.assign(c,{attachments:e})}e=(e=a)!=null?(e=e.log_message_data)!=null?e.graphql_image:e:e;if(e){e=b("MessengerAttachmentTransformerForSend.bs").transform(d.sender_id,[e],a.message_id,a.for_page);c=Object.assign(c,{log_message_data:{image:e[0]}})}return c});a.actions=e;this.resumeAfterSuccess(a,c)};c.resumeAfterSuccess=function(a,b){this.$2(a,b),this.$12(),this.$7()};c.handleError=function(a){this.pending_message=null,this.$12(),this.$1(a),this.$10()};c.handleTransportError=function(a){this.pending_message=null,this.$12(),this.$4(a),this.$10()};c.handleTimeout=function(a){this.pending_message=null,this.$12(),this.$3(a),this.$10()};c.$9=function(){this.$5.pause()};c.$12=function(){this.$5.resume()};c.$8=function(){h.debug("maybe_send_next_pending_message",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,pending_message:b("MercuryLoggingHelper").obfuscateMessage(this.pending_message),queue:this.queue.map(function(a){return b("MercuryLoggingHelper").obfuscateMessage(a)})}));var a="send_queue.delayed.queue_length."+this.queue.length.toString();b("BanzaiODS").bumpEntityKey(3303,"chat.web",a)};return a}();e.exports=a}),null);
__d("MercurySingletonMixin",["CurrentUser"],(function(a,b,c,d,e,f){a={_getInstances:function(){this._instances||(this._instances={});return this._instances},get:function(){return this.getForFBID(b("CurrentUser").getID())},getForFBID:function(a){var b=this._getInstances();b[a]||(b[a]=new this(a));return b[a]}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueRouter",["BanzaiODS","LogHistory","MercuryServerSendMessageQueue","MercurySingletonMixin"],(function(a,b,c,d,e,f){__p&&__p();var g=b("LogHistory").getInstance("mercury_server_send_message_queue_router"),h="chat.web.send_queue_router";b("BanzaiODS").setEntitySample(h,.1);a=function(){"use strict";function a(a){this.queues=new Map(),this.fbid=a}var c=a.prototype;c.enqueue=function(a,c,d,e){var f=this.queues.get(a);f===void 0&&(f=new(b("MercuryServerSendMessageQueue"))(this.fbid,a,c,d),this.queues.set(a,f),g.debug("added queue",JSON.stringify({fbid:this.fbid,queue_id:a})),b("BanzaiODS").bumpEntityKey(3303,h,"new_queue"));f.enqueue(e)};return a}();Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MercurySyncDataFetcherImpl",["invariant","Promise","AsyncResponse","Bootloader","CurrentUser","FBIDCheck","MercuryConfig","MercuryThreadlistConstants","MessagingConfig","QE2Logger","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j=null,k={limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1,folder:"inbox",tags:["INBOX"],timestamp:null,filter:null,includeDeliveryReceipts:!1,includeSeqID:!0},l={};function a(a){return new(b("Promise"))(function(b,c){m(a,b,c,0)})}function m(a,c,d,e){__p&&__p();if(!b("CurrentUser").isLoggedInNow()||e>b("MessagingConfig").syncFetchRetries){b("clearTimeout")(l[a]);d();return}var f=e===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,e);b("UserActivity").isOnTab()||(b("QE2Logger").logExposureForUser("mercury_dff_fetch_delay",a),f+=b("MercuryConfig").DFFD*Math.random());b("clearTimeout")(l[a]);l[a]=b("setTimeoutAcrossTransitions")(function(){__p&&__p();var f=!1,n=function(h){__p&&__p();if(f)return;if(h.errors&&h.errors.length>0){var k=h.errors[0].message;if(k){var l=function(){j&&i||g(0,3650),new j().setErrorMessage(k).setEvent(i.DFF_FAILURE).setQueryParams(a).log()};j&&i?l():b("Bootloader").loadModules(["MessengerWebGraphQLTypedLogger","MessengerWebGraphQLEvent"],function(a,b){j=a,i=b,l()},"MercurySyncDataFetcherImpl")}}f=!0;m(a,c,d,e+1)},o=function(){if(!b("CurrentUser").isLoggedInNow())return;h||g(0,3651);h.fetchAll(a,[k],!b("FBIDCheck").isUser_deprecated(a),"dff").then(function(d){f=!0,c(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},d,{payload_source:"server_invalidate_global_state"}))),b("clearTimeout")(l[a])},n)};h?o():b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs"],function(a){h=a,o()},"MercurySyncDataFetcherImpl")},f)}function c(a,c,d){return new(b("Promise"))(function(b,e){n(a,c,d,b,e,0)})}function n(a,c,d,e,f,g){__p&&__p();if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;n(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerThreadDFFFetcher.bs"],function(f){return f.fetch_(a,{id:c,limit:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a,{payload_source:"server_invalidate_thread_state"})))},i)},"MercurySyncDataFetcherImpl")},h)}function d(a,c,d){return new(b("Promise"))(function(b,e){o(a,c,d,b,e,0)})}function o(a,c,d,e,f,g){__p&&__p();if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;o(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerMessageDFFFetcher.bs"],function(f){return f.fetch_(a,{thread_id:c,message_id:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a)))},i)},"MercurySyncDataFetcherImpl")},h)}e.exports={fetchThreadlistFromGraphQL:a,fetchThreadFromGraphQL:c,fetchMessageFromGraphQL:d}}),null);
__d("MercurySyncDataFetcher",["Promise","LogHistory","MercurySyncDataFetcherImpl","MessagingConfig","WebGraphQLConfig","clearTimeout","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_sync_data_fetcher");function a(){var a=0;for(var c=0;c<b("MessagingConfig").syncFetchRetries;c++){var d=c===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,c);a+=d+b("MessagingConfig").syncFetchRequestTimeoutMs}return a}var h=a();function c(a){var c=null;return new(b("Promise"))(function(d,e){var f=function(a){g.error("fetch_threadlist_graphql_timeout",JSON.stringify({timeout:h})),b("clearTimeout")(c),e(a)};c=b("setTimeoutAcrossTransitions")(f,Math.max(h,b("WebGraphQLConfig").timeout*b("MessagingConfig").syncFetchRetries));b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadlistFromGraphQL(a),function(a){b("clearTimeout")(c),d(a)},f)})}function d(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_thread_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}function f(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_message_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchMessageFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}e.exports={fetchThreadlistFromGraphQL:c,fetchThreadFromGraphQL:d,fetchMessageFromGraphQL:f,getMaxTimeoutMs:a}}),null);
__d("MercurySyncDFFDataFetcher",["Promise","CurrentUser","MercurySingletonProvider","MercurySyncDataFetcher","MercuryThreadIDMap","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1)}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.fetchInvalidateGlobalStateForGraphQL=function(){return this.$1&&this.$1!=="0"&&b("CurrentUser").isLoggedIn()?b("MercurySyncDataFetcher").fetchThreadlistFromGraphQL(this.$1):new(b("Promise"))(function(a,b){return b(!0)})};c.fetchInvalidateThreadState=function(a,c){var d=11,e=3;a=a||c;c=this.__threadIDMap.getClientIDFromServerIDNow(a);if(!c)return b("Promise").resolve({getPayload:function(){return{}}});e=e+b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,c).length;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchThreadFromGraphQL(this.$1,a,Math.max(e,d))};c.fetchInvalidateMessage=function(a,c,d){a=a||c;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchMessageFromGraphQL(this.$1,a,d)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","LogHistory","MercurySingletonProvider","MercurySyncDeltaTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),h=b("LogHistory").getInstance("dff_sender");a=function(){__p&&__p();a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.sendGlobalDFF=function(){h.debug("sendGlobalDFF",JSON.stringify({fbid:this.$1})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch},queue:this.$1}})};c.sendThreadDFF=function(a,c){h.debug("sendThreadDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c}},queue:this.$1}})};c.sendMessageDFF=function(a,c,d){h.debug("sendMessageDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c,messageID:d})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c},messageId:d},queue:this.$1}})};return a}();var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncChannelMonitor",["Arbiter","ChannelConstants","CurrentUser","MercurySingletonProvider","MercurySyncFakeDFFSender","MessengerMQTTGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){var c=this;this.handleAwfulChannelEvent=function(){if(!b("CurrentUser").isLoggedInNow()){c.killSubscriptions();return}b("MercurySyncFakeDFFSender").getForFBID(c.$1).sendGlobalDFF()};this.$1=a;this.$2=!1}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.setupSubscriptions=function(){if(b("MessengerMQTTGating").isEnabled())return;this.$2||(this.$4=b("Arbiter").subscribe(b("ChannelConstants").JUMPSTART,this.handleAwfulChannelEvent),this.$3=b("Arbiter").subscribe(b("ChannelConstants").THROTTLED,this.handleAwfulChannelEvent),this.$2=!0)};c.killSubscriptions=function(){this.$2&&(b("Arbiter").unsubscribe(this.$4),b("Arbiter").unsubscribe(this.$3),this.$2=!1)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER",ARBITER_EVENT_INVALID_STATE_STALE:"SYNC:INVALID_STATE_STALE"});e.exports=a}),null);
__d("MercurySyncTopicType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"})}),null);
__d("MercurySyncDeltaHandler",["invariant","Arbiter","Bootloader","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryDelayedDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MercurySyncChannelMonitor","MercurySyncConstants","MercurySyncDeltaHolder","MercurySyncDeltaTypes","MercurySyncEventsProxy","MercurySyncForcedFetchHandler","MercurySyncHolesTypedLogger","MercurySyncTopicType","MercuryThreadIDMap","MessengerDeltaTransformer.bs","gkx","onAfterLoadSafe","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LogHistory").getInstance("mercury_sync_delta_handler"),j="app_id:219994525426954";a=function(){__p&&__p();a.getForFBID=function(a){return k.getForFBID(a)};a.get=function(){return k.get()};function a(a){__p&&__p();var c=this;this.$1=a;this.$2=b("MercurySyncForcedFetchHandler").getForFBID(this.$1);this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.__delayedDispatcher=b("MercuryDelayedDispatcher").getForFBID(this.$1);this.$3=b("MercurySyncDeltaHolder").getForFBID(this.$1);this.$4=0;this.$9=b("MercurySyncChannelMonitor").getForFBID(this.$1);this.$14=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=[];this.$12=b("MercurySyncEventsProxy").getForFBID(this.$1);i.debug("constructor",JSON.stringify({fbid:this.$1}));b("Arbiter").subscribe(b("MercurySyncEventsProxy").Events.INIT,function(a,d){__p&&__p();i.debug("initSeqID",JSON.stringify(d));a=d&&d.seqID;d=d&&d.fbid;if(!d)return;if(d!==c.$1)return;a?c.$3.updateLastSeqID(a):c.$3.updateLastSeqID(0);c.$15();c.$13=b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){c.$16(!0),c.$7&&b("Arbiter").unsubscribe(c.$7),c.$17(),c.$15()});b("gkx")("678667")&&b("onAfterLoadSafe")(function(){b("Bootloader").loadModules(["MessengerSyncSeqIDSanityCheck"],function(a){a.getForFBID(c.$1).init()},"MercurySyncDeltaHandler")})})}var c=a.prototype;c.$17=function(){var a=this;this.$7=b("Arbiter").subscribe(this.$12.getArbiterType(b("MercurySyncEventsProxy").Events.FLOW),function(b,c){a.$11||a.$15()})};c.$15=function(){__p&&__p();var a=this;i.debug("setUpSubscriptionsToRealTimeUpdates",JSON.stringify({fbid:this.$1}));this.$6=b("Arbiter").subscribe(this.$12.getArbiterType(b("MercurySyncEventsProxy").Events.DELTA),function(c,d){__p&&__p();c=d&&d.obj&&d.obj.queue;if(c&&c.toString()!==a.$1)return;c=d&&d.obj&&d.obj.delta;d=d&&d.obj&&d.obj.iseq;if(!c||!d)return;a.$18(d,b("MercurySyncTopicType").DELTA);a.$19(d,c);a.$3.push(d,c);a.$20()});this.$10=b("Arbiter").subscribe(this.$12.getArbiterType(b("MercurySyncEventsProxy").Events.FLOW_REJECT),function(b,c){b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;a.$11&&a.$16()});this.$8=b("Arbiter").subscribe(this.$12.getArbiterType(b("MercurySyncEventsProxy").Events.FAKE_DFF),function(b,c){__p&&__p();b=c&&c.obj&&c.obj.queue;if(b&&b.toString()!==a.$1)return;b=c&&c.obj&&c.obj.delta;if(!b)return;if(a.$21(b))if(a.$5.some(function(b){return a.$21(b)}))return;else a.$5.push(b);else a.$5.push(b);a.$20()});this.$9.setupSubscriptions();this.$11=!0};c.$21=function(a){return a["class"]===b("MercurySyncDeltaTypes").ForcedFetch&&!a.threadKey&&!a.messageId};c.$20=function(){__p&&__p();if(this.$4>0)return;if(this.$5.length>0){var a=this.$5.shift();this.$22(this.$3.getLastSeqID(),a);this.$20()}a=this.$3.peek();if(!a)return;a=a-this.$3.getLastSeqID();if(a===1){var b=this.$3.pop();if(!b)return;var c=b.seqID;b=b.delta;this.$22(c,b);this.$20()}else a>1?this.$23():(this.$3.pop(),this.$20())};c.$22=function(a,c){b("gkx")("1207482")&&c.numNoOps&&c.numNoOps>1?this.$3.updateLastSeqID(a+c.numNoOps-1):this.$3.updateLastSeqID(a),c["class"]===b("MercurySyncDeltaTypes").ForcedFetch?(i.debug("DFF",JSON.stringify(c)),c.threadKey!==void 0&&c.messageId===void 0?this.$24(a,c):c.threadKey!==void 0&&c.messageId!==void 0?this.$25(a,c):(b("ChatReliabilityInstrumentation").logDFF_DELTA_INIT(JSON.stringify(c)),this.$26(a))):b("MessengerDeltaTransformer.bs").transform(this.$1,c)};c.$23=function(){var a=JSON.stringify({$27:this.$3.getLastSeqID(),nextSeqID:this.$3.peek()});i.warn("hole",a);var c=this.$3.peek();!c&&g(0,5132);c=c-1;b("ChatReliabilityInstrumentation").logDFF_HOLE_INIT(a);this.$26(c)};c.$28=function(a,c,d,e){var f=this;this.$4&&g(0,5134);this.$4++;i.debug("_scheduleDataFetch:start",JSON.stringify({seqID:a}));b("promiseDone")(c(),function(b){i.debug("_scheduleDataFetch:success",JSON.stringify({seqID:a})),f.$4--,d(a,b),f.$20()},function(b){i.error("_scheduleDataFetch:failure",JSON.stringify({seqID:a})),f.$4--,e(a,b),f.$20()})};c.emergencyDFF=function(a,b){this.$26(0,a,b)};c.$26=function(a,c,d){__p&&__p();var e=this;if(!b("CurrentUser").isLoggedInNow())return;this.$28(void 0,function(){return e.$2.processGlobalDFFForGraphQL()},function(a,d){b("gkx")("1199098")&&e.$14.reset();a=d.getPayload();e.__payloadPreprocessor.handleUpdate(a);a.sequence_id&&(i.debug("_initiateGlobalDFF:success",JSON.stringify({seqID:a.sequence_id})),b("gkx")("678668")?e.$3.updateLastSeqIDAndClearHistory(a.sequence_id):e.$3.updateLastSeqID(a.sequence_id));b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER);c&&c(a.sequence_id)},function(f,g){i.error("_initiateGlobalDFF:failure",""),g?(e.$11&&e.$16(),d&&d()):(b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY),i.debug("_initiateGlobalDFF:retry",""),e.$26(a,c,d))})};c.$24=function(a,b){var c=this;this.$28(a,function(){return c.$2.processThreadDFF(a,b.threadKey,b.isLazy)},function(a,b){c.__payloadPreprocessor.handleUpdate(b.getPayload()),c.$3.updateLastSeqID(a)},function(){i.error("_initiateThreadDFF:failure",JSON.stringify(b));var d=babelHelpers["extends"]({},b);delete d.threadKey;c.$3.updateLastSeqID(a-1);c.$3.push(a,d)})};c.$25=function(a,b){__p&&__p();var c=this;this.$28(a,function(){return c.$2.processMessageDFF(a,b.threadKey,b.messageId,b.isLazy)},function(a,b){b=b.getPayload();var d=b.other_user_fbid?b.other_user_fbid:b.thread_fbid;b=[babelHelpers["extends"]({},b)];var e="client_channel_message";c.__delayedDispatcher.handleUpdateWaitForThread({actions:b,payload_source:e},d);c.$3.updateLastSeqID(a)},function(){i.error("_initiateMessageDFF:failure",JSON.stringify(b));var d=babelHelpers["extends"]({},b);delete d.messageId;c.$3.updateLastSeqID(a-1);c.$3.push(a,d)})};c.$18=function(a,c){var d=a-this.$3.getLastSeqID();if(d!==1&&d!==0){if(!b("CurrentUser").isEmployee())return;new(b("MercurySyncHolesTypedLogger"))().setSeqID(a).setDifference(d).setTopicType(c).log()}};c.$19=function(a,c){__p&&__p();switch(c["class"]){case b("MercurySyncDeltaTypes").NewMessage:var d=(h||(h=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){var e=c.messageMetadata.tags;Array.isArray(e)&&e.includes(j)&&a.markerEnd(b.SEND_MESSAGE,"SUCCESS",c.messageMetadata.offlineThreadingId,d)},"MercurySyncDeltaHandler");i.debug("message_delta",JSON.stringify({seqID:a,threadKey:c.messageMetadata.threadKey,messageId:c.messageMetadata.messageId}));break;case b("MercurySyncDeltaTypes").ReadReceipt:i.debug("read_receipt_delta",JSON.stringify({seqID:a,threadKey:c.threadKey,actionTimestampMs:c.actionTimestampMs,watermarkTimestampMs:c.watermarkTimestampMs}));break;case b("MercurySyncDeltaTypes").DeliveryReceipt:i.debug("delivery_receipt_delta",JSON.stringify({seqID:a,deliveredWatermarkTimestampMs:c.deliveredWatermarkTimestampMs,messageIds:c.messageIds}));break}};c.pause=function(){this.$4++};c.resume=function(){this.$4--,this.$20()};c.$16=function(a){a===void 0&&(a=!1),this.$11=!1,b("Arbiter").unsubscribe(this.$6),b("Arbiter").unsubscribe(this.$8),b("Arbiter").unsubscribe(this.$10),this.$9.killSubscriptions(),a||b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE)};return a}();var k=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncForcedFetchHandler",["Promise","MercurySingletonProvider","MercurySyncDFFDataFetcher","MercuryThreadIDMap","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return{getPayload:function(){return{sequence_id:a}}}}a=function(){__p&&__p();a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};function a(a){this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercurySyncDFFDataFetcher").getForFBID(this.$1)}var c=a.prototype;c.processMessageDFF=function(a,c,d,e){__p&&__p();if(e){e=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();e=this.$2.getClientIDFromServerIDNow(e);if(e===void 0)return b("Promise").resolve(g(a));e=b("MessengerState.bs").getMessagesFromIDs(this.$1,[d]);if(e.length===0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateMessage(c.otherUserFbId,c.threadFbId,d)};c.processThreadDFF=function(a,c,d){if(d){d=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();d=this.$2.getClientIDFromServerIDNow(d);if(d===void 0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateThreadState(c.otherUserFbId,c.threadFbId)};c.processGlobalDFFForGraphQL=function(){return this.$3.fetchInvalidateGlobalStateForGraphQL()};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MontageDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!1})}),null);
__d("MontageActions",["Bootloader","CurrentUser","MercuryServerPayloadPreprocessor","MontageDispatcher","WebGraphQL","keyMirror","promiseDone","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({REQUEST_UPDATE:null,HAS_UPDATED:null,HANDLE_ACTION:null}),h=new Set();a={Types:g,requestUpdate:function(a){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})},montageThreadChanged:function(a,c){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})},hasUpdated:function(a){b("MontageDispatcher").dispatch({type:g.HAS_UPDATED,threadFBID:a})},loadMontageThreadForActor:function(a){if(h.has(a))return;h.add(a);b("Bootloader").loadModules(["MessengerMontageThreadQueryWebGraphQLQuery"],function(c){c=b("WebGraphQL").exec(new c({id:a}));b("promiseDone")(c,function(c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({current_montage_thread:c}),h["delete"](a)})},"MontageActions")},deleteMontage:function(a,c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_delete_message_delta:c})},handleNewMontageDelta:function(a,c){b("Bootloader").loadModules(["MessengerNewMontageMessageWebGraphQLQuery"],function(a){a=b("WebGraphQL").exec(new a({id:c.message_fbid}));b("promiseDone")(a,function(a){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_new_message_delta:a.montage_message})})},"MontageActions")},updatePollStickerChoice:function(a){b("Bootloader").loadModules(["MessengerState.bs","MessengerMontagePollVoteMutationWebGraphQLMutation"],function(c,d){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_poll_sticker_vote:[a]});c=b("WebGraphQL").exec(new d({input:{client_mutation_id:b("uniqueID")(),story_card_poll_id:a.pollID,option:a.optionVotedIndex,actor_id:b("CurrentUser").getID()}}));b("promiseDone")(c,function(a){},function(a){})},"MontageActions")}};e.exports=a}),null);
__d("RemovedMessageTombstoneContent",["fbt","CurrentUser","GenderConst","IntlVariations","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getRemovedMessageTombstoneContent:function(a,c){__p&&__p();var d;d=((d=a.unsender)==null?void 0:d.id)||a.author;var e=b("MercuryIDs").getUserIDFromParticipantID(d),f=b("CurrentUser").getID();if(e===f)return this._getFbtForCurrentViewerAuthor();f=b("MessengerState.bs").getThreadMetaNow(f,a.thread_id);f=f==null?void 0:(f=f.custom_nickname)==null?void 0:f[e];f=f||((e=c.get(d))==null?void 0:e.short_name)||((f=a.unsender)==null?void 0:f.short_name)||((e=a.unsender)==null?void 0:e.name);e=(a=c.get(d))==null?void 0:a.gender;if(f)return this._getFbtForOtherAuthor(f,e);else return this._getFbtForUnknownAuthor()},getTombstoneContentForSnippet:function(a){__p&&__p();if(a==null)return this._getFbtForUnknownAuthor().toString();var c=b("MercuryIDs").getUserIDFromParticipantID(a);if(c===b("CurrentUser").getID())return this._getFbtForCurrentViewerAuthor().toString();c=b("MessengerParticipants.bs").getNow(a);a=c&&c.short_name;c=c&&c.gender;if(a)return this._getFbtForOtherAuthor(a,c).toString();else return this._getFbtForUnknownAuthor().toString()},_getFbtForCurrentViewerAuthor:function(){return g._("B\u1ea1n \u0111\u00e3 g\u1ee1 m\u1ed9t tin nh\u1eafn")},_getFbtForOtherAuthor:function(a,c){return g._({"*":"{name} \u0111\u00e3 g\u1ee1 m\u1ed9t tin nh\u1eafn"},[g._param("name",a,[1,c===b("GenderConst").FEMALE_SINGULAR?b("IntlVariations").GENDER_FEMALE:b("IntlVariations").GENDER_MALE])])},_getFbtForUnknownAuthor:function(){return g._("Ng\u01b0\u1eddi li\u00ean h\u1ec7 \u0111\u00e3 g\u1ee1 m\u1ed9t tin nh\u1eafn")}};e.exports=a}),null);
__d("MercuryCanonicalGroupThreadManager",["Bootloader","KeyedCallbackManager","MercuryIDs","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MessengerServerPayloadTransformer.bs","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=new(b("KeyedCallbackManager"))(),this.$3=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$4={},this.$7(),this.$8(),this.$6={}}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.getCanonicalGroupThreadIDForParticipants=function(a,b){a=this.$9(a);var c=this.$10(a);c=this.$2.executeOrEnqueue(c,b);this.$11(a);return c};c.unsubscribe=function(a){a&&this.$2.unsubscribe(a)};c.$10=function(a){return a.sort().join(",")};c.$12=function(a,c){c=b("MercuryIDs").getThreadIDFromThreadFBID(c);this.$2.setResource(a,c);this.$4[c]=a};c.$11=function(a){var c=this.$10(a);c={canonical_group_key:c,participants:a};b("MercuryServerDispatcher").trySend("/ajax/mercury/search_canonical_groups.php",c,null,this.$1)};c.$7=function(){var a=this;b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_canonical_groups.php":{request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(b){a.handleUpdate(b)}}})};c.$9=function(a){a.indexOf(this.$1)===-1&&a.push(this.$1);return a};c.handleUpdate=function(a){if(a.graphql_payload){var c=b("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,a.graphql_payload,a.for_page);this.$3.handleUpdate({threads:[c],payload_source:"server_search"})}c=a.canonical_group;if(c)for(var d in c)this.$12(d,c[d])};c.getNow=function(a){a=this.$10(this.$9(a));return this.$2.getResource(a)};c.$8=function(){var a=this;b("Bootloader").loadModules(["MercuryThreadInformer"],function(c){c=c.getForFBID(a.$1);var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(c.subscribe("threads-deleted",function(b,c){for(var d in c)a.$4[d]&&(a.$2.setResource(a.$4[d],void 0),delete a.$4[d])}));a.$5=d},"MercuryCanonicalGroupThreadManager")};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("FantaGetMessageActions",["FantaDispatcher","FantaTabActions","MercuryCanonicalGroupThreadManager","MercuryIDs","keyMirror","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_PARTICIPANTS:null,CLEAR_PARTICIPANTS:null,CLEAR_PREVIEW:null,ON_BOOTLOAD_TYPEAHEAD:null,ON_GET_PARTICIPANT_RESPONSE:null,ON_GET_THREAD_PREVIEW_RESPONSE:null,ON_GET_THREAD_RESPONSE:null,ON_PAGE_NULL_RESPONSE:null,ON_PRIVACY_STATE_CHANGE:null,ON_SHOW_CONTEXT_BANNER_TIMER:null,ON_GET_THREAD_HREF_RESPONSE:null,REFRESH_THREAD:null,THREADS_UPDATED:null});a={Types:h,addParticipants:function(a,c){__p&&__p();var d=c.length===1&&c[0].getInfo().render_type==="thread",e;if(d){d=c[0].getInfo().mercury_thread;d=b("MercuryIDs").getThreadIDFromThreadFBID(d.thread_fbid);b("FantaTabActions").replaceTab(a,d);return}if(c.length===1){d=c[0].info&&c[0].info.uid;d&&(e=b("MercuryIDs").getThreadIDFromUserID(d))}else if(c.length===0){b("FantaDispatcher").dispatch({type:h.CLEAR_PARTICIPANTS,tabID:a});return}else{var f=b("MercuryCanonicalGroupThreadManager").get();d=c.map(function(a){return a.info.uid});b("FantaDispatcher").dispatch({type:h.CLEAR_PREVIEW,tabID:a,tokens:c});var i=f.getCanonicalGroupThreadIDForParticipants(Array.from(d),function(d){f.unsubscribe(i);if(g){var e=g.getState();if(!e.tabGroup.tabs.get(a))return}d&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:d,tabID:a,tokens:c})})}e&&b("FantaDispatcher").dispatch({type:h.ADD_PARTICIPANTS,previewTabID:e,tabID:a,tokens:c})},onBootloadTypeahead:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_BOOTLOAD_TYPEAHEAD,tabID:a,thread:c})},refreshThread:function(a){b("FantaDispatcher").dispatch({type:h.REFRESH_THREAD,threadID:a})},onGetThreadResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_RESPONSE,thread:a})},onGetThreadPreviewResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_PREVIEW_RESPONSE,tabID:a,thread:c})},onParticipantResponse:function(a){b("FantaDispatcher").dispatch({type:h.ON_GET_PARTICIPANT_RESPONSE,tabID:a})},onShowContextBannerTimer:function(a){b("FantaDispatcher").dispatch({type:h.ON_SHOW_CONTEXT_BANNER_TIMER,threadID:a})},threadsUpdated:function(a){b("FantaDispatcher").dispatch({type:h.THREADS_UPDATED,threads:a})},onPrivacyStateChange:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PRIVACY_STATE_CHANGE,threadID:a,privacyState:c})},onPageNullResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_PAGE_NULL_RESPONSE,threadID:a,nullStateCTA:c})},onGetThreadHrefResponse:function(a,c){b("FantaDispatcher").dispatch({type:h.ON_GET_THREAD_HREF_RESPONSE,tabID:a,href:c})}};e.exports=a}),null);
__d("FantaTabSheetActions",["FantaDispatcher","LogHistory","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CLOSE_ADD_FRIENDS_SHEET:null,CLOSE_ADD_MORE_FRIENDS_SHEET:null,CLOSE_EMPLOYEE_PERSONAL_USER_SHEET:null,CLOSE_EMPLOYEE_WORK_USER_SHEET:null,CLOSE_NAME_CONVERSATION_TAB_SHEET:null,CLOSE_READ_ONLY_PERMANENT_SHEET:null,CLOSE_READ_ONLY_SHEET:null,CLOSE_USER_FOCUS_AND_BYPASS_SHEET:null,ON_BOOTLOAD_EVENT_REMINDER:null,ON_WORK_DO_NOT_DISTURB_RESPONSE:null,ON_MENTORSHIP_PROGRAM_RESPONSE:null,ON_IS_PAGE_TAB:null,OPEN_ADD_MORE_FRIENDS_SHEET:null,OPEN_BYPASS_FOCUS_SHEET:null,OPEN_EMPLOYEE_AWAY_SHEET:null,OPEN_EMPLOYEE_PERSONAL_USER_SHEET:null,OPEN_EMPLOYEE_WORK_USER_SHEET:null,OPEN_NAME_CONVERSATION_TAB_SHEET:null,OPEN_READ_ONLY_PERMANENT_SHEET:null,OPEN_READ_ONLY_SHEET:null,OPEN_USER_FOCUS_SHEET:null,OPEN_MENTORSHIP_PROGRAM_SHEET:null}),h=b("LogHistory").getInstance("fanta_sheets");function i(a){b("FantaDispatcher").dispatch(a),h.log(a.type,a.tabID)}a={Types:g,openUserFocusSheet:function(a){i({type:g.OPEN_USER_FOCUS_SHEET,tabID:a})},openBypassFocusSheet:function(a){i({type:g.OPEN_BYPASS_FOCUS_SHEET,tabID:a})},closeUserFocusAndBypassSheet:function(a){i({type:g.CLOSE_USER_FOCUS_AND_BYPASS_SHEET,tabID:a})},openAddMoreFriendsSheet:function(a){i({type:g.OPEN_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddMoreFriendsSheet:function(a){i({type:g.CLOSE_ADD_MORE_FRIENDS_SHEET,tabID:a})},closeAddFriendsSheet:function(a){i({type:g.CLOSE_ADD_FRIENDS_SHEET,tabID:a})},openNameConversationSheet:function(a){i({type:g.OPEN_NAME_CONVERSATION_TAB_SHEET,tabID:a})},closeNameConversationSheet:function(a){i({type:g.CLOSE_NAME_CONVERSATION_TAB_SHEET,tabID:a})},openReadOnlySheet:function(a){i({type:g.OPEN_READ_ONLY_SHEET,tabID:a})},closeReadOnlySheet:function(a){i({type:g.CLOSE_READ_ONLY_SHEET,tabID:a})},openReadOnlyPermanentSheet:function(a){i({type:g.OPEN_READ_ONLY_PERMANENT_SHEET,tabID:a})},closeReadOnlyPermanentSheet:function(a){i({type:g.CLOSE_READ_ONLY_PERMANENT_SHEET,tabID:a})},openEmployeeAwaySheet:function(a){i({type:g.OPEN_EMPLOYEE_AWAY_SHEET,tabID:a})},openEmployeePersonalUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},closeEmployeePersonalUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_PERSONAL_USER_SHEET,tabID:a})},openEmployeeWorkUserSheet:function(a){i({type:g.OPEN_EMPLOYEE_WORK_USER_SHEET,tabID:a})},closeEmployeeWorkUserSheet:function(a){i({type:g.CLOSE_EMPLOYEE_WORK_USER_SHEET,tabID:a})},openMentorshipProgramSheet:function(a){i({type:g.OPEN_MENTORSHIP_PROGRAM_SHEET,tabID:a})},onIsPageTab:function(a,b){i({type:g.ON_IS_PAGE_TAB,pageIndicator:b,tabID:a})},onBootloadEventReminder:function(a){i({type:g.ON_BOOTLOAD_EVENT_REMINDER,tabID:a})},onWorkDoNotDisturbResponse:function(a,b,c){i({type:g.ON_WORK_DO_NOT_DISTURB_RESPONSE,tabID:a,status:b,description:c})},onMentorshipProgramResponse:function(a,b,c){i({type:g.ON_MENTORSHIP_PROGRAM_RESPONSE,tabID:a,groupID:c,programName:b})}};e.exports=a}),null);
__d("MercurySheetPolicy",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={ChatThreadIsMutedTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatUserFocusSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserFocusBypassSheet:{isPermanent:!0,isSheetWithInput:!0},ChatUserBlockedTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatUploadWarningTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatThreadIsMessageBlockedSheet:{isPermanent:!0,isSheetWithInput:!1},ChatReadOnlyTabSheet:{isPermanent:!1,isSheetWithInput:!1},ChatReadOnlyPermanentTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatOfflineTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNoRecipientsTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatNewMessagesTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatNameConversationTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatEmployeeAwaySheet:{isPermanent:!0,isSheetWithInput:!1},ChatEventReminderTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatMontageSheet:{isPermanent:!1,isSheetWithInput:!1},ChatJoinCallSheet:{isPermanent:!0,isSheetWithInput:!1},FantaAddFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},FantaAddMoreFriendsSheet:{isPermanent:!0,isSheetWithInput:!0},ChatRoomAssociatedObjectSheet:{isPermanent:!1,isSheetWithInput:!1},ChatMentorshipProgramSheet:{isPermanent:!1,isSheetWithInput:!1},ChatGroupsSyncTabSheet:{isPermanent:!0,isSheetWithInput:!1},ChatGroupNameComposerTabSheet:{isPermanent:!0,isSheetWithInput:!0},ChatIntegrityLandingScreenSheet:{isPermanent:!0,isSheetWithInput:!1}};a={canReplaceOpenSheet:function(a,b){var c=this.getType(b),d=this.isPermanent(b);b=this.isSheetWithInput(b);var e=this.getType(a),f=this.isPermanent(a);a=this.isSheetWithInput(a);if(a)return!!(c!==e&&b);if(f&&!d)return!1;return e===this.sheets.ChatThreadIsMessageBlockedSheet?!1:!0},getType:function(a){var b=a.getType||a.type&&a.type.getType||function(){return a};b=b.call(a);return b},isPermanent:function(a){if(typeof a==="string"&&g[a])return g[a].isPermanent;var b=a.isPermanent||a.type&&a.type.isPermanent||function(){return!1};b=b.call(a);return b},isSheetWithInput:function(a){if(typeof a==="string"&&g[a])return g[a].isSheetWithInput;var b=a.isSheetWithInput||a.type&&a.type.isSheetWithInput||function(){return!1};b=b.call(a);return b},sheets:b("keyMirror")(g)};e.exports=a}),null);
__d("MessengerAdminGroupUtils",["fbt","CurrentUser","MercuryConfig","MercuryIDs","MessageRequestUtils","MessageThreadAssociatedObjectUtils","MessagingSourceEnum","QE2Logger","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="messenger_use_new_group_participant_suggestion_ranking",i="show_nullstate_chat_tab_group_chat",j={isJoinableAndOpenThread:function(a){return this.isJoinableThread(a)&&this.isApprovalOpenThread(a)},isJoinableAndApprovalRequiredThread:function(a){return!!(this.isJoinableThread(a)&&a&&a.approval_mode===1)},isWorkSyncedGroupChat:function(a){return!!(a==null?void 0:a.work_associated_group)},isWorkFroup:function(a){return!!(b("gkx")("678597")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},isWorkSyncedChatThreadCreationMessage:function(a){return!!(a.log_message_data&&a.log_message_data.name!=null&&a.tags&&(a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_CREATION)!==-1||a.tags.indexOf(b("MessagingSourceEnum").WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION)!==-1))},isWorkSyncedChatThreadMemberSyncMessage:function(a){return!!(a.tags&&a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC)!==-1)},shouldAddToApprovalQueue:function(a,b){return!!(this.isJoinableAndApprovalRequiredThread(a)&&a&&!j.isAdmin(a.admins,b))},isJoinableThread:function(a){return!!(b("gkx")("678598")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===1)},isGroupChat:function(a){return!!(a&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},shouldInvite:function(a){return!!(b("gkx")("678598")&&a&&a.participant_add_mode==="INVITE")},isApprovalOpenThread:function(a){return!!((b("CurrentUser").isWorkUser()||b("gkx")("678598"))&&a&&a.approval_mode===0)},isAdminRequired:function(a){return!!(a&&a.admin_model_status==="required")},isOwner:function(a,b){return a&&(this.isJoinableThread(b)||this.isAdminRequired(b))},canSeeJoinableGroupOptions:function(a,c){var d=b("CurrentUser").isWorkUser(),e=j.showJoinableApprovalToggle(a,c);c=j.showApprovalQueue(a,c);return!d&&this.isJoinableThread(a)&&(c||e)},canSeeGroupOptionsSection:function(a,c){c=this.isAdmin(a.admins,c);var d=b("MessageRequestUtils").isMessageRequest(a);return c&&this.isAdminRequired(a)&&!d},canSeeBotsInGroupTypeahead:function(){return b("CurrentUser").isWorkUser()},canMakeOthersAdmins:function(a,b,c){return this.isOwner(a,c)&&!b},canMakeSelfAdmin:function(a,b){return(this.isJoinableThread(b)||this.isAdminRequired(b))&&Object.keys(b.admins).length===0&&a},canRemoveAdmin:function(a,b,c,d){if(this.isAdminRequired(d)&&Object.keys(d.admins).length===1)return!1;switch(c){case 2:return!1;default:return this.isOwner(a,d)&&b}},canRemoveFromGroup:function(a,b,c){switch(b){case 2:return!1;default:return this.isAdminRequired(c)||this.isWorkFroup(c)?a:this.isOwner(a,c)||!this.isJoinableThread(c)}},showGroupOptionsSection:function(a){return a.group_thread_subtype!==14},showJoinableApprovalToggle:function(a,b){if(a.associated_object&&!a.associated_object.approval_mode_toggleable)return!1;b=j.isAdmin(a.admins,b);return j.isOwner(b,a)},showApprovalQueue:function(a,b){b=j.isAdmin(a.admins,b);b=j.isOwner(b,a);var c=this.getPendingRequestNumber(a);if(a&&this.isAdminRequired(a))return this.isAdminRequired(a)&&b&&c>0;else{a=j.isJoinableAndApprovalRequiredThread(a);return a&&b&&c>0}},showParticipantsModal:function(a,b,c){return this.isJoinableThread(c)&&!a&&!b},useNewGroupMemberSuggestionRanking:function(){b("QE2Logger").logExposureForUser(h);return b("MercuryConfig").MNGPS},showDefaultListForNewPersonAddChatTab:function(){b("QE2Logger").logExposureForUser(i);return b("MercuryConfig").ChatGroupChat},showDefaultListForNewChatTab:function(){return b("MercuryConfig").ChatComposer},canUpdateThreadCustomization:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},canUpdateThreadDescription:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=j.isWorkSyncedGroupChat(a);if(e)return c;e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},isAdmin:function(a,c){if(!a)return!1;if(b("MercuryIDs").isValid(c)){var d=b("MercuryIDs").getUserIDFromParticipantID(c);return d!=null&&a[d]!==void 0}return a[c]!==void 0},getLeaveGroupBodyText:function(a,b){a=this.isOwner(a,b);var c=j.isWorkSyncedGroupChat(b);return!c?a?g._("R\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y s\u1ebd x\u00f3a b\u1ea1n kh\u1ecfi t\u01b0 c\u00e1ch ch\u1ee7 s\u1edf h\u1eefu v\u00e0 cho ph\u00e9p c\u00e1c th\u00e0nh vi\u00ean kh\u00e1c qu\u1ea3n l\u00fd nh\u00f3m. B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 g\u1eedi ho\u1eb7c nh\u1eadn tin nh\u1eafn m\u1edbi n\u1eefa."):g._("B\u1ea1n s\u1ebd ng\u1eebng nh\u1eadn tin nh\u1eafn t\u1eeb cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y v\u00e0 m\u1ecdi ng\u01b0\u1eddi s\u1ebd th\u1ea5y b\u1ea1n \u0111\u00e3 r\u1eddi \u0111i."):a?b.participants.length===1?g._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y kh\u00f4ng? V\u00ec b\u1ea1n l\u00e0 th\u00e0nh vi\u00ean cu\u1ed1i c\u00f9ng n\u00ean n\u1ebfu r\u1eddi kh\u1ecfi b\u00e2y gi\u1edd th\u00ec nh\u00f3m s\u1ebd kh\u00f4ng c\u00f2n n\u1eefa."):g._("Khi r\u1eddi kh\u1ecfi nh\u00f3m n\u00e0y, b\u1ea1n s\u1ebd b\u1ecb x\u00f3a t\u01b0 c\u00e1ch ch\u1ee7 s\u1edf h\u1eefu v\u00e0 nh\u1eefng ng\u01b0\u1eddi kh\u00e1c c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd cu\u1ed9c tr\u00f2 chuy\u1ec7n. B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 g\u1eedi ho\u1eb7c nh\u1eadn tin nh\u1eafn m\u1edbi n\u1eefa. B\u1ea1n c\u0169ng s\u1ebd b\u1ecb x\u00f3a kh\u1ecfi nh\u00f3m."):g._("B\u1ea1n s\u1ebd kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn t\u1eeb cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y v\u00e0 m\u1ecdi ng\u01b0\u1eddi s\u1ebd bi\u1ebft b\u1ea1n \u0111\u00e3 r\u1eddi \u0111i. B\u1ea1n c\u0169ng s\u1ebd b\u1ecb x\u00f3a kh\u1ecfi nh\u00f3m.")},getLeaveGroupTitleText:function(a,b){return j.isWorkSyncedGroupChat(b)?b.participants.length===1?g._("X\u00f3a nh\u00f3m v\u00e0 \u0111o\u1ea1n chat?"):g._("R\u1eddi kh\u1ecfi nh\u00f3m v\u00e0 \u0111o\u1ea1n chat?"):this.isOwner(a,b)?g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y?"):g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n?")},getLeaveGroupButtonText:function(a,b){return this.isOwner(a,b)?b.participants.length===1?g._("R\u1eddi kh\u1ecfi v\u00e0 x\u00f3a nh\u00f3m"):g._("R\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n"):g._("R\u1eddi kh\u1ecfi")},getMakeOwnerBodyText:function(a,b,c){if(a)return b?g._("L\u00e0 qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m, b\u1ea1n qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y."):g._("L\u00e0 qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m, \"{owner's name}\" c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y.",[g._param("owner's name",c)]);else return b?g._("V\u1edbi t\u01b0 c\u00e1ch l\u00e0 ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m, b\u1ea1n c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n. Ch\u1ec9 ch\u1ee7 s\u1edf h\u1eefu m\u1edbi c\u00f3 th\u1ec3 th\u00eam c\u00e1c ch\u1ee7 s\u1edf h\u1eefu kh\u00e1c."):g._("V\u1edbi t\u01b0 c\u00e1ch l\u00e0 ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m, \"{owner's name}\" c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n. H\u1ecd c\u00f3 th\u1ec3 g\u1ee1 quy\u1ec1n s\u1edf h\u1eefu kh\u1ecfi c\u00e1c ch\u1ee7 s\u1edf h\u1eefu kh\u00e1c.",[g._param("owner's name",c)])},getMakeOwnerTitleText:function(a,b){if(a)return b?g._("Tr\u1edf th\u00e0nh qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?"):g._("Th\u00eam qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?");else return b?g._("Tr\u1edf th\u00e0nh ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?"):g._("Th\u00eam ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?")},getMakeOwnerButtonText:function(a,b){if(a)return b?g._("Tr\u1edf th\u00e0nh qu\u1ea3n tr\u1ecb vi\u00ean"):g._("Ch\u1ec9 \u0111\u1ecbnh l\u00e0m qu\u1ea3n tr\u1ecb vi\u00ean");else return b?g._("Tr\u1edf th\u00e0nh ch\u1ee7 s\u1edf h\u1eefu"):g._("\u0110\u1eb7t l\u00e0m ch\u1ee7 s\u1edf h\u1eefu")},getRemoveOwnerBodyText:function(a,b,c,d){if(b&&c)return a?null:g._("B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa. B\u1ea1n v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m. B\u1ea5t k\u1ef3 th\u00e0nh vi\u00ean n\u00e0o kh\u00e1c \u0111\u1ec1u c\u00f3 th\u1ec3 s\u1edf h\u1eefu nh\u00f3m.");else if(b&&!c)return a?g._("B\u1ea1n s\u1ebd qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa."):g._("B\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa. B\u1ea1n v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m.");else return a?g._("\"{owner's name}\" s\u1ebd kh\u00f4ng qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c ng\u01b0\u1eddi c\u00f3 th\u1ec3 tham gia v\u00e0 t\u00f9y ch\u1ec9nh cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y n\u1eefa.",[g._param("owner's name",d)]):g._("\"{owner's name}\" s\u1ebd kh\u00f4ng th\u1ec3 qu\u1ea3n l\u00fd quy\u1ec1n s\u1edf h\u1eefu nh\u00f3m v\u00e0 x\u00f3a th\u00e0nh vi\u00ean kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u1eefa. H\u1ecd v\u1eabn s\u1ebd l\u00e0 ng\u01b0\u1eddi tham gia nh\u00f3m.",[g._param("owner's name",d)])},getRemoveOwnerTitleText:function(a){return a?g._("G\u1ee1 vai tr\u00f2 qu\u1ea3n tr\u1ecb vi\u00ean nh\u00f3m?"):g._("G\u1ee1 vai tr\u00f2 ch\u1ee7 s\u1edf h\u1eefu nh\u00f3m?")},getRemoveOwnerButtonText:function(a){return a?g._("X\u00f3a"):g._("X\u00f3a ch\u1ee7 s\u1edf h\u1eefu")},getPendingRequestNumber:function(a){if(a&&a.approval_queue_ids&&a.approval_queue_ids.length)return a.approval_queue_ids.length;else if(a&&this.isAdminRequired(a)&&a.group_approval_queue&&a.group_approval_queue.length)return a.group_approval_queue.length;return 0}};e.exports=j}),null);
__d("FantaComposeViewReducers",["Bootloader","FantaGetMessageActions","FantaTabSheetActions","MercuryDataSourceWrapper","MercurySheetPolicy","MessengerAdminGroupUtils","ifRequired","qex","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaGetMessageActions").Types,h=b("FantaTabSheetActions").Types;function a(a,b){switch(b.type){case g.ON_GET_THREAD_RESPONSE:case g.ON_GET_THREAD_PREVIEW_RESPONSE:var c=b.thread;b=b.tabID||c.thread_id;a=i(a,c,b)}return a}function i(a,c,d){c.participants.length===0&&(a=j(a,d,c),a=l(a,d,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet));return a}function c(a,b){switch(b.type){case g.ON_BOOTLOAD_TYPEAHEAD:b=b.thread;var c=b.thread_id;a=j(a,c,b)}return a}function j(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c);if(!e||e.typeahead)return a;b("ifRequired")("ChatTabTypeaheadRenderer",function(f){__p&&__p();b("ifRequired")("ContextualTypeaheadView",function(g){__p&&__p();b("ifRequired")("ChatTabAddMemberTypeaheadView",function(h){__p&&__p();b("ifRequired")("MercuryTypeahead",function(i){__p&&__p();if(!a.mercury.tabContents.get(c))return;var j=!!(d&&d.participants&&d.participants.length===0),k=!!(d&&d.associated_object&&d.associated_object.privacy_mode===0),l=j?b("MercuryDataSourceWrapper").chat_typeahead_source:k?b("MercuryDataSourceWrapper").chat_add_people_froup_source:d.work_associated_group!=null&&b("gkx")("995147")?b("MercuryDataSourceWrapper").chat_add_people_restrict_extenal_members:b("qex")._("922586")?b("MercuryDataSourceWrapper").chat_add_people_source_new:b("MercuryDataSourceWrapper").chat_add_people_source;l.setShowThreads(j);j?l.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewChatTab()):k||l.setShowDefaultList(b("MessengerAdminGroupUtils").showDefaultListForNewPersonAddChatTab());(k||!j&&b("qex")._("922586"))&&l.setQueryData({thread_id:d.thread_fbid});j=!j&&!k&&b("qex")._("922586")?h:g;k=new i(l,j);k.setViewOption("renderer",f);k.setExcludedParticipantsFromThreadMeta(d);e=e.merge({typeahead:k});a=a.setIn(["mercury","tabContents",c],e)},function(){return k(c,d)})},function(){return k(c,d)})},function(){return k(c,d)})},function(){return k(c,d)});return a}function d(a,c){switch(c.type){case h.OPEN_ADD_MORE_FRIENDS_SHEET:var d=c.tabID,e=a.mercury.tabContents.get(d).thread;if(e){a=j(a,d,e);return l(a,c.tabID,b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet)}}return a}function k(a,c){b("Bootloader").loadModules(["ChatTabTypeaheadRenderer","ContextualTypeaheadView","ChatTabAddMemberTypeaheadView","MercuryTypeahead"],function(d,e,f,g){b("FantaGetMessageActions").onBootloadTypeahead(a,c)},"FantaComposeViewReducers")}function l(a,c,d){__p&&__p();var e=a.mercury.tabContents.get(c),f=a.tabGroup.tabs.get(c);if(!f||!e)return a;f=e;f=f.openSheet;if(f&&!b("MercurySheetPolicy").canReplaceOpenSheet(f,d))return a;e=e.merge({openSheet:d});a=a.setIn(["mercury","tabContents",c],e);return a}function f(a,c){switch(c.type){case g.ADD_PARTICIPANTS:var d=c.tokens;c=c.tabID;d=d.length===1&&d[0].getInfo().render_type==="thread";if(!d)return l(a,c,b("MercurySheetPolicy").sheets.FantaAddFriendsSheet)}return a}e.exports={addParticipants:f,onBootloadTypeahead:c,onGetThreadResponse:a,openAddMoreFriends:d}}),null);
__d("FantaMessageActions",["Bootloader","CurrentUser","FantaDispatcher","MercuryIDs","MercuryLocalIDs","MercuryViewer","MessengerState.bs","emptyFunction","ifRequired","keyMirror","requireWeak","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_GROUP_PARTICIPANTS:null,ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:null,ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:null,CANCEL_FILE_UPLOAD:null,CANCEL_REPLY_TO_MESSAGE:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,REPLY_TO_MESSAGE:null,SEND_GIF:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,SET_NEW_GROUP_NAME_LOCALLY:null,UPDATE_GROUP_NAME:null,UPDATE_USER_INPUT_REQUESTED:null});function i(a){__p&&__p();var c=b("MercuryViewer").getID();if(!a.length)return null;a=a.filter(function(a){return a!==c});var d;if(a.length===0)return null;else a.length===1?d=b("MercuryIDs").getThreadIDFromParticipantID(a[0]):(d=b("MercuryLocalIDs").generateThreadID(),a.unshift(c),b("MessengerState.bs").createNewLocalThread(b("CurrentUser").getID(),d,a));return d}a={Types:h,prepareFilesForSend:function(a,c,d,e){var f={type:h.PREPARE_FILES_FOR_SEND,tabID:a,files:c,composer:d};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(f),e&&e()})},replyToMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.REPLY_TO_MESSAGE,threadID:c,message:a})},cancelReplyToMessage:function(a){b("FantaDispatcher").dispatch({type:h.CANCEL_REPLY_TO_MESSAGE,threadID:a})},cancelFileUpload:function(a,c){var d={type:h.CANCEL_FILE_UPLOAD,tabID:a,uploadID:c};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(d)})},linkPreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LINK_PREVIEW,tabID:a,uri:c})})},loadedShareData:function(a,c,d){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADED_SHARE_DATA,tabID:a,attachmentData:c,composer:d})})},loadingShareData:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADING_SHARE_DATA,composer:c,tabID:a})})},removeSharePreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.REMOVE_SHARE_PREVIEW,tabID:a,composer:c})})},receivedNewMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.RECEIVED_NEW_MESSAGE,tabID:a,message:c})},updateGroupName:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_GROUP_NAME,threadID:a,newName:c})})},setNewGroupNameLocally:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.SET_NEW_GROUP_NAME_LOCALLY,threadID:a,newName:c})})},addParticipants:function(a,c){__p&&__p();var d=this;b("ifRequired")("FantaAppStore",function(e){__p&&__p();e=e.getState().mercury.tabContents.get(a);if(!e)return;var f=e.thread;e=e.typeahead;if(!e||!f)return;var h=b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a);if(f.is_canonical_user||h){h=e.getSelectedParticipantIDs();e=f.participants;e=i(e.concat(h));e?f.is_canonical_user?d.addGroupParticipantsAsOpenTab(e,a,c):d.addGroupParticipantsAsReplaceTab(e,a,c):d.addGroupParticipant(a,c)}else d.addGroupParticipant(a,c)})},addGroupParticipant:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS,threadID:a,onSendSuccess:c})})},addGroupParticipantsAsOpenTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB,fromTabID:c,onSendSuccess:d,tabID:a})})},addGroupParticipantsAsReplaceTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB,newTabID:a,onSendSuccess:d,tabID:c})})},sendMessage:function(a,c,d,e){this.dispatchOrBootloadSendMessages(function(){var f={type:h.SEND_MESSAGE,threadID:a,message:c,composer:d,onSendSuccess:e};b("FantaDispatcher").dispatch(f)})},sendPhoto:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_PHOTO,clearComposerOnSend:!0,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendGif:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_GIF,clearComposerOnSend:!1,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendHotLike:function(a,c,d,e,f){this.dispatchOrBootloadSendMessages(function(){var g={type:h.SEND_HOT_LIKE,emoji:c,onSendSuccess:f,size:d,source:e,threadID:a};b("FantaDispatcher").dispatch(g)})},sendSticker:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_STICKER,threadID:a,stickerID:c,onSendSuccess:d};b("FantaDispatcher").dispatch(e)})},composerTextUpdate:function(a,c,d){var e=this;c.length>0&&b("ifRequired")("FantaReducersSendMessages",b("emptyFunction"),function(){return e.dispatchOrBootloadSendMessages(b("emptyFunction"))});this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.COMPOSER_TEXT_UPDATE,composer:d,message:c,threadID:a})})},dispatchOrBootloadMessages:function(a){b("ifRequired")("FantaReducersMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadSendMessages:function(a){b("ifRequired")("FantaReducersSendMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersSendMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadUploader:function(a){b("ifRequired")("FantaReducersFileUploader",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersFileUploader"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function(a){b("ifRequired")("FantaReducersSharePreview",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersSharePreview"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},updateUserInputRequested:function(a,c,d){this.dispatchOrBootloadMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_USER_INPUT_REQUESTED,isUserInputRequested:a,requestNumResults:c,requestType:d})})}};e.exports=a}),null);
__d("FantaReducersCookie",["FantaMessageActions","FantaTabActions","PresenceState","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("throttle").acrossTransitions(b("PresenceState").doSync,500);function a(a,b){switch(b.type){case g.RECEIVED_NEW_MESSAGE:case h.CLOSE_ALL_TABS:case h.CLOSE_AND_TAB_NEXT:case h.CLOSE_TAB:case h.DELETE_TAB:case h.MINIMIZE_ALL_TABS:case h.MINIMIZE_TAB:case h.OPEN_TAB:case h.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:case g.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:case h.UNMINIMIZE_TAB:case h.OPT_IN_OPEN_TAB_WITH_BLOCKEES:i();return j(a)}return a}function c(a,b){switch(b.type){case h.LOAD_FROM_DATA:var c=a.tabGroup;b=b.tabData;c=c.updatedTime;c=c>=b.updatedTime||b.updatedTime===void 0?c:b.updatedTime;return a.mergeIn(["tabGroup"],{updatedTime:c})}return a}function j(a){return a.mergeIn(["tabGroup"],{updatedTime:Date.now()})}e.exports={updateCookie:a,loadFromData:c}}),null);
__d("FantaReducersDockCalculator",["Arbiter","FantaMessageActions","FantaTabActions","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=null;function j(a){i=a,b("setImmediate")(function(){b("Arbiter").inform("FantaReducersDockCalculator/shouldRecalculate")})}function k(a){if(!i||a.size!==i.size)j(a);else{var b=!1;a.forEach(function(a){var c=i&&i.get(a.id);(!c||a.isMinimized!==c.isMinimized)&&(b=!0)});b&&j(a)}}function a(a,b){var c=a.tabGroup.tabs;switch(b.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.MINIMIZE_ALL_TABS:case g.MINIMIZE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case g.UNMINIMIZE_TAB:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:j(c);break;case g.LOAD_FROM_DATA:case h.RECEIVED_NEW_MESSAGE:k(c);break}return a}e.exports={recalculateDock:a}}),null);
__d("FantaReducersLogging",["Bootloader","FantaMessageActions","FantaTabActions","FantaTabSheetActions","gkx","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaMessageActions").Types,i=b("FantaTabSheetActions").Types;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case i.OPEN_ADD_MORE_FRIENDS_SHEET:case g.OPEN_TAB:if(c.type===g.OPEN_TAB&&c.entryPoint!=="compose_link"&&c.entryPoint!=="jewel_new_message")return a;var d=a.mercury.tabContents.get(c.tabID);d&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger","MessengerSecondarySearchFunnelConstants"],function(a,b){var e;switch(c.entryPoint){case"compose_link":e=b.ENTRY_SURFACES.SIDEBAR;break;case"jewel_new_message":e=b.ENTRY_SURFACES.JEWEL;break;default:e=b.ENTRY_SURFACES.EXISTING_TAB}a.startFunnel(b.CLIENTS.WWW,b.SEARCH_SURFACES.OMNIPICKER,e,c.type===i.OPEN_ADD_MORE_FRIENDS_SHEET?d.id:null,d.loggingID)},"FantaReducersLogging");break}return a}function c(a,c){switch(c.type){case g.CLOSE_ALL_TABS:case g.CLOSE_AND_TAB_NEXT:case g.CLOSE_TAB:case g.DELETE_TAB:case g.OPEN_TAB:case g.OPEN_TAB_WITH_INTERSTITIAL_DATA:case h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:b("requestIdleCallback")(function(){var c=a.tabGroup.allowedRaisedTabs,d=a.tabGroup.getRaisedandUnraisedTabs(),e=d.raisedTabs;d=d.unraisedTabs;var f=e.count(),g=f+d.count();b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(c).setOpenTabs(g).setVisibleTabs(f).log()},"FantaReducersLogging")})}return a}e.exports={updateVisibleTabs:c,logSearchEventsAfterAction:a}}),null);
__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}e.exports=a}),null);
__d("isValidURI",[],(function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}e.exports=a}),null);
__d("AsyncSignal",["Promise","ErrorGuard","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidURI","isWorkplaceDotComURI","memoize","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){__p&&__p();var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);i||(i=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=i.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,j=b("memoize")(function(){(h||(h=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,j()},j));this.timeout&&setTimeout(j,this.timeout)}return this};e.exports=a}),null);
__d("FantaAvailableStatus",["AvailableListConstants","ChatVisibility","MercuryIDs","PresenceStatus","ShortProfiles"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={isAvailable:function(a,c){var d;a=this.getStatus(a,c);c=b("MercuryIDs").getUserIDFromThreadID(c);c&&(d=b("ShortProfiles").getNow(c));return a===b("AvailableListConstants").ACTIVE&&(d===void 0||d===null||!d.is_messenger_only)},getStatus:function(a,c){__p&&__p();var d=b("AvailableListConstants").OFFLINE;c=b("MercuryIDs").getUserIDFromThreadID(c);if(c)d=b("PresenceStatus").get(c);else if(a&&a.participants){c=a.participants.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});d=b("PresenceStatus").getGroup(c)}b("ChatVisibility").isOnline()||(d=b("AvailableListConstants").OFFLINE);return d}}}),null);
__d("FantaTypeJoinableThread",["immutable"],(function(a,b,c,d,e,f){"use strict";a={admins:[],approvalMode:0,associatedObject:null,description:null,friendsInParticipants:[],imageURL:null,isViewerSubscribed:!1,isWorkpaceChat:!1,joinableMode:{mode:0,link:""},linkHash:"",participants:[],threadID:null,threadFBID:null,threadName:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeSharePreview",["immutable"],(function(a,b,c,d,e,f){"use strict";a={isLoading:!1,params:null,type:null,uri:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeFileUploader",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=Object.freeze({ANIMATED_IMAGE:"animated_image",AUDIO:"audio",FILE:"file",GENERIC_ATTACHMENT:"generic_attachment",IMAGE:"image",VIDEO:"video"});c={uploadedFiles:b("immutable").Map(),uploadingFiles:b("immutable").Map()};d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getTypeIDs=function(a){return this.uploadedFiles.reduce(function(b,c){c.type===a&&c.uploadedID&&(b=b.concat(c.uploadedID));return b},[])};return b}(b("immutable").Record(c));d.fileTypes=a;e.exports=d}),null);
__d("FantaTypeComposer",["FantaTypeFileUploader","FantaTypeSharePreview","immutable"],(function(a,b,c,d,e,f){"use strict";var g=0;a={fileUploader:new(b("FantaTypeFileUploader"))(),sharePreview:new(b("FantaTypeSharePreview"))(),text:"",replyingToMessage:null,version:g};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,{version:++g})||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeTabContents",["ChatPrivacyActionController","FantaGetMessageActions","FantaTypeComposer","MercuryIDs","emptyFunction","immutable","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={composer:new(b("FantaTypeComposer"))(),highlightNewMessage:!1,id:"",isMontageOpen:!1,isMultiCompany:null,isNewMessageTab:!1,isScrolledToBottom:!0,joinableInterstitialData:null,jumpToMessage:null,loggingID:null,membershipParticipants:null,nullStateCTA:null,openSheet:null,pageIndicator:null,pageIndicatorDescription:null,participants:null,privacyController:null,showContextBanner:!1,showUnseenMessages:b("emptyFunction"),signatureID:null,thread:null,threadHref:null,threadPreviewID:null,threadPreviewRecipients:null,timezoneInfo:null,typeahead:null,uri:null,workAvailabilityHumanReadable:null,workAvailabilityStatus:null,newGroupChatName:null};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e=b("MercuryIDs").getUserIDFromThreadID(c.id);e&&(d=new(b("ChatPrivacyActionController"))(e,function(a){b("setImmediate")(function(){b("FantaGetMessageActions").onPrivacyStateChange(c.id,a)})}));return a.call(this,babelHelpers["extends"]({privacyController:d},c))||this}return c}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaReducersMercury",["Arbiter","AsyncSignal","AvailableList","AvailableListConstants","Bootloader","FantaAvailableStatus","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTabSheetActions","FantaTypeJoinableThread","FantaTypeSharePreview","FantaTypeTabContents","JSLogger","MercuryIDs","MercuryThreadIDMap","TimeSlice","WebMessengerThreadPermalinks","getPageIDFromThreadID","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get(),h=b("JSLogger").create("FantaReducersMercury"),i=b("FantaMessageActions").Types,j=b("FantaTabActions").Types,k=b("FantaGetMessageActions").Types,l=1;function m(){return Math.floor(Math.random()*2147483648).toString(16)}function a(a,c){__p&&__p();switch(c.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:var d=c.tabID,e=c.defaultText,f=c.defaultPreview;b("ifRequired")("FantaTabsReactApp",function(c){!b("MercuryIDs").isValidThreadID(d)?(a=a.deleteIn(["tabGroup","tabs",d]),t(d)):A(a,d)},function(){return a=n(a,c.tabID)});a=o(a,d);var g=m(),h=a.mercury.tabContents.get(d);h=h.merge({isNewMessageTab:!!c.isNewMessageTab,loggingID:l++,signatureID:g});a=a.setIn(["mercury","tabContents",d],h);new(b("AsyncSignal"))("/ajax/chat/opentab_tracking.php",{threadID:d,userID:b("MercuryIDs").getUserIDFromThreadID(d),signatureID:g}).send();if(c.interstitialData){g=new(b("FantaTypeJoinableThread"))(c.interstitialData);h=h.merge({joinableInterstitialData:g});a=a.setIn(["mercury","tabContents",d],h)}e&&(a=a.setIn(["mercury","tabContents",d,"composer","text"],e));f&&(a=a.setIn(["mercury","tabContents",d,"composer","sharePreview"],new(b("FantaTypeSharePreview"))({params:null,type:null,uri:f})));b("Arbiter").inform("jewel/hide");return a}return a}function n(a,c){b("ifRequired")("FantaTabsSlimApp",function(d){!b("MercuryIDs").isValidThreadID(c)?(a=a.deleteIn(["tabGroup","tabs",c]),t(c)):A(a,c)},function(){A(a,c)});return a}function c(a,b){switch(b.type){case i.RECEIVED_NEW_MESSAGE:a=o(a,b.tabID)}return a}function o(a,c){__p&&__p();var d=a.mercury.tabContents.get(c);if(!d){var e=b("getPageIDFromThreadID")(c);e&&b("Bootloader").loadModules(["PagesMercuryChatTabIndicatorHandler"],function(a){var d=b("AvailableListConstants").OFFLINE,f=new a(e,d,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPageIndicatorDescription(c,a)})},function(){b("setImmediate")(function(){return b("FantaTabActions").clearPageIndicatorDescription(c)})});b("setImmediate")(function(){b("FantaTabSheetActions").onIsPageTab(c,f)});f.checkResponsiveness()},"FantaReducersMercury");return a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c}))}return a}function d(a,b){switch(b.type){case j.SET_PAGE_INDICATOR_DESCRIPTION:var c=b.tabID;b=b.description;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({pageIndicatorDescription:b||""});a=a.setIn(["mercury","tabContents",c],d)}return a}function f(a,b){switch(b.type){case j.CLEAR_PAGE_INDICATOR_DESCRIPTION:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({pageIndicatorDescription:""});a=a.setIn(["mercury","tabContents",b],c)}return a}function p(a,b){switch(b.type){case j.REPLACE_TAB:case i.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:a=s(a,b.newTabID);a=o(a,b.newTabID);return a}return a}function q(a,b){__p&&__p();switch(b.type){case k.ADD_PARTICIPANTS:var c=b.tabID;b=b.previewTabID;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({threadPreviewID:b});a=a.setIn(["mercury","tabContents",c],d);return a}return a}function r(a,c){switch(c.type){case k.CLEAR_PARTICIPANTS:c=c.tabID;var d=a.mercury.tabContents.get(c),e=d?d.loggingID:null;d=d?d.isNewMessageTab:!1;a=a.setIn(["mercury","tabContents",c],new(b("FantaTypeTabContents"))({id:c,isNewMessageTab:d,loggingID:e}))}return a}function s(a,c){b("ifRequired")("FantaTabsReactApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))},function(){b("ifRequired")("FantaTabsSlimApp",function(d){b("MercuryIDs").isValidThreadID(c)||(a=a.deleteIn(["tabGroup","tabs",c]),t(c))})});return a}function t(a){g.getClientIDFromServerID(a,function(c){return b("setImmediate")(function(){b("MercuryIDs").isValidThreadID(c)?b("FantaTabActions").openTab(c):h.error("invalid id",a)})})}function u(a,b){switch(b.type){case j.FOCUS_TAB:A(a,b.tabID)}return a}function v(a,b){switch(b.type){case j.CLOSE_TAB:b=b.tabID;a=x(a,b)}return a}function w(a,b){switch(b.type){case j.DELETE_TAB:b=b.tabID;a=x(a,b);a=a.deleteIn(["mercury","tabContents",b])}return a}function x(a,c){b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteThread(c)});return a}function y(a,c){switch(c.type){case j.CLOSE_ALL_TABS:b("ifRequired")("MessengerVideoAutoplayActions",function(a){a.deleteAllThreads()});return a}return a}function z(a,b){switch(b.type){case j.FOCUS_NEXT_TAB:case j.FOCUS_PREVIOUS_TAB:case j.CLOSE_AND_TAB_NEXT:b=a.tabGroup.focusedTabID;b&&A(a,b)}return a}function A(a,c){__p&&__p();var d=b("MercuryIDs").getUserIDFromThreadID(c);if(d){var e=function(){b("AvailableList").updateForID(d)};b("TimeSlice").guard(e,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}e=a.mercury.tabContents.get(c);if(e){a=e.thread;e=e.pageIndicator;e&&e.notifyPageOnlineStatusChanged(b("FantaAvailableStatus").getStatus(a,c))}}function B(a,b){switch(b.type){case j.UNMINIMIZE_TAB:A(a,b.tabID)}return a}function C(a,b){__p&&__p();switch(b.type){case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=o(a,e)}}return a}function D(a,c){a=a.mercury.tabContents.get(c);(!a||!a.uri)&&b("WebMessengerThreadPermalinks").getThreadURI(c,function(a){b("setImmediate")(function(){return b("FantaTabActions").setPermanentUri(c,a)})})}function E(a,b){__p&&__p();switch(b.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.RECEIVED_NEW_MESSAGE:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:D(a,b.tabID);break;case j.LOAD_FROM_DATA:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;D(o(a,e),e)}}return a}function F(a,b){switch(b.type){case j.SET_PERMANENT_URI:var c=b.tabID;b=b.uri;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({uri:b});a=a.setIn(["mercury","tabContents",c],d)}return a}e.exports={addParticipants:q,clearPageIndicatorDescription:f,clearParticipants:r,closeAllTabs:y,closeTab:v,deleteTab:w,focusTab:u,focusTabEvents:z,loadFromData:C,loadUri:E,openTab:a,receivedNewMessage:c,replaceTab:p,setPageIndicatorDescription:d,setUri:F,unminimizeTab:B}}),null);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f){__p&&__p();var g=1500,h=null,i=!1,j=0,k=[],l=null,m=document.title;function n(){k.length>0?!i?(o(k[j].title),j=++j%k.length):p():(clearInterval(h),h=null,p())}function o(a){document.title=a,i=!0}function p(){q.set(l||m,!0),i=!1}var q=function(){"use strict";__p&&__p();function a(a){this.$1=a}a.get=function(){return m};a.set=function(a,c){var d=a.toString();document.title=d;!c?(m=d,l=null,b("Arbiter").inform("update_title",a)):l=d};a.blink=function(b){b={title:b.toString()};k.push(b);h===null&&(h=setInterval(n,g));return new a(b)};var c=a.prototype;c.stop=function(){var a=k.indexOf(this.$1);a>=0&&(k.splice(a,1),j>a?j--:j==a&&j==k.length&&(j=0))};a.badge=function(c){var d=a.get();d=c?"("+c+") "+d:d;a.set(d,!0);b("Arbiter").inform("update_title_badge",c,"state")};return a}();e.exports=q}),null);
__d("MercuryNotificationRenderer",["fbt","CurrentUser","MercuryAssert","MercuryIDs","MercuryViewer","MessengerParticipants.bs","MessengerState.bs"],(function(a,b,c,d,e,f,g){__p&&__p();var h="source:messenger_growth:event_upcoming_bump";function a(a,c){__p&&__p();b("MercuryAssert").isThreadID(a),b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){__p&&__p();b("MessengerState.bs").getThreadMessagesRange(b("CurrentUser").getID(),a,0,1,function(e){__p&&__p();e=e.length&&e[e.length-1];var f=[];e.tags!==void 0&&(f=f.concat(e.tags));e.log_message_data&&(e.log_message_data.message_type=="confirm_friend_request"||e.log_message_data.message_type=="work_invite_claimed")?c(g._("New contact added")):f.indexOf(h)!==-1?c(g._("B\u1ea1n c\u00f3 m\u1ed9t s\u1ef1 ki\u1ec7n s\u1eafp t\u1edbi.")):e&&e.author!=b("MercuryViewer").getID()?b("MessengerParticipants.bs").get(e.author,function(e){var f=e.short_name,h=d.custom_nickname;if(h){e=b("MercuryIDs").getUserIDFromParticipantID(e.id);h[e]&&(f=h[e])}d.name?c(g._("{senderName} \u0111\u00e3 nh\u1eafn tin {groupName}",[g._param("senderName",f),g._param("groupName",d.name)])):b("MercuryIDs").isGroupChat(a)?c(g._("{name} \u0111\u00e3 nh\u1eafn tin cho nh\u00f3m c\u1ee7a b\u1ea1n",[g._param("name",f)])):c(g._("{name} \u0111\u00e3 nh\u1eafn tin cho b\u1ea1n",[g._param("name",f)]))}):c(g._("Tin nh\u1eafn m\u1edbi"))})})}e.exports={renderDocumentTitle:a}}),null);
__d("MercuryIgnoredBlockedParticipants.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs","bs_caml_option","CurrentUser","ParticipantId.bs","WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}function g(a,c,d){d=d.participants.filter(function(c){return c!==b("MercuryIDs").getParticipantIDFromUserID(a)});return d.filter(function(a){return b("bs_belt_Set").has(c,a)!==!1})}function c(a,b,c){if(c.is_canonical)return!1;else return g(a,b,c).length>0}function d(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function e(a,c,d){var e=d.is_canonical;if(e){e=d.participants.filter(function(c){return b("bs_caml_obj").caml_notequal(c,b("MercuryIDs").getParticipantIDFromUserID(a))});return!e.every(function(a){return!b("bs_belt_Set").has(c,a)})}else return!1}var h=b("bs_belt_Set").has;function i(a,c,d){if(!a.is_canonical||b("bs_caml_option").nullable_to_opt(a.other_user_fbid)===b("bs_caml_option").some(c))return!1;else if(!b("CurrentUser").isWorkUser()||d==null)return!0;else if(d==null)return!1;else return!b("WorkForeignEntityInfo.bs").isCoworker(d)}f.fromIds=a;f.findIntersection=g;f.isPresentInGroupThread=c;f.participantsInGroupThread=d;f.qualifiesAs=e;f.isInSet=h;f.shouldShowBlock=i}),null);
__d("SoundPlayer",["BanzaiODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Map();function i(a){var c=new(g||(g=b("URI")))(a);return c.getDomain()?a:new(g||(g=b("URI")))(window.location.href).setPath(c.getPath()).toString()}function j(a){a=new(g||(g=b("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var k={preload:function(a){__p&&__p();for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(h.has(e))return;var f=document.createElement("audio");if(!f||!f.canPlayType||!f.canPlayType(j(e)))continue;f.preload="auto";f.src=i(e);document.body&&document.body.appendChild(f);h.set(e,f);return}},play:function(a,c){__p&&__p();c===void 0&&(c={});for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h.has(f)||k.preload(f);f=h.get(f);if(!f)continue;c.loop&&f.setAttribute("loop","");c.volume&&(f.volume=c.volume);f=f.play();f!=null&&typeof f.then==="function"?f.then(function(a){b("BanzaiODS").bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"sound_player","play.error")}):b("BanzaiODS").bumpEntityKey(2966,"sound_player","non_promise");return}},pause:function(a){__p&&__p();for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=h.get(e);if(e){e.pause();return}}},stop:function(a){__p&&__p();for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=h.get(e);f&&(f.pause(),f.removeAttribute("src"),f.src=i(e))}}};e.exports=k}),null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){__p&&__p();var g,h="fb_sounds_playing3";function i(){__p&&__p();var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["requireCond","cr:950105","FBJSON","SoundSynchronizer"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d){b("SoundSynchronizer").play(a,c,d)}a={playLocal:g,playRemote:function(a,c,d,e){c={name:"SoundRPC",data:{paths:c,sync:d,loop:e}};a.postMessage(b("FBJSON").stringify(c),"*")},supportsRPC:function(){return!!window.postMessage},_listen:function(){__p&&__p();var a=function(a){__p&&__p();if(!/\.facebook.com$/.test(a.origin))return;var c={};try{a=a.data;typeof a==="string"&&(c=b("FBJSON").parse(a))}catch(a){}a=c;c=a.name;a=a.data;c==="SoundRPC"&&a!=null&&typeof a==="object"&&g(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}};e.exports=a}),null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g,h=null,i=!1;c={init:function(a){},play:function(a,c,d){h?b("SoundRPC").playRemote(h.contentWindow,a,c,!1):b("SoundRPC").playLocal(a,c,d),i=!0},hasPlayedSoundBefore:function(){return i},playOnlyIfImmediate:function(a,c,d){if(!i&&b("Visibility").isHidden())return;this.play(a,c,d)},stop:function(a){h||b("SoundPlayer").stop(a)}};d=new(g||b("URI"))(location.href);d.getSubdomain()&&d.getSubdomain()!=="comet"&&d.getSubdomain()!=="www"&&d.setSubdomain("www");f=d.getDomain();function a(){if(b("UserAgent_DEPRECATED").ie()<9)return!1;return b("SoundInitialData").RPC_DISABLED?!1:b("SoundSynchronizer").isSupported()&&b("SoundRPC").supportsRPC()}b("isFacebookURI")(d)&&location.host!==f&&a()&&(h=document.createElement("iframe"),h.setAttribute("src","//"+f+"/sound_iframe.php"),h.style.display="none",document.body&&document.body.appendChild(h));e.exports=c}),null);
__d("MercuryBrowserAlerts",["ArbiterMixin","Bootloader","ChatActivity","ChatConfig","ChatOptions","ChatTitleBarBlinker","CurrentUser","Event","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryThreadInfo","MercuryViewer","MessagingTag","MessengerState.bs","Sound","UserActivity"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3,h=6e5,i=new Map(),j=null;function k(){return!b("UserActivity").isOnTab()&&!b("UserActivity").hasBeenInactive()}function l(){i=new Map()}function m(a){b("ChatOptions").getSetting("sound")&&!k()&&b("Sound").play([b("ChatConfig").get("sound.notif_ogg_url"),b("ChatConfig").get("sound.notif_mp3_url")],a,!1)}var n=Object.assign({init:function(){var a=this;b("Event").listen(window,"focus",function(){l(),window.clearInterval(j)});b("Event").listen(window,"blur",function(){j=window.setInterval(l,h)});b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(b){a._availabilityStatusStore=b},"MercuryBrowserAlerts"))},messageReceived:function(a){__p&&__p();var c=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID()));if(c||a.author&&b("MercuryViewer").isViewer(a.author)||!a.is_unread||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;var d=a.thread_id,e=b("ChatActivity").isActive();if(e){var f=!1;n.inform("before-alert",{threadID:d,cancelAlert:function(){f=!0}})}b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),d,function(c){__p&&__p();var h=b("MercuryThreadInfo").isMuted(c),j=b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID());if(h)if(!b("MercuryThreadInfo").areMentionsMuted(c)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===j}))return}else return;var k=b("CurrentUser").getID();b("MessengerState.bs").compute(k,function(h){__p&&__p();h=h.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(k,h,c))return;h=a.timestamp;if(e)f||m(h);else{b("ChatTitleBarBlinker").blink(d,h);var j=i.get(d)||0;j<g&&(i.set(d,j+1),m(h))}b("ChatTitleBarBlinker").blinkingElsewhere()})})}},b("ArbiterMixin"));e.exports=n}),null);
__d("FantaReducersMessages",["CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTypeComposer","ImmutableObject","MercuryBrowserAlerts","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaMessageActions").Types,h=b("FantaTabActions").Types,i=b("FantaGetMessageActions").Types;function a(a,c){switch(c.type){case g.RECEIVED_NEW_MESSAGE:c=c.message;b("MercuryBrowserAlerts").messageReceived(c);return a}return a}function c(a,b){switch(b.type){case g.COMPOSER_TEXT_UPDATE:var c=b.composer,d=b.message;b=b.threadID;var e=a.mercury.tabContents.get(b);return!e||e&&e.composer.version!==c.version?a:a.mergeIn(["mercury","tabContents",b,"composer"],{text:d})}return a}function d(a,c){switch(c.type){case g.REPLY_TO_MESSAGE:var d=c.message;c=c.threadID;var e=a.mercury.tabContents.get(c);return!e?a:a.mergeIn(["mercury","tabContents",c,"composer"],{replyingToMessage:new(b("ImmutableObject"))(babelHelpers["extends"]({},d))})}return a}function f(a,b){switch(b.type){case g.CANCEL_REPLY_TO_MESSAGE:b=b.threadID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=null;return a.mergeIn(["mercury","tabContents",b,"composer"],{replyingToMessage:c})}return a}function j(a,c){switch(c.type){case h.CLOSE_TAB:case h.CLOSE_AND_TAB_NEXT:return!a.mercury.tabContents.get(c.tabID)?a:a.setIn(["mercury","tabContents",c.tabID,"composer"],new(b("FantaTypeComposer"))())}return a}function k(a,c){switch(c.type){case h.CLOSE_ALL_TABS:c=a.mercury.tabContents;c.forEach(function(c){c=c.id;a=a.setIn(["mercury","tabContents",c,"composer"],new(b("FantaTypeComposer"))())});return a}return a}function l(a,b){switch(b.type){case h.SCROLL_BOTTOM_CHANGED:var c=b.tabID,d=b.isScrolledToBottom;b=b.showUnseenMessages;var e=a.mercury.tabContents.get(c);if(!e)return a;e=e.merge({isScrolledToBottom:d,showUnseenMessages:b});a=a.setIn(["mercury","tabContents",c],e)}return a}function m(a,b){switch(b.type){case h.JUMP_TO_MESSAGE:var c=b.tabID;b=b.mid;var d=a.mercury.tabContents.get(c);if(!d)return a;d=d.merge({jumpToMessage:b});a=a.setIn(["mercury","tabContents",c],d)}return a}function n(a,b){switch(b.type){case h.WIPE_JUMP_TO_MESSAGE:b=b.tabID;var c=a.mercury.tabContents.get(b);if(!c)return a;c=c.merge({jumpToMessage:null});a=a.setIn(["mercury","tabContents",b],c)}return a}function o(a,b){switch(b.type){case h.SHOW_UNSEEN_MESSAGES:b=b.tabID;b=a.mercury.tabContents.get(b);b&&b.showUnseenMessages()}return a}function p(a,c){__p&&__p();switch(c.type){case i.ON_GET_THREAD_RESPONSE:c=c.thread;var d=c.thread_id,e=a.mercury.tabContents.get(d);if(!e)return a;var f=null;b("CurrentUser").isWorkUser()&&c.participants&&(f=c.participants.map(b("MessengerParticipants.bs").getNow,b("MessengerParticipants.bs")).find(function(a){return((a=a)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a)==="FOREIGN"})!==void 0);e=e.merge({thread:c,isMultiCompany:f});a=a.setIn(["mercury","tabContents",d],e);break}return a}function q(a,b){switch(b.type){case h.HIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!0)}return a}function r(a,b){switch(b.type){case h.UNHIGHLIGHT_NEW_MESSAGE:return!a.mercury.tabContents.get(b.tabId)?a:a.setIn(["mercury","tabContents",b.tabId,"highlightNewMessage"],!1)}return a}function s(a,b){switch(b.type){case g.UPDATE_USER_INPUT_REQUESTED:return a.setIn(["mercury","userInputRequest"],{isUserInputRequested:b.isUserInputRequested,requestNumResults:b.requestNumResults,requestType:b.requestType})}return a}e.exports={cancelReplyToMessage:f,closeAllTabs:k,closeTab:j,composerTextUpdate:c,highlightNewMessage:q,jumpToMessage:m,onGetThreadResponse:p,receivedNewMessage:a,replyToMessage:d,scrollBottomChanged:l,showUnseenMessages:o,unhighlightNewMessage:r,updateUserInputRequested:s,wipeJumpToMessage:n}}),null);
__d("MessengerSecondarySearchFunnelConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"});b=Object.freeze({ABANDON:"abandon",CREATE_GROUP:"create_group",ENTER_THREAD:"enter_thread",RESULT_SELECTED:"result_selected",SEND:"send",SINGLE_RESULT_SELECTED:"single_result_selected"});c=Object.freeze({ACTION:"action"});d=Object.freeze({EXISTING_TAB:"existing_tab",JEWEL:"jewel",SIDEBAR:"sidebar",COMPOSER:"composer"});f=Object.freeze({END:"end",IMPRESSIONS:"impressions",MICRO_SESSION_ENDED:"micro_session_ended",MICRO_SESSION_STARTED:"micro_session_started",QUERY_CHANGED:"query_changed",RESULT_SELECTED:"result_selected",REENTER_OMNIPICKER:"reentered_omnipicker",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start",TOKEN_REMOVED:"token_removed",CLICK_OTHER_THREAD:"clicked_on_other_thread"});var g=Object.freeze({BROADCAST:"broadcast",GROUP_CREATION:"group_creation",OMNIPICKER:"omnipicker",SHARE:"share"}),h=Object.freeze({DIRECT_SEND:"direct_send",ADD:"add"}),i=Object.freeze({FINISHED:"finished",FAILED:"failed"}),j=Object.freeze({BROADCAST:9500,GROUP_CREATE:9501,M_APP_COMPOSER:9502}),k=Object.freeze({QUERY:"query",NO_QUERY:"no_query"}),l=Object.freeze({BOOTSTRAP:"bootstrap",LOCAL:"local",LOCAL_AND_SERVER:"local_and_server",LOCAL_CONTACTS:"local_contacts",ORDERED_GCF_FRIENDLIST:"local_ordered_gcf_friendlist",QUERY_CACHE:"query_cache",SERVER:"server",SHORT_PROFILES:"local_short_profiles",SUGGESTED_RECIPIENTS:"local_suggested_recipients"});e.exports={FUNNEL_NAME:"MESSENGER_SECONDARY_SEARCH_FUNNEL",CLIENTS:a,END_ACTIONS:b,END_REASONS:c,ENTRY_SURFACES:d,EVENTS:f,SEARCH_SURFACES:g,SELECTION_TYPES:h,SOURCE_STATUSES:i,LOGGING_IDS:j,MICRO_SESSION_TYPES:k,SOURCES:l}}),null);
__d("FantaReducersPreLogging",["Bootloader","CurrentUser","FantaMessageActions","FantaTabActions","FantaTabSheetActions","MessengerSecondarySearchFunnelConstants","MessengerState.bs","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FantaTabActions").Types,h=b("FantaTabSheetActions").Types,i=b("FantaMessageActions").Types;c=b("MessengerSecondarySearchFunnelConstants").END_ACTIONS;var j=c.ABANDON,k=c.SEND,l=b("MessengerSecondarySearchFunnelConstants").END_REASONS.ACTION;function a(a,c){__p&&__p();if(!b("gkx")("678592"))return a;switch(c.type){case g.CLOSE_TAB:case g.CLOSE_AND_TAB_NEXT:case h.CLOSE_ADD_FRIENDS_SHEET:case h.CLOSE_ADD_MORE_FRIENDS_SHEET:a=m(a,c.tabID,l,j);break;case g.CLOSE_ALL_TABS:a.mercury.tabContents.forEach(function(b){a=m(a,b.id,l,j)});break;case i.ADD_GROUP_PARTICIPANTS:a=m(a,c.threadID,l,k,!0);break;case i.SEND_HOT_LIKE:case i.SEND_MESSAGE:case i.SEND_PHOTO:case i.SEND_STICKER:a=m(a,c.threadID,l,k);break}return a}function m(a,c,d,e,f){__p&&__p();if(!b("gkx")("678592"))return a;var g=a.mercury.tabContents.get(c),h=g?g.loggingID:null,i=g?g.threadPreviewID:null;h&&b("Bootloader").loadModules(["MessengerSecondarySearchFunnelLogger"],function(j){a=a.setIn(["mercury","tabContents",c],g.merge({loggingID:null}));if(e===k&&(f===null||f===void 0)){var l=b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),g.id);l=g&&l.length===0}else l=f;j.endFunnel(d,e,h,i?i.split(":")[1]:c,l)},"FantaReducersPreLogging");return a}e.exports={logSearchEvents:a}}),null);
__d("FantaTypeTab",["immutable"],(function(a,b,c,d,e,f){"use strict";a={focusCounter:0,id:"",isHovered:!1,isMinimized:!1,showWarningForThreadWithBlockees:!1,openCounter:0,entryPoint:"unknown"};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeTabGroup",["FantaConst","immutable","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap({});a=b("qex")._("830597")||!1;c={allowedRaisedTabs:a?1:b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS,focusedTabID:null,tabs:b("immutable").Map({}),updatedTime:0};var h=function(a){return a.openCounter*-1},i=function(a){return a.focusCounter*-1};d=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getRaisedandUnraisedTabs=function(){if(this.tabs.size===0||this.allowedRaisedTabs===0)return{raisedTabs:g,unraisedTabs:g};if(this.tabs.size===1&&this.allowedRaisedTabs>=1)return{raisedTabs:this.tabs.toOrderedMap(),unraisedTabs:g};var a=this.tabs.sortBy(i),b=a.slice(this.allowedRaisedTabs);a=a.take(this.allowedRaisedTabs).sortBy(h);return{raisedTabs:a,unraisedTabs:b}};return b}(b("immutable").Record(c));e.exports=d}),null);
__d("isWebMessengerURI",[],(function(a,b,c,d,e,f){function a(a){return/^(\/messages)/.test(a.getPath())}e.exports=a}),null);
__d("FantaReducersTabs",["Bootloader","CurrentUser","EventProfiler","FantaConst","FantaGetMessageActions","FantaMessageActions","FantaTabActions","FantaTypeTab","FantaTypeTabGroup","LogHistory","MercuryIgnoredBlockedParticipants.bs","MessengerState.bs","PinnedConversationNubsConfig","TimeSlice","URI","isWebMessengerURI","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("FantaMessageActions").Types,j=b("FantaTabActions").Types,k=b("FantaGetMessageActions").Types,l="tab_",m=b("LogHistory").getInstance("fanta_tabs"),n=1,o=1,p=1;function a(a,c){__p&&__p();switch(c.type){case j.OPEN_TAB:case j.OPEN_TAB_WITH_INTERSTITIAL_DATA:case i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:m.debug(c.type,JSON.stringify({id:c.tabID}));if(o===1){b("EventProfiler").tagCurrentActiveInteractionsAs("FirstChatTabOpen");var d=(g||(g=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){a.markerStart(b.FIRSTCHATTABOPEN_WWW,0,d)},"FantaReducersTabs")}return t(a,c.tabID||l+p++,!0,c.entryPoint)}return a}function c(a,b){__p&&__p();switch(b.type){case j.REPLACE_TAB:case i.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:var c=b.tabID,d=b.newTabID,e=a.tabGroup;e=e.tabs;e=e.get(c);m.debug(b.type,JSON.stringify({id:c,isExisting:!!e,newID:d}));if(e){b=e.id===a.tabGroup.focusedTabID;a=a.setIn(["tabGroup","tabs",d],e.merge({id:d})).deleteIn(["tabGroup","tabs",c]);return t(a,d,b,"replace_tab")}return t(a,d,!1,"replace_tab")}return a}function d(a,b){switch(b.type){case j.MINIMIZE_TAB:return u(a,b.tabID,!0)}return a}function f(a,b){switch(b.type){case j.UNMINIMIZE_TAB:a=u(a,b.tabID,!1),a=x(a,b.tabID,(b=a.mercury.tabContents.get(b.tabID))==null?void 0:b.thread)}return a}function q(a,b){switch(b.type){case j.FOCUS_TAB:b=b.tabID;return F(a,b)}return a}function r(a,b){switch(b.type){case j.BLUR_TAB:return G(a,b.tabID)}return a}function s(a,c){__p&&__p();switch(c.type){case i.RECEIVED_NEW_MESSAGE:var d=c.tabID,e=a.tabGroup.tabs.get(d);m.debug(c.type,JSON.stringify({id:d,isOpen:!!e}));if(!e){c=a.tabGroup.focusedTabID;a=t(a,d,!1,"message_received");var f=a.tabGroup.allowedRaisedTabs;e=a.tabGroup.getRaisedandUnraisedTabs();var g=e.raisedTabs;e=e.unraisedTabs;var j=g.count(),k=j+e.count();b("TimeSlice").guard(function(){b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setAllowedRaisedTabs(f).setOpenTabs(k).setVisibleTabs(j).log(),b.logAutoOpen("auto_open_on_received_messages",d)},"FantaReducersTabs")},"name",{propagationType:b("TimeSlice").PropagationType.ORPHAN})();g=(h||(h=b("URI"))).getNextURI();if(b("isWebMessengerURI")(g))return a=u(a,d,!0);else if(c)return F(a,c)}}return a}function t(a,c,d,e){__p&&__p();e===void 0&&(e="unknown");var f=a.tabGroup;f=f.tabs;f=f.get(c);!f?(f=new(b("FantaTypeTab"))({id:c,focusCounter:n,openCounter:o++,entryPoint:e}),a=a.setIn(["tabGroup","tabs",c],f)):f.isMinimized&&d&&(a=u(a,c,!1));d&&(a=F(a,c));if(w(a,c,(e=a.mercury.tabContents.get(c))==null?void 0:e.thread))if(d){a=x(a,c,(f=a.mercury.tabContents.get(c))==null?void 0:f.thread)}else a=u(a,c,!0);return a}function u(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isMinimized:c}));return a}function v(a,b){var c,d;switch(b.type){case k.ON_GET_THREAD_RESPONSE:case k.ON_GET_THREAD_PREVIEW_RESPONSE:c=b.tabID||((c=b.thread)==null?void 0:c.thread_id);((d=a.mercury.tabContents.get(c))==null?void 0:d.thread)==null&&((d=a.tabGroup.tabs.get(c))==null?void 0:d.isMinimized)===!1&&(a=x(a,c,b.thread))}return a}function w(a,c,d){if(d==null||d.is_canonical||a.blockedWarning.optedInThreadsWithBlockees.get(c)==!0)return!1;var e=b("CurrentUser").getID();a=!1;b("MessengerState.bs").compute(e,function(c){c=c.blocked_ids;a=b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(e,c,d)});return a}function x(a,b,c){w(a,b,c)&&a.tabGroup.tabs.get(b)!=null&&(a=a.mergeIn(["tabGroup","tabs",b],{showWarningForThreadWithBlockees:!0}),a=u(a,b,!0));return a}function y(a,b){switch(b.type){case j.CLOSE_GROUP_ENTRANCE_WARNING_DIALOG:a.tabGroup.tabs.get(b.tabID)!=null&&(a=a.mergeIn(["tabGroup","tabs",b.tabID],{showWarningForThreadWithBlockees:!1}))}return a}function z(a,b){switch(b.type){case j.OPT_IN_OPEN_TAB_WITH_BLOCKEES:b=b.tabID;a=a.mergeIn(["tabGroup","tabs",b],{showWarningForThreadWithBlockees:!1});a=a.setIn(["blockedWarning","optedInThreadsWithBlockees",b],!0);a=u(a,b,!1);a=F(a,b)}return a}function A(a,b){__p&&__p();switch(b.type){case j.MINIMIZE_ALL_TABS:for(var b=a.tabGroup.tabs.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a=u(a,e,!0)}return a}return a}function B(a,b){switch(b.type){case j.CLOSE_TAB:case j.DELETE_TAB:var c=b.tabID;m.debug(b.type,JSON.stringify({id:c}));return C(a,c)}return a}function C(a,b){a=G(a,b);return a.deleteIn(["tabGroup","tabs",b]).deleteIn(["mercury","tabContents",b])}function D(a,b){switch(b.type){case j.CLOSE_ALL_TABS:m.debug(b.type);a=G(a,a.tabGroup.focusedTabID);return a.setIn(["tabGroup","tabs"],a.tabGroup.tabs.clear()).setIn(["mercury","tabContents"],a.mercury.tabContents.clear())}return a}function E(a,b){switch(b.type){case j.CLOSE_AND_TAB_NEXT:m.debug(b.type,JSON.stringify({id:b.tabID}));a=C(a,b.tabID);return O(a)}return a}function F(a,b,c){c===void 0&&(c=!1);var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{focusCounter:n++}));d=c?null:b;a=a.mergeIn(["tabGroup"],{focusedTabID:d});return a}function G(a,b){return a.tabGroup.focusedTabID===b?a.mergeIn(["tabGroup"],{focusedTabID:null}):a}function H(a,b){switch(b.type){case j.HOVERED_TAB:b=b.tabID;return J(a,b,!0)}return a}function I(a,b){switch(b.type){case j.UNHOVERED_TAB:b=b.tabID;return J(a,b,!1)}return a}function J(a,b,c){var d=a.tabGroup;d=d.tabs.get(b);d&&(a=a.mergeIn(["tabGroup","tabs",b],{isHovered:c}));return a}function K(a,c){__p&&__p();switch(c.type){case j.SET_ALLOWED_RAISED_TABS:var d=c.allowedRaisedTabs,e=a.tabGroup.allowedRaisedTabs;if(d!==e){m.debug(c.type,JSON.stringify({count:d}));b("PinnedConversationNubsConfig").chatTabTypingPriority||(d=Math.max(1,d));var f=a.tabGroup.tabs.count(),g=f>d?d:f;c=d>e&&f>e;e=d<e&&f>d;(c||e)&&b("Bootloader").loadModules(["FantaTabsVisibleTypedLogger"],function(a){new a().setAllowedRaisedTabs(d).setOpenTabs(f).setVisibleTabs(g).log()},"FantaReducersTabs")}return L(a,d)}return a}function L(a,c){c===void 0&&(c=b("FantaConst").DEFAULT_ALLOWED_RAISED_TABS);if(c===a.tabGroup.allowedRaisedTabs)return a;b("PinnedConversationNubsConfig").chatTabTypingPriority||(c=Math.max(1,c));return a.mergeIn(["tabGroup"],{allowedRaisedTabs:c})}function M(a,c){__p&&__p();switch(c.type){case j.LOAD_FROM_DATA:var d=a.tabGroup,e=c.tabData,f=d.updatedTime;if(f>=e.updatedTime||e.updatedTime===void 0)return a;var g=Date.now();if(e.updatedTime>g){m.debug(c.type+"_future_date",JSON.stringify({currentTime:g,updatedTime:f,newerTime:e.updatedTime}));return a}a=L(a.set("tabGroup",new(b("FantaTypeTabGroup"))()),d.allowedRaisedTabs);var h=[];e.tabs.sort(function(a,b){return a.openCounter-b.openCounter}).forEach(function(b){h.push(b.id),a=t(a,b.id,!1,["fb_header_dock:loaded_from_browser_cookie"]),b.isMinimized&&(a=u(a,b.id,b.isMinimized))});e.tabs.sort(function(a,b){return a.focusCounter-b.focusCounter}).forEach(function(b){a=F(a,b.id,!0)});m.debug(c.type,JSON.stringify({updatedTime:f,newerTime:e.updatedTime,opened:h}));a=e.focusedTabID?F(a,e.focusedTabID,!0):G(a)}return a}function N(a,b){switch(b.type){case j.FOCUS_NEXT_TAB:return O(a)}return a}function O(a){__p&&__p();var b=a.tabGroup.focusedTabID,c=a.tabGroup.getRaisedandUnraisedTabs();c=c.raisedTabs;c=c.filter(function(a){return!a.isMinimized});if(c.count()<2)return a;var d=c.skipUntil(function(a){return a.id===b}).rest();if(d.count()===0)return F(a,c.first().id);else return F(a,d.first().id)}function P(a,b){__p&&__p();switch(b.type){case j.FOCUS_PREVIOUS_TAB:var c=a.tabGroup.focusedTabID;b=a.tabGroup.getRaisedandUnraisedTabs();b=b.raisedTabs;b=b.filter(function(a){return!a.isMinimized});if(b.count()<2)return a;var d=b.reverse().skipUntil(function(a){return a.id===c}).rest();if(d.count()===0)return F(a,b.last().id);else return F(a,d.first().id)}return a}e.exports={blurTab:r,closeAllTabs:D,closeAndTabNext:E,closeTab:B,focusNextTab:N,focusPreviousTab:P,focusTab:q,hoveredTab:H,loadFromData:M,minimizAllTabs:A,minimizeTab:d,openTab:a,receivedNewMessage:s,replaceTab:c,setAllowedRaisedTabs:K,unhoveredTab:I,unminimizeTab:f,onThreadPayloadReceived:v,closeGroupEntranceWarningDialog:y,optInOpenTabWithBlockees:z}}),null);
__d("FantaTypeBlockedWarningState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={optedInThreadsWithBlockees:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeMercuryState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={tabContents:b("immutable").Map({}),userInputRequest:{}};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaTypeAppState",["FantaTypeBlockedWarningState","FantaTypeMercuryState","FantaTypeTabGroup","immutable"],(function(a,b,c,d,e,f){"use strict";a={tabGroup:new(b("FantaTypeTabGroup"))(),mercury:new(b("FantaTypeMercuryState"))(),blockedWarning:new(b("FantaTypeBlockedWarningState"))()};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("FantaAppStore",["FantaComposeViewReducers","FantaDispatcher","FantaReducersCookie","FantaReducersDockCalculator","FantaReducersLogging","FantaReducersMercury","FantaReducersMessages","FantaReducersPreLogging","FantaReducersTabs","FantaTypeAppState","FluxReduceStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[].concat(Object.values(b("FantaReducersPreLogging")),Object.values(b("FantaReducersTabs")),Object.values(b("FantaReducersMercury")),Object.values(b("FantaReducersMessages")),Object.values(b("FantaReducersDockCalculator")),Object.values(b("FantaReducersCookie")),Object.values(b("FantaComposeViewReducers")),Object.values(b("FantaReducersLogging")));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("FantaTypeAppState"))()};d.ignoreReducer=function(a){var b=Object.values(a);g=g.filter(function(a){return!b.find(function(b){return b===a})})};d.addReducers=function(a){this.ignoreReducer(a),g=g.concat(Object.values(a))};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;c=new a(b("FantaDispatcher"));e.exports=c}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("MessengerEmojiTransitionMapping.bs",["bs_caml_array","EmojiFormat.bs","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0))}else return a}function n(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([8205,b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){a={decode:function(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}},encode:function(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}};e.exports=a}),null);
__d("cssURL",[],(function(a,b,c,d,e,f){function a(a){return"url('"+a.replace(/[\ud800-\udfff].|[^-a-zA-Z0-9./_?]/g,function(a){return"\\"+a.codePointAt(0).toString(16)+" "})+"')"}e.exports=a}),null);
__d("MessengerEmojiSpan.react",["cx","EmojiLikeConstants","MessengerSupportedEmojiUtils","React","cssURL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.SMALL);a=a?a:"";return b("React").jsx("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey,children:b("React").jsx("span",{className:"_7464",children:this.props.children})})};return c}(b("React").PureComponent);c.propTypes={children:a.arrayOf(a.object),contentState:a.object.isRequired,entityKey:a.string,offsetKey:a.string};e.exports=c}),null);
__d("MessengerEmoticonSpan.react",["cx","EmojiLikeConstants","EmoticonEmojiList","MessengerSupportedEmojiUtils","React","cssURL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.entityKey==null)return null;var a=this.props.contentState.getEntity(this.props.entityKey);a=a.getData();a=a.type;a=b("EmoticonEmojiList").emote2emojis[a];a=b("MessengerSupportedEmojiUtils").getUrl(a,b("EmojiLikeConstants").size.XSMALL);a=a?a:"";return b("React").jsx("span",{className:"_21wj",style:{backgroundImage:b("cssURL")(a)},"data-offset-key":this.props.offsetKey,children:b("React").jsx("span",{className:"_7464",children:this.props.children})})};return c}(b("React").PureComponent);c.propTypes={children:a.arrayOf(a.object),contentState:a.object.isRequired,entityKey:a.string,offsetKey:a.string};e.exports=c}),null);
__d("MessengerMentionsEntityDecorator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("span",{className:"_fy2",children:this.props.children})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerUserInputUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("AUTOCOMPLETE","MUTABLE",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","SubscriptionsHandler","TypingStates","createObjectFrom","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){this._input=a,this._ignoreKeys={},this._getValueFn=b}Object.assign(a.prototype,b("ArbiterMixin"),{_timeout:7e3,_currentState:b("TypingStates").INACTIVE,init:function(){this.init=b("emptyFunction"),this.reset(),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("Event").listen(this._input,"keyup",this._update.bind(this)),b("Run").onUnload(this._onunload.bind(this)))},reset:function(){clearTimeout(this._checkTimer),this._checkTimer=null,this._lastKeystrokeAt=null,this._currentState=b("TypingStates").INACTIVE},setIgnoreKeys:function(a){this._ignoreKeys=b("createObjectFrom")(a)},destroy:function(){this._subscriptions.release()},_onunload:function(){this._currentState==b("TypingStates").TYPING&&this._transition(b("TypingStates").QUITTING)},_update:function(a){a=b("Event").getKeyCode(a);var c=this._currentState;if(!this._ignoreKeys[a]){a=this._getValueFn?this._getValueFn():b("Input").getValue(this._input);a.trim().length===0?c==b("TypingStates").TYPING&&this._transition(b("TypingStates").INACTIVE):c==b("TypingStates").TYPING?this._recordKeystroke():c==b("TypingStates").INACTIVE&&(this._transition(b("TypingStates").TYPING),this._recordKeystroke())}},_transition:function(a){this.reset(),this._currentState=a,this.inform("change",a)},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now(),this._checkTimer||(this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout))},_checkTyping:function(){var a=this._lastKeystrokeTime+this._timeout,c=Date.now();c>a?this._transition(b("TypingStates").INACTIVE):(clearTimeout(this._checkTimer),this._checkTimer=setTimeout(this._checkTyping.bind(this),a-c+10))}});e.exports=a}),null);
__d("createMessengerMentionDraftEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("MENTION","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}e.exports=a}),null);
__d("getProfileRangesForContentState",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("emptyFunction").thatReturnsTrue;function a(a,b){__p&&__p();var c=[],d=0;a.getBlockMap().forEach(function(e){__p&&__p();var f=e.getText();e.findEntityRanges(g,function(f,g){__p&&__p();var h=e.getEntityAt(f);if(h){h=a.getEntity(h);if(h.getType()==="MENTION"){var i=f+d;h=h.getData().mid;var j=null;b&&h===b?j="t":b&&h===b+"-active"?(h=b,j="a"):/^\d+$/.test(h)&&(j="p");j!==null&&c.push({id:h,offset:i,length:g-f,type:j})}}});d+=f.length+1});return c}e.exports=a}),null);
__d("getThreadTypeNameFromThreadType",["MessagingThreadType"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c in b("MessagingThreadType"))if(b("MessagingThreadType")[c]===a)return c;return""}e.exports=a}),null);
__d("getVisibleValueForContentStateWithMessengerEmoji",["EmojiFormat.bs","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.getBlockMap().map(function(c){__p&&__p();var d=c.getText(),e="";c.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,g){__p&&__p();var h=c.getEntityAt(f);if(!h)e+=d.slice(f,g);else{h=a.getEntity(h);if(h.getType()==="EMOTICON")e+=h.getData().originalEmoticon;else if(h.getType()==="EMOJI"){h=h.getData().type;h=b("EmojiFormat.bs").codeStringToCodeArray(h);e+=String.fromCodePoint.apply(String,h)}else e+=d.slice(f,g)}});return e});return c.join("\n")}e.exports=a}),null);
__d("insertMessengerEmojiIntoContentState",["DraftModifier","EmojiFormat.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=c.createEntity("EMOJI","IMMUTABLE",{type:a});f=f.getLastCreatedEntityKey();return b("DraftModifier").insertText(c,d,b("EmojiFormat.bs").codeStringToUnicode(a),e,f)}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoji",["EditorState","MessengerSupportedEmojiUtils","insertMessengerEmojiIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c)return a;c=b("MessengerSupportedEmojiUtils").getEmojiMatchObj(c);if(!c||!c.is_supported)return a;c=b("insertMessengerEmojiIntoContentState")(c.emoji_key,a.getCurrentContent(),d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-characters")}e.exports=a}),null);
__d("getTextAfterNearestEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=b;while(c>0&&a.getEntityAt(c-1)===null)c--;return a.getText().slice(c,b)}e.exports=a}),null);
__d("handleBeforeInputForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp(/[\s\'\".,!?]/);function a(a,c){var d=a.getSelection();if(!d.isCollapsed()||!c||!g.test(c))return a;var e=a.getCurrentContent();d=b("applyMessengerEmoticonToContentState")(e,d);if(d===e)return a;e=b("DraftModifier").insertText(d,d.getSelectionAfter(),c);return b("EditorState").push(a,e,"insert-characters")}e.exports=a}),null);
__d("handleSoftNewlineForMessengerEmoticon",["DraftModifier","EditorState","applyMessengerEmoticonToContentState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getCurrentContent(),d=a.getSelection(),e=b("applyMessengerEmoticonToContentState")(c,d);c=b("DraftModifier").splitBlock(e,c===e?d:e.getSelectionAfter());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("applyEmoticonToContentBlock",["CharacterMetadata","EmoticonsList","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h="\u3000";function a(a,c,d,e){if(!b("EmoticonsList").emotes[c])return a;e=e.createEntity("EMOTICON","IMMUTABLE",{type:b("EmoticonsList").emotes[c],originalEmoticon:c});e=e.getLastCreatedEntityKey();var f=a.getText(),i=a.getCharacterList();c=c.length;var j=i.get(d);return a.merge({text:f.slice(0,d)+h+f.slice(d+c),characterList:i.slice(0,d).concat(g.of(b("CharacterMetadata").applyEntity(j,e)),i.slice(d+c))})}e.exports=a}),null);
__d("insertEmoticonIntoContentState",["DraftModifier","applyEmoticonToContentBlock"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("DraftModifier").replaceText(c,d,a),f=d.getAnchorKey(),g=d.getAnchorOffset(),h=e.getBlockForKey(f);e=e.getBlockMap().set(f,b("applyEmoticonToContentBlock")(h,a,g,c));g++;return c.merge({blockMap:e,selectionBefore:d,selectionAfter:d.merge({anchorOffset:g,focusOffset:g})})}e.exports=a}),null);
__d("insertEmoticonIntoEditorState",["DraftModifier","EditorState","insertEmoticonIntoContentState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=" ";function a(a,c){var d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartOffset(),h=d.getEndOffset(),i=e.getBlockForKey(d.getStartKey()).getText(),j=e.getBlockForKey(d.getEndKey()).getText(),k="";h<=j.length&&j[h]!==g&&(k=g);f>0&&i[f-1]!==g&&(e=b("DraftModifier").insertText(e,d,g),d=e.getSelectionAfter());j=b("insertEmoticonIntoContentState")(a,e,d);e=b("DraftModifier").insertText(j,j.getSelectionAfter(),k);return b("EditorState").push(c,e,"insert-characters")}e.exports=a}),null);
__d("ChatInput.react",["AbstractMentionsTextEditor.react","AutocompleteSearchSource","AutocompleteStrategy","BootloadedComponent.react","Bootloader","CompositeDraftDecorator","ContentState","DocumentCompositeMentionsSource","DocumentMentionsSource","DraftModifier","EditorState","EmojiFormat.bs","FantaAppStore","FantaDispatcher","JSResource","MercuryIDs","MercuryThreadIDMap","MessengerEmojiSpan.react","MessengerEmoticonSpan.react","MessengerMentionsEntityDecorator.react","MessengerMentionSource","MessengerParticipants.bs","MessengerUploadFilesUtil.bs","MessengerUserInputUtils","React","ReactDOM","TypingDetectorController","cancelAnimationFrame","clearImmediate","createCancelableFunction","createMessengerMentionDraftEntity","debounce","emptyFunction","getDefaultKeyBinding","getEntityMatcher","getProfileRangesForContentState","getThreadTypeNameFromThreadType","getVisibleValueForContentStateWithMessengerEmoji","handleBeforeInputForMessengerEmoji","handleBeforeInputForMessengerEmoticon","handleSoftNewlineForMessengerEmoticon","ifRequired","insertEmoticonIntoEditorState","insertMessengerEmojiIntoContentState","isSoftNewlineEvent","requestAnimationFrame","replaceMentionedTextInEditorState","setImmediate","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get();a=b("React").PropTypes;c=b("emptyFunction").thatReturnsNull;var h=1,i="handled",j=8,k="not-handled";d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$6=b("createCancelableFunction")(function(a,c){var e=a.viewer,f=a.thread;if(!f)return;if(!f.participants)return;d.$3=b("MessengerParticipants.bs").getMulti(f.participants,function(a){d.setState({mentionCreationForContentStateFn:b("createMessengerMentionDraftEntity"),mentionsSource:c(e,f.participants.map(function(b){return a[b]}).filter(Boolean),f,b("gkx")("678578"),b("gkx")("678579"))})})});d.$8=function(){var a=d.$11(d.state.editorState.getCurrentContent());d.$2=b("setImmediate")(function(){d.$2=null;var c=b("EditorState").set(d.state.editorState,{decorator:a});d.setState({editorState:c})})};d.onChange=function(a){__p&&__p();if(a!==d.state.editorState){d.setState({editorState:a});if(d.getValueFromEditorState(a)!==d.getValueFromEditorState(d.state.editorState)){d.$9(a,d.props.composer);a=b("gkx")("964442");var c=b("FantaAppStore").getState().mercury.userInputRequest;if(a&&c.isUserInputRequested){a=new(b("AutocompleteSearchSource"))(d.getValueFromEditorState(d.state.editorState),c.requestNumResults,c.requestType);c=new(b("DocumentMentionsSource"))(b("AutocompleteStrategy"),a);a=new(b("DocumentCompositeMentionsSource"))([c]);d.setState({isUserInputAutocomplete:!0,mentionCreationForContentStateFn:b("MessengerUserInputUtils"),mentionsSource:a})}}}};d.onReturn=function(a,c){__p&&__p();if(b("isSoftNewlineEvent")(a)){var e=b("handleSoftNewlineForMessengerEmoticon");d.setState({editorState:e(c)});return i}a.persist();d.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(d.props.fileUploader,d.props.uploadPhotoFn),d.$12()&&(d.props.inputKeyDown&&d.props.inputKeyDown(a,d.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(a,b){new a().setEvent(b.KEYBOARD_SEND).setVC(d.props.viewer).log()},"ChatInput.react")});return i};d.getValue=function(){return d.getValueFromEditorState(d.state.editorState)};d.$13=function(a,b){d.props.onBeforeInput&&d.props.onBeforeInput();var c=d.$14(a,b);a=d.$15(a,b);return c||a?i:k};d.$17=function(a){return d.$16(a)};d.$18=function(a,b){return d.$16(b)};d.state={editorState:d.$10(d.props.defaultText)};d.$20=function(){var a=(d.state.addedMentionsCount||0)+1;d.setState({addedMentionsCount:a})};d.$22=function(a,c){a=(d.state.mentionsTriggeredCount||0)+1;a={mentionsTriggeredCount:a};d.state.mentionsTriggerSource||(a.mentionsTriggerSource=c===h?b("MessengerMentionSource").ATSIGN:b("MessengerMentionSource").TYPEAHEAD);d.setState(a)};d.$21=function(a){d.refs.input.isShowingMentionables()||d.props.onEscape&&d.props.onEscape(a)};d.state.mentionCreationForContentStateFn=b("createMessengerMentionDraftEntity");return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=b("gkx")("964442");c&&b("FantaDispatcher").explicitlyRegisterStore(b("FantaAppStore"));this.$4=b("ReactDOM").findDOMNode(this).getBoundingClientRect().height;this.props.resizeFn(this.$4);this.setState({triggeredWord:this.props.triggeredWord});this.$5();b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){a.$6(a.props,b)},"ChatInput.react");b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatInput.react");c=this.props;var d=c.thread,e=c.threadID,f=b("ReactDOM").findDOMNode(this.refs.input);f&&g.getServerIDFromClientID(e,function(c){a.$1=new(b("TypingDetectorController"))(d,b("MercuryIDs").getUserIDFromThreadID(e),f,"mercury-chat",null,c,a.getValue)})};d.componentWillUnmount=function(){this.$2&&b("clearImmediate")(this.$2),this.$7&&b("cancelAnimationFrame")(this.$7),this.$6.cancel(),this.$7=null,this.$1&&this.$1.destroy(),this.$3&&b("MessengerParticipants.bs").removeCallback(this.$3)};d.UNSAFE_componentWillReceiveProps=function(a){var c=this;this.state.triggeredWord!==a.triggeredWord&&this.setState({triggeredWord:a.triggeredWord},this.$8);(!this.props.thread||!a.thread||l(a,this.props))&&b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){c.$6(a,b)},"ChatInput.react");a.composer.version!==this.props.composer.version&&this.resetState()};d.componentDidUpdate=function(){__p&&__p();var a=this;this.$5();this.$7=b("requestAnimationFrame")(function(){if(!a.$7)return;a.$7=null;var c=b("ReactDOM").findDOMNode(a).getBoundingClientRect();c=c.height;a.$4!==c&&a.props.resizeFn(c);a.$4=c});this.state.isUserInputAutocomplete&&!b("FantaAppStore").getState().mercury.userInputRequest.isUserInputRequested&&(this.setState({isUserInputAutocomplete:!1}),b("Bootloader").loadModules(["createMentionsSearchSourceFromParticipants"],function(b){a.$6(a.props,b)},"ChatInput.react"))};d.$5=function(){var a=this,c=this.props.composer,d=this.props.onTextChange;this.$9=d?b("debounce")(function(b){d(a.getValueFromEditorState(b),c,200)},200):b("emptyFunction")};d.$10=function(a){a=b("ContentState").createFromText(a);return b("EditorState").createWithContent(a,this.$11(a))};d.resetState=function(){this.state.typeaheadReporter&&(this.state.typeaheadReporter.sessionEnd(),this.state.typeaheadReporter.sessionStart()),this.setState({editorState:b("EditorState").moveFocusToEnd(this.$10("")),triggeredWord:null,addedMentionsCount:0,mentionsTriggeredCount:0,mentionsTriggerSource:null})};d.onSend=function(a){var c=this.getMentions();if(a&&(c&&c.length||this.state.addedMentionsCount||this.state.mentionsTriggeredCount||this.state.mentionsTriggerSource)){var d=this.state,e=d.addedMentionsCount,f=d.mentionsTriggeredCount,g=d.mentionsTriggerSource,h=this.props.thread;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(d,i){new d().setEvent(i.MENTION).setGroupSize(h&&h.participants&&h.participants.length).setNumDelivered(c?c.length:0).setNumSelects(e).setNumTriggers(f).setThreadid(h&&h.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(h&&h.thread_type)).setOfflineThreadid(a.offline_threading_id).updateExtraData({source:g}).log()},"ChatInput.react")}};d.$11=function(a){var c=[{strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"},a.getEntity),component:b("MessengerEmoticonSpan.react")}];c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOJI"},a.getEntity),component:b("MessengerEmojiSpan.react")});c.push({strategy:b("getEntityMatcher")(function(a){return a.getType()==="MENTION"},a.getEntity),component:b("MessengerMentionsEntityDecorator.react")});return new(b("CompositeDraftDecorator"))(c)};d.$12=function(){var a=this.getValue(),b=this.props.composer.sharePreview;return a&&a.trim().length>0||!!(b&&b.params&&b.type)};d.handleSend=function(){var a=this;this.setState({},function(){b("MessengerUploadFilesUtil.bs").sendAttchments(a.props.fileUploader,a.props.uploadPhotoFn),a.$12()&&(a.props.handleSend&&a.props.handleSend(a.getValue())),b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(c.CLICK_SEND).setVC(a.props.viewer).log()},"ChatInput.react")})};d.getValueFromEditorState=function(a){a=a.getCurrentContent();return b("getVisibleValueForContentStateWithMessengerEmoji")(a)};d.getMentions=function(){var a=this.props.thread;return b("getProfileRangesForContentState")(this.state.editorState.getCurrentContent(),a?a.thread_fbid:null)};d.focus=function(){this.refs.input&&this.refs.input.focus&&this.refs.input.focus()};d.$14=function(a,c){a=b("handleBeforeInputForMessengerEmoticon")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};d.$15=function(a,c){a=b("handleBeforeInputForMessengerEmoji")(c,a);if(a===c)return!1;this.setState({editorState:a});return!0};d.$16=function(a){__p&&__p();var c=this,d=/^image\//,e=a.filter(function(a){return d.test(a.type)});if(e.length){var f=this.props.composer;b("ifRequired")("FantaMessageActions",function(a){a.prepareFilesForSend(c.props.threadID,e,f)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(a){a.prepareFilesForSend(c.props.threadID,e,f)},"ChatInput.react")});return!0}return!1};d.insertEmoticon=function(a){a=b("insertEmoticonIntoEditorState")(a,this.state.editorState);a!==this.state.editorState&&this.setState({editorState:a})};d.insertEmoji=function(a){var c=this.state.editorState;a=b("insertMessengerEmojiIntoContentState")(b("EmojiFormat.bs").codeArrayToCodeString(a),c.getCurrentContent(),c.getSelection(),c.getCurrentInlineStyle());c=b("EditorState").push(c,a,"insert-characters");c!==this.state.editorState&&this.setState({editorState:b("EditorState").forceSelection(c,a.getSelectionAfter())})};d.appendText=function(a){var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent();e=b("DraftModifier").insertText(e,d,a);c=b("EditorState").push(c,e,"insert-characters");this.setState({editorState:c})};d.render=function(){var a=babelHelpers["extends"]({},this.props,this.$19());return b("React").jsx(b("AbstractMentionsTextEditor.react"),babelHelpers["extends"]({ref:"input"},a,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this.$13,handlePastedFiles:this.$17,handleDroppedFiles:this.$18,handleReturn:this.onReturn,spellCheck:!0,stripPastedStyles:!0,textAlignment:"left"}))};d.$19=function(){return{autoHighlight:!0,handleContentReturn:this.onReturn,maxResults:j,mentionResultsProps:{typeaheadView:b("BootloadedComponent.react").create(b("JSResource")("ChatMentionsInputTypeaheadView.react").__setRef("ChatInput.react")),typeaheadViewProps:{},position:"above",autoflip:!0},mentionResultsComponent:b("BootloadedComponent.react").create(b("JSResource")("MentionsLayer.react").__setRef("ChatInput.react")),mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionsSource:this.state.mentionsSource,onAddMention:this.$20,onEscape:this.$21,onShowMentions:this.$22}};d.addMention=function(a){a=b("replaceMentionedTextInEditorState")(a,this.state.editorState,0,b("createMessengerMentionDraftEntity"));this.state.mentionsTriggerSource||this.setState({mentionsTriggerSource:b("MessengerMentionSource").REPLY});this.onChange(a);this.$20()};return c}(b("React").Component);d.propTypes={composer:a.object.isRequired,defaultText:a.string,blockStyleFn:a.func,fileUploader:a.object,inputKeyDown:a.func,handleSend:a.func,keyBindingFn:a.func,onBeforeInput:a.func,onBlur:a.func,onEscape:a.func,onFocus:a.func,onTab:a.func,resizeFn:a.func,thread:a.object,threadID:a.string,viewer:a.string};d.defaultProps={blockStyleFn:c,keyBindingFn:b("getDefaultKeyBinding")};function l(a,b){a=a.thread.participants;b=b.thread.participants;if(!a||!b)return!0;a=a.filter(Boolean);b=b.filter(Boolean);return a.length!==b.length}e.exports=d}),null);
__d("MessengerFormattingUtils",["cx","CurrentUser","JSResource","MessengerFormattingConfig","Newline.react","React","UnicodeUtils","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("MessengerCodeBlock.react").__setRef("MessengerFormattingUtils"));function a(a){return{offset:a[1].length,length:(h||(h=b("UnicodeUtils"))).strlen(a[2])+2,innerOffset:1,innerText:a[2]}}function c(a){return{offset:a[1].length,length:(h||(h=b("UnicodeUtils"))).strlen(a[2])+2,innerOffset:1,innerText:a[2].replace(/\s\s+/g," ").trim()}}function d(a){return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(a[1]),innerText:a[2]}}g=b("MessengerFormattingConfig");var j={pattern:new RegExp(g.boldConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.boldConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").jsx("b",{children:a})},getRangeInMatch:a,recursivelyFormat:!0},k={pattern:new RegExp(g.italicConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.italicConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").jsx("i",{children:a})},getRangeInMatch:a,recursivelyFormat:!0};a={pattern:new RegExp(g.strikethroughConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.strikethroughConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").jsx("s",{children:a})},getRangeInMatch:a,recursivelyFormat:!0};c={pattern:new RegExp(g.codeConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").jsx("code",{className:b("CurrentUser").isWorkUser()?"_7ilw":"",children:a})},getRangeInMatch:c,recursivelyFormat:!1};var l=function(a){var c,d=a.children;a=a.range;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(c.Suspense,{fallback:c.jsx("div",{className:"_7mv7",children:d}),children:c.jsx(i,{range:a,children:d})}),c.jsx(b("Newline.react"),{})]})},m={pattern:new RegExp(g.codeBlockConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").jsx("code",{children:a})},getRangeInMatch:d,recursivelyFormat:!1};l={pattern:new RegExp(g.codeBlockV2Config.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockV2Config.nonCapturingPattern),formatter:l,getRangeInMatch:function(a){var c=a[3]||"",d=a[4]!==void 0?a[4]:a[5],e=a[1]||"",f=a[2]||"";return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(e)+h.strlen(f),innerText:d,codeBlockLanguage:c}},recursivelyFormat:!1};var n=function(a){a=a.children;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsxs("blockquote",{className:"_pye"+(b("CurrentUser").isWorkUser()?" _7ilx":""),children:[b("React").jsx("div",{className:"_pyf"}),a]}),b("React").jsx(b("Newline.react"),{})]})};d={pattern:new RegExp(g.blockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.blockQuoteConfig.nonCapturingPattern,"m"),formatter:n,getRangeInMatch:d,recursivelyFormat:!0};n={pattern:new RegExp(g.multipleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.multipleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:n,getRangeInMatch:function(a){var c=a[0],d=(h||(h=b("UnicodeUtils"))).strlen(c);a=h.strlen(a[2]);return{offset:0,length:d,innerOffset:a,innerText:h.substring(c,a,d)}},recursivelyFormat:!0,getAdditionalInnerRanges:function(a){return q(a.innerText,[o]).map(function(b){return babelHelpers["extends"]({},b,{offset:b.offset+a.innerOffset,innerOffset:b.innerOffset+a.innerOffset})})}};var o={pattern:new RegExp(g.singleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.singleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:function(a){a=a.children;return a},getRangeInMatch:function(a){return{offset:0,length:(h||(h=b("UnicodeUtils"))).strlen(a[0]),innerOffset:h.strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0},p=[d,j,k,a,c,n];p.push(b("CurrentUser").isWorkUser()?l:m);function f(a,b){b===void 0&&(b=p);for(var c=0;c<b.length;c++){var d=b[c].nonCapturingPattern;if(d.test(a))return!0}return!1}function q(a,c){__p&&__p();c===void 0&&(c=p);var d=[];for(var e=0;e<c.length;e++){var f=c[e];f.pattern.lastIndex=0;var g=void 0;while((g=f.pattern.exec(a))!=null){g=b("nullthrows")(g);var i=f.getRangeInMatch(g),j=a.substr(0,g.index+i.offset);j=(h||(h=b("UnicodeUtils"))).strlen(j);j={offset:j,length:i.length,innerText:i.innerText,innerOffset:j+i.innerOffset,formatter:f.formatter,recursivelyFormat:f.recursivelyFormat,codeBlockLanguage:i.codeBlockLanguage};i=f.getAdditionalInnerRanges?f.getAdditionalInnerRanges(j):[];d.push(j);d=d.concat(i)}}return d}e.exports={defaultFormatConfigs:p,hasMatch:f,getRanges:q,formatConfigs:{bold:j,italic:k,strikethrough:a,blockcode:m,codeblockV2:l,code:c,blockquote:d,multipleInlineBlockquote:n,singleInlineBlockquote:o}}}),null);
__d("MessengerMathUtils",["UnicodeUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=2,i=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,j=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function a(a){return i.test(a)}function c(a){return a.substring(h,a.length-h)}function d(a){j.lastIndex=0;return j.test(a)}function f(a,c){__p&&__p();c===void 0;c=[];j.lastIndex=0;var d;while((d=j.exec(a))!==null){d=b("nullthrows")(d);var e=a.substring(0,d.index);e=(g||(g=b("UnicodeUtils"))).strlen(e);c.push({offset:e,length:g.strlen(d[0]),math:!0})}return c}function k(a){var b=a.length,c=0,d=0;for(var e=0;e<b;e++)a[e]==="\\"?a.slice(e,e+6)==="\\begin"?(c+=2,d=Math.max(d,c)):a.slice(e,e+4)==="\\end"?c-=2:e++:a[e]==="{"?(c++,d=Math.max(d,c)):a[e]==="}"&&c--;return d}e.exports={MATH_DELIMITER_LENGTH:h,isMathBlock:a,hasInlineMath:d,getInlineMathRanges:f,getMathBlockInner:c,getMaxBraceDepth:k}}),null);
__d("MessengerHotlikeEmoji.re",["MessengerHotlikeEmoji.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotlikeEmoji.bs").isMessengerHotlike;f.isMessengerHotlike=a}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=String(a);while(f){a=b("ifRequired")("MessengerSupportedEmojiUtils",function(a){return a.getEmojiMatchObj(f)},function(){return b("MessengerSupportedEmoji").getEmojiMatchObj(f)});if(a){var g=a.offset+a.length,h=f.substr(0,a.is_supported?a.offset:g);d(h);a.is_supported&&c(a.emoji_str,a.emoji_key,e);h=f.substr(g);f=h}else break}d(f)}e.exports=a}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f,g,h;a=String(a);while(a){g=b("EmoticonEmojiList").regexp.exec(a);if(g)f=g.index+g[1].length,h=a.substr(0,f),g=g[2],f=a.substr(f+g.length),d(h),c(g,b("EmoticonEmojiList").names[g],e),a=f;else break}d(a)}e.exports=a}),null);
__d("P2PTriggersUtils",["P2PGKValues"],(function(a,b,c,d,e,f){var g=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/;a={canSeeTriggers:function(a){return!b("P2PGKValues").P2PEnabled?!1:!0},getMatches:function(a){return a.match(g)}};e.exports=a}),null);
__d("RedditLinkMatcher",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("(^|\\s)(\\/[ru]\\/\\w{1,21})(?:\\b)","i");a=function(a){a=g.exec(a);return a===null?null:{lnk:a[2],idx:a.index+a[1].length}};b=function(a){return g.exec(a)!==null};c={match:a,isMatch:b};e.exports=c}),null);
__d("RedditLinkRanges",["RedditLinkMatcher","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={REDDIT_PREFIX:"https://reddit.com",get:function(a,c){__p&&__p();c===void 0&&(c=0);c=c;var d=a.substr(c),e=b("RedditLinkMatcher").match(d);if(!e)return[];var f=e.lnk;e=e.idx;d=(g||(g=b("UnicodeUtils"))).strlen(d.substr(0,e));c+=d;e="";switch(f[1].toLowerCase()){case"r":e=this.REDDIT_PREFIX+f;break;case"u":e=this.REDDIT_PREFIX+f;break;default:return[]}d=f.length;f=[{offset:c,length:d,entity:{url:e}}];return f.concat(this.get(a,c+d))}};e.exports=a}),null);
__d("TextWithEntitiesMetadataType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,CONCEPT:1,INTENT:2})}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){__p&&__p();a="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";c="\u2000-\u206f\xab\xbb\uff08\uff09";d="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])";f="(?:(?:ht|f)tps?)://";d="(?:(?:"+d+"[.]){3}"+d+")";var g="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",h="(?:\\b)www\\d{0,3}[.]";a="[^\\s"+a+c+"]";c="(?:(?:(?:[.:\\-_%@]|"+a+")*"+a+")|"+g+")";a="(?::\\d+){0,1}";var i="(?=[/?#])";b=b("URLMatcherConfig").tlds;var j="(?:(?:"+f+c+a+")|(?:"+d+a+")|(?:"+g+a+")|(?:"+h+c+b+a+")|(?:"+c+b+a+i+"))";i="(?:(?:"+f+c+a+")|(?:"+d+a+")|(?:"+g+a+")|(?:"+h+c+b+a+")|(?:"+c+b+a+"))";d="[/#?]";g="\\([^\\s()<>]+\\)";var k="[^\\s()<>?#]+",l=new RegExp(j,"im"),m="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",n=new RegExp(m,"im"),o="(?:(?:"+d+")(?:(?:"+g+"|"+k+")*)*)*",p=new RegExp("((?:"+i+")(?:"+o+"))","im"),q=new RegExp("((?:"+f+c+a+")|(?:"+h+c+b+a+"))"),r=/[\s\'\";]/,s=new RegExp(d,"im"),t=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),u=new RegExp("[\\s()<>?#]","im"),v=new RegExp("\\s()<>"),w=function(a){if(a!=null&&a.indexOf("@")!=-1)return q.exec(a)?a:null;else return a},x=function(a){return new RegExp("((?:"+j+")(?:"+o+"))",a)};m=function(a){return y(a,x("im"))};g=function(a){return z(a,x("igm"))};k=function(a){return y(a,p)};var y=function(a,b){b=b.exec(a);return b==null||b.length===0?null:w(b[1]||null)},z=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};i=function(a){return l.exec(a)};f=function(a){return!r.test(a.charAt(a.length-1))};h=function(a){__p&&__p();a=a;var b=!1;do{var c=l.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=n.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!s.test(d[0]))return w(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(s.test(i)||!t.test(i))b=h;else if(u.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(v.test(i))break}return w(c[0]+d.substring(0,b+1))};c={permissiveHostPathMatch:k,permissiveMatch:m,permissiveMultiMatch:g,matchToPattern:y,multiMatchToPattern:z,matchHost:i,trigger:f,match:h};e.exports=c}),null);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g="scraperLastPermissiveMatch";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var d=c.prototype;d.reset=function(){b("DataStore").set(this.input,g,null)};d.enable=function(){if(this.events)return;var a=function(a){setTimeout(this.check.bind(this,a),30)};this.events=b("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};d.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};d.check=function(a){var d=this.getValueFn?this.getValueFn():this.input.value;if(a&&c.trigger(d))return;a=c.match(d);d=b("URLMatcher").permissiveMatch(d);d&&d!=b("DataStore").get(this.input,g)&&(b("DataStore").set(this.input,g,d),this.inform("match",{url:a||d,alt_url:d}))};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a,b("URLMatcher"));e.exports=a}),null);
__d("getURLRanges",["UnicodeUtils","URI","URLScraper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function a(a){__p&&__p();var c=[],d=0;while(!0){var e=a.substr(d),f=b("URLScraper").match(e);if(!f)break;var i=f;/^[a-z][a-z0-9\-+.]+:\/\//i.test(f)||(i="http://"+f);if(!(g||(g=b("URI"))).isValidURI(i))break;var j=e.indexOf(f);e=(h||(h=b("UnicodeUtils"))).strlen(e.substr(0,j));d+=e;j=f.length;c.push({offset:d,length:f.length,entity:{url:i}});d+=j}return c}e.exports=a}),null);
__d("shouldAddMRefParam",["isFacebookURI"],(function(a,b,c,d,e,f){a=function(a){if(!b("isFacebookURI")(a)||a.getFragment())return!1;return/^\/events\//.test(a.getPath())?!0:!1};e.exports=a}),null);
__d("MercuryAttachmentLayoutTypeHelper",[],(function(a,b,c,d,e,f){"use strict";a={isAdminType:function(a){var b;return(a==null?void 0:(b=a.xma_layout_info)==null?void 0:b.layout_type)==="ADMIN"||(a==null?void 0:(b=a.share)==null?void 0:(a=b.xma_layout_info)==null?void 0:a.layout_type)==="ADMIN"}};e.exports=a}),null);
__d("Cache",["DateConsts","TimeSlice"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Map()}var c=a.prototype;c.has=function(a){return this.$1.has(a)};c.get=function(a,b){a=this.__getRaw(a);return!a?b:a.$2};c.getAll=function(a,b){var c=this,d=new Map();a.forEach(function(a){return d.set(a,c.get(a,b))});return d};c["delete"]=function(a){var b=this.__getRaw(a);b&&b.$3&&clearTimeout(b.$3);return this.$1["delete"](a)};c.clear=function(){this.$1.forEach(function(a){a&&a.$3&&clearTimeout(a.$3)}),this.$1.clear()};c.set=function(a,c,d,e){__p&&__p();if(!this.shouldUpdate(a,d))return!1;var f=this.__getRaw(a);f||(f=this.__getNewRawObject());delete f.$2;delete f.$4;f.$3&&clearTimeout(f.$3);delete f.$3;f.$2=c;d!=null&&(f.$4=d);e!=null&&e>=0&&(f.$3=setTimeout(b("TimeSlice").guard(this["delete"].bind(this,a),"Cache expiration timeout"),e*b("DateConsts").MS_PER_SEC*b("DateConsts").SEC_PER_MIN));this.__setRaw(a,f);return!0};c.shouldUpdate=function(a,b){a=this.__getRaw(a);return a==null||a.$4==null||b==null||b>a.$4};c.size=function(){return this.$1.size};c.__getRaw=function(a){return this.$1.get(a)};c.__setRaw=function(a,b){this.$1.set(a,b)};c.__getNewRawObject=function(){return{$2:null,$3:null,$4:null,$5:null,$6:null}};c.__keys=function(){return this.$1.keys()};return a}();e.exports=a}),null);
__d("MessengerBotComposerWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1193572474099061"};b.getQueryID=function(){return"1132183563559860"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerBotsMenuController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:!0}})}),null);
__d("isMessengerMessageRemoved",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.removed_timestamp!==null&&a.removed_timestamp!==void 0&&a.removed_timestamp!==0||a.attachments!=null&&a.attachments.length>0&&!!a.attachments[0].share&&!!a.attachments[0].share.style_list&&a.attachments[0].share.style_list.length>0&&a.attachments[0].share.style_list[0]==="globally_deleted_message_placeholder"}e.exports=a}),null);
__d("MercuryErrorInfo",["fbt","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){var h={getMessage:function(a){var b="";h.isConnectionError(a)?(b=g._("Kh\u00f4ng th\u1ec3 g\u1eedi tin nh\u1eafn n\u00e0y.").toString(),h.isTransient(a)&&(b=g._("{message} H\u00e3y ki\u1ec3m tra k\u1ebft n\u1ed1i internet c\u1ee7a b\u1ea1n v\u00e0 nh\u1ea5p \u0111\u1ec3 th\u1eed l\u1ea1i.",[g._param("message",b)]).toString())):(a&&a.description?b=a.description:b=g._("Tin nh\u1eafn n\u00e0y kh\u00f4ng g\u1eedi \u0111\u01b0\u1ee3c.").toString(),h.isTransient(a)&&(b=g._("{message} Nh\u1ea5p \u0111\u1ec3 g\u1eedi l\u1ea1i.",[g._param("message",b)]).toString()));return b},isConnectionError:function(a){return a&&a.type==2?a.code===1001||a.code===1004||a.code===1006:!1},isTransient:function(a){return a&&a.is_transient},isPermanent:function(a){return a?!this.isTransient(a):!1},hasErrorStatus:function(a){return b("MessengerMessage.bs").hasError(a)}};e.exports=h}),null);
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"})}),null);
__d("MercuryMessageObject",["BanzaiODS","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercurySendMessageFields","MercurySingletonProvider","MessengerObjectAssociationType","MessengerState.bs","RepliedToMessageStatusForGraphQL","SiteData","gkx","md5"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.constructHotLikeObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructPhotoMessageObject=function(a,c,d,e,f){c=g(this.$1,"ma-type:user-generated-message",c,d,a);d={has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructTextMessageObject=function(a,c,d,e,f,h,i,j,k,l){h=g(this.$1,"ma-type:user-generated-message",h,i,d);i=f.params&&f.type;d=c.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:i||d,raw_attachments:d?c:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,verse_group_role_xmd:l,mib_direct_message_data:null,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},h,a)};c.constructUserGeneratedMessageObject=function(a,b,c,d,e,f,h){b=g(this.$1,"ma-type:user-generated-message",b,c,h);c={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:d||[],participants_to_hash:[],creator_info:e,tags:f||[]};return babelHelpers["extends"]({},b,c)};c.constructStickerMessageObject=function(a,c,d,e,f,h){c=g(this.$1,"ma-type:user-generated-message",c,d,h);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],participants_to_hash:[],tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructAttachmentMessageObject=function(a,b,c){a=g(this.$1,"ma-type:user-generated-message",a,b,c);b={attachments:[],specific_to_list:[],participants_to_hash:[]};return babelHelpers["extends"]({},a,b)};c.constructLogMessageObject=function(a,b,c,d){a=g(this.$1,"ma-type:log-message",a,b);b={log_message_type:c,log_message_data:d,ephemeral_ttl_mode:d&&d.untypedData&&d.untypedData.ttl};return babelHelpers["extends"]({},a,b)};c.constructCTAConfirmationMessageObject=function(a,b,c,d,e,f){a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e,null);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};f&&(b.postback_data=JSON.stringify(f));return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};c.normalizeNewMessage=function(a){__p&&__p();a.status===void 0&&(a.status=0);a.offline_threading_id=a.offline_threading_id||b("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||b("BanzaiODS").bumpEntityKey(3303,"chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var c=b("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.participants_to_hash=a.participants_to_hash||[];a.specific_to_list.length&&a.specific_to_list.indexOf(c)===-1&&a.specific_to_list.push(c);a.participants_to_hash.length&&a.participants_to_hash.indexOf(c)===-1&&a.participants_to_hash.push(c);var d=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var e,f=b("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);f&&f.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=f.ephemeral_ttl_mode);((e=f)!=null?(e=e.associated_object)!=null?e.name:e:e)&&((e=f)!=null?e.object_association_type:e)===b("MessengerObjectAssociationType").GENERAL_CHAT&&(d=!0)}if(!d)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){f=a.specific_to_list[0]==c?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=b("MercuryIDs").getThreadIDFromParticipantID(f)}if(!a.specific_to_list.length){e=b("MercuryIDs").tokenize(a.thread_id);d=e.type;f=e.value;d=="user"&&(a.specific_to_list=["fbid:"+f,c])}b("gkx")("939391")&&(a.to_list_md5=this.sortAndHash(a.participants_to_hash));a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};c.sortAndHash=function(a){__p&&__p();if(!a||a.length===0)return null;a=a.map(function(a){return b("MercuryIDs").getUserIDFromParticipantID(a)});return a.some(function(a){return a==null})?null:b("md5")(a.sort(function(a,b){if(a==null||b==null)throw new Error("invalid participant id in to_list_md5 creation");if(a.length<b.length)return-1;return a.length>b.length?1:a.localeCompare(b)}).join(":"))};c.normalizeResendMessage=function(a){a.status=7,a.timestamp=Date.now(),a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};c.normalizeAddAttachmentPlaceholder=function(a,c,d){d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=7,a.upload_id=c};return a}();function g(a,c,d,e,f){var g=h(d)?["source:chat"]:[],i=Date.now();c={action_type:c,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:i,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:d,source_tags:g,replied_to_message:f?{message:f,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0};return c}function h(a){switch(a){case"source:chat:web":case"source:chat:jabber":case"source:chat:iphone":case"source:chat:meebo":case"source:chat:orca":case"source:chat:test":case"source:chat":return!0;default:return!1}}var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("ServerHTML.react",["React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.blob;a=babelHelpers.objectWithoutPropertiesLoose(a,["blob"]);return typeof c==="string"?b("React").jsx("div",babelHelpers["extends"]({},a,{children:c})):b("React").jsx("div",babelHelpers["extends"]({},a,{dangerouslySetInnerHTML:c}))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){__p&&__p();a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,this.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("H\u00f4m nay"),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){__p&&__p();a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),null);
__d("MessengerDecoratorUtil",["invariant","MercuryAttachment","MercuryAttachmentLayoutTypeHelper","MercuryConfig","QE2Logger","StoryAttachmentStyle","gkx","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a===Object(a)};function i(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!=="sticker"&&!p.isP2PAttachment(a);return!!a}function a(a){return i(a)&&b("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])}function c(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.style_list)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"}else return!1}function d(a){return b("gkx")("843916")&&!n(a)}function f(a){__p&&__p();if(k(a)||l(a)||b("isMessengerMessageRemoved")(a)||m(a))return!1;var c=j(a);a||g(0,1760);if(!c)return!1;if(b("MercuryAttachment").isPhotoGroupAttachment(c))return!0;if(p.isNewForwardEntrypoint(c))return!0;return b("MercuryAttachment").isFileAttachment(c)&&c.message_file_fbid?!0:!1}function j(a){var b=a.attachments&&a.attachments.length===1;return b?a.attachments[0]:null}function k(a){return((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_direct"}function l(a){return b("gkx")("1019832")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_share"}function m(a){return a&&a.attachments&&a.attachments.length>0&&b("MercuryAttachmentLayoutTypeHelper").isAdminType(a.attachments[0])}function n(a){var b;a=j(a);if(!a)return!1;if(((b=a.share)==null?void 0:b.style_list)!=null){return((b=a.share)==null?void 0:b.style_list[0])==="rtc_call_log"}else return!1}function o(a){var c=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid?(c.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())):a.share&&a.share.share_id&&(c.push(a.share.share_id),d.push(a.attach_type)),b("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(c.push(a.message_file_fbid),d.push(a.attach_type))});return{ids:c,types:d}}var p={isEventAttachment:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf("event_reminder")>-1},isLocationAttachment:function(a){return this._isStoryBased(a)&&(a.share.style_list.indexOf("message_location")>-1||a.share.style_list.indexOf("message_live_location")>-1||a.share.style_list.indexOf("message_multiple_locations")>-1)},isBusinessMessageAttachment:function(a){var b;b=(b=a.share)==null?void 0:b.style_list;return a.attach_type==="share"&&b instanceof Array&&b.indexOf("business_message_items")>-1},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return h(a)&&c.isP2P(a)});return!!a.length},isP2P:function(a){return!!(this._isStoryBased(a)&&(a.share.style_list.indexOf("orion")>-1||a.share.style_list.indexOf("orion_request")>-1))},isNewForwardEntrypoint:function(a){var c;c=((c=a)!=null?(c=c.share)!=null?(c=c.style_list)!=null?c[0]:c:c:c)==="montage_direct";c=b("MercuryAttachment").isShareAttachment(a)&&a.share!=null&&a.share.share_id&&!p.isP2P(a)&&!p.isEventAttachment(a)&&!p.isLocationAttachment(a)&&!p.isBusinessMessageAttachment(a)&&!c&&(!a.share.target||!a.share.target.lwa_type);if(!c)return!1;b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");return b("MercuryConfig").MNFWD},_isStoryBased:function(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)},isAttachment:i,hasLWA:a,isWECMessage:c,allowForward:f,maybeGetMessageAttachment:j,isMontageDirect:k,isMontageShare:l,isAdminLayoutType:m,isRTCShareMessage:n,getAttachments:o,allowSave:d};e.exports=p}),null);
__d("MessengerReactionStaticEmoji.react",["requireCond","MessengerTextWithEmoticons.react","React","cr:1117307","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.reaction;a=a.isDefaultReaction;return b("gkx")("895574")&&b("cr:1117307")!=null?b("React").jsx(b("cr:1117307"),{reaction:c}):b("React").jsx(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:a,renderEmoticons:!0,renderEmoji:!0,text:c})}e.exports=a}),null);
__d("MessengerDotComAndInboxM4Check.bs",["gkx","CurrentUser","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("686397")&&!b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;f.yes=a}),null);
__d("MessengerDotComAndInboxM4Check.re",["MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f){a=b("MessengerDotComAndInboxM4Check.bs").yes;f.yes=a}),null);
__d("EmojiFormat.re",["EmojiFormat.bs"],(function(a,b,c,d,e,f){c=(a=b("EmojiFormat.bs")).codeStringToCodeArray;f.codeStringToCodeArray=c;d=a.codeArrayToCodeString;f.codeArrayToCodeString=d;e=a.codeArrayToUnicode;f.codeArrayToUnicode=e;b=a.codeStringToUnicode;f.codeStringToUnicode=b}),null);
__d("MessengerThreadThemeUpdateWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1727493033983591"};b.getQueryID=function(){return"643682629309288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("NFXContextFactory",["FBLogger","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:b("uuid")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},c)}function a(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;a=a.responsible_id;return g({type:1,story_location:c,entry_point:d,reportable_ent_token:b,responsible_id:a})}function c(a){var b=a.reportable_id,c=a.page_id;a=a.storyLocation;return g({type:6,story_location:a,entry_point:"unknown",initial_action_name:"POLITICAL_ARCHIVE_REPORT_AD",reportable_id:b,page_id:c})}function d(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;var e=a.initial_action_name;a=a.page_id;return g({type:11,story_location:c,entry_point:d,reportable_ent_token:b,initial_action_name:e,page_id:a})}function f(a){var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;a=a.initial_action_name;c===null&&b("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return g({type:2,story_location:d,entry_point:e,reportable_ent_token:c,initial_action_name:a})}e.exports={withEntReportable:f,withEntReportableOnPage:d,withEntMessageThread:a,withPoliticalArchiveAds:c}}),null);
__d("PeriodUnit",["invariant","DateConsts","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({year:null,month:null,week:null,day:null,hour:null,minute:null,second:null}),i=babelHelpers["extends"]({},h,{canonicalDateUnits:[h.year,h.month,h.day],canonicalUnits:[h.year,h.month,h.day,h.hour,h.minute,h.second],getApproximateDuration:function(a){if(i.isForTime(a))return i.getDuration(a);else switch(a){case h.year:return b("DateConsts").SEC_PER_DAY*b("DateConsts").AVG_DAYS_PER_YEAR;case h.month:return b("DateConsts").SEC_PER_DAY*b("DateConsts").AVG_DAYS_PER_MONTH;case h.week:return b("DateConsts").SEC_PER_DAY*b("DateConsts").DAYS_PER_WEEK;case h.day:return b("DateConsts").SEC_PER_DAY;default:g(0,5509,a)}},getDuration:function(a){switch(a){case h.hour:return b("DateConsts").SEC_PER_HOUR;case h.minute:return b("DateConsts").SEC_PER_MIN;case h.second:return 1;default:g(0,1154,a)}},isForDate:function(a){switch(a){case h.year:case h.month:case h.week:case h.day:return!0;case h.hour:case h.minute:case h.second:return!1;default:g(0,5510,a)}},isForTime:function(a){return!i.isForDate(a)}});e.exports=i}),null);
__d("SharedDateUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]}e.exports={divide:a}}),null);
__d("ISODateString",[],(function(a,b,c,d,e,f){__p&&__p();var g={parseDateComponents:function(a){var b=a.replace(/-|\+/g,""),c=b.length===10?2:0;a=a.indexOf("-")===0?-1:1;return{year:a*Number(b.substring(0,4+c)),month:Number(b.substring(4+c,6+c))||1,day:Number(b.substring(6+c,8+c))||1}},parseTimeComponents:function(a){a=a.replace(":","").replace(":","");var b=+a.substring(0,2)||0,c=+a.substring(2,4)||0;a=parseFloat(a.substring(4))||0;var d=Math.floor(a);a=Math.floor(1e3*(a-d));return{hour:b,minute:c,second:d,millisecond:a}},parseTimezone:function(a){if(!a||a==="Z")return 0;else{a=a.replace(":","");var b=a[0]==="+"?1:-1,c=+a.substring(1,3)||0;a=+a.substring(3,5)||0;return b*(3600*c+60*a)}},parseComponents:function(a){var b=a.indexOf("T"),c=b!==-1?Math.max(a.indexOf("+",b),a.indexOf("-",b)):-1,d=b!==-1?a.substring(0,b):a,e;c!==-1?e=a.substring(b+1,c):b!==-1?e=a.substring(b+1):e="";b=c!==-1?a.substring(c):"";return babelHelpers["extends"]({},g.parseDateComponents(d),g.parseTimeComponents(e||""),{offset:g.parseTimezone(b)})}};e.exports=g}),null);
__d("parseISODate",["ISODateString"],(function(a,b,c,d,e,f){function a(a){a=b("ISODateString").parseComponents(a);var c=a.year,d=a.month,e=a.day,f=a.hour,g=a.minute,h=a.second,i=a.millisecond;a=a.offset;return new Date(Date.UTC(c,d-1,e,f,g,h,i)-1e3*a)}e.exports=a}),null);
__d("DateTime",["invariant","DateConsts","Instant","PeriodUnit","SharedDateUtils","Timezone","memoizeWithArgs","monitorCodeUse","parseISODate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("SharedDateUtils").divide,i=b("Timezone").getEnvironmentTimezoneID,j=b("Timezone").UTC,k=function(){__p&&__p();function a(a,b){this.instant=a,this.timezoneID=b}var c=a.prototype;c["function"]=function(b,c){return new a(b,c)};a.now=function(c){return a.create(b("Instant").now(),c)};a.localCreate=function(b){var c=i();c||g(0,6070);return a.create(b,c)};a.localNow=function(){return a.localCreate(b("Instant").now())};a.fromLegacyArgs=function(c,d){__p&&__p();c=c;if(c&&typeof c==="object"){if(!(c instanceof Date)){var e;((e=c.constructor)==null?void 0:e.name)?e=c.constructor.name:c.constructor?e=c.constructor.toString():e=void 0;b("monitorCodeUse")("date_time_legacy_valueof_constructor",{className:e},{forceIncludeStackTrace:!0})}c=m.defaultValue(c)}if(typeof c==="number")return new a(c/b("DateConsts").MS_PER_SEC,d);else if(typeof c==="string"){b("monitorCodeUse")("date_time_legacy_string_constructor",{},{forceIncludeStackTrace:!0});return new a(new Date(c)/b("DateConsts").MS_PER_SEC,d)}else g(0,6071)};c.getRelative=function(b){return a.create(this.instant,b)};c.getRelativeInUTC=function(){return this.getRelative(j)};c.getParallel=function(c){var d=this.instant+this.getOffset();return c===j?a.create(d,j):a.create(b("Instant").getParallel(d,c),c)};c.getParallelInUTC=function(){return this.getParallel(j)};c.getEquivalentInTimezone=function(b){b=a.create(this.instant,b);return b.update(this.getYear(),this.getMonth(),this.getDayOfMonth(),this.getHours(),this.getMinutes(),this.getSeconds())};c.getEquivalentInUTC=function(){return this.getEquivalentInTimezone(0)};c.equals=function(a){return this.instant===a.instant&&this.timezoneID===a.timezoneID};c.isBefore=function(a){return this.instant<a.instant};c.isAfter=function(a){return this.instant>a.instant};c.isSameOrBefore=function(a){return this.isRelativeTo(a)||this.isBefore(a)};c.isSameOrAfter=function(a){return this.isRelativeTo(a)||this.isAfter(a)};c.isRelativeTo=function(a){return this.instant===a.instant};c.parallels=function(a){return this.getParallelInUTC().equals(a.getParallelInUTC())};c.getFields=function(){var a=this.toParallelDate();return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds()}};c.getTimezoneID=function(){return this.timezoneID};c.getTimezoneName=function(){return b("Timezone").getName(this.getTimezoneID())};c.getDayOfMonth=function(){return this.toParallelDate().getUTCDate()};c.getDayOfWeek=function(){return this.toParallelDate().getUTCDay()};c.getDayOfYear=function(){var a=this.startOfDay().instant-this.startOfYear().instant;return Math.round(a/b("DateConsts").SEC_PER_DAY)};c.getYear=function(){return this.toParallelDate().getUTCFullYear()};c.getHours=function(){return this.toParallelDate().getUTCHours()};c.getMinutes=function(){return this.toParallelDate().getUTCMinutes()};c.getMonth=function(){return this.toParallelDate().getUTCMonth()+1};c.getSeconds=function(){return this.toParallelDate().getUTCSeconds()};c.getWeekOfYear=function(){var a=this.startOfYear();a=a.equals(a.startOfWeek())?a.subtractDays(b("DateConsts").DAYS_PER_WEEK):a.startOfWeek();a=this.startOfWeek().instant-a.instant;return Math.round(a/(b("DateConsts").SEC_PER_DAY*b("DateConsts").DAYS_PER_WEEK))};c.getOffset=function(){return b("Instant").getOffset(this.instant,this.timezoneID)};c.$1=function(b){var c=this.toParallelDate();c.setUTCFullYear(b.year!=null?b.year:c.getUTCFullYear(),b.month!=null?b.month-1:c.getUTCMonth(),b.day!=null?b.day:c.getUTCDate());b.hour!=null&&c.setUTCHours(b.hour);b.minute!=null&&c.setUTCMinutes(b.minute);b.second!=null&&c.setUTCSeconds(b.second);return a.fromParallelDate(c,this.timezoneID)};c.set=function(a){a.year==null||b("Instant").wholeYearRangeInYears.since<=a.year&&a.year<b("Instant").wholeYearRangeInYears.until||g(0,1638);a.month==null||1<=a.month&&a.month<=12||g(0,1639);a.day==null||1<=a.day&&a.day<=31||g(0,1640);a.hour==null||a.hour>=0&&a.hour<=23||g(0,1151);a.minute==null||a.minute>=0&&a.minute<=59||g(0,1152);a.second==null||a.second>=0&&a.second<=59||g(0,1153);return this.$1(a)};c.update=function(a,b,c,d,e,f){return this.set({year:a,month:b,day:c,hour:d===null?void 0:d,minute:e===null?void 0:e,second:f===null?void 0:f})};c.add=function(b){__p&&__p();var c=this;if(b.month||b.year){var d=c.getMonth()+(b.month||0)+(b.year||0)*12;c=c.$1({month:d});h(c.getMonth(),12)[1]!==h(d,12)[1]&&(c=c.$1({day:0}))}b.week&&(c=c.$1({day:c.getDayOfMonth()+7*b.week}));b.day&&(c=c.$1({day:c.getDayOfMonth()+b.day}));if(b.hour||b.minute||b.second){d=c.toDate();b.hour&&d.setUTCHours(d.getUTCHours()+b.hour);b.minute&&d.setUTCMinutes(d.getUTCMinutes()+b.minute);b.second&&d.setUTCSeconds(d.getUTCSeconds()+b.second);c=a.fromDate(d,this.timezoneID)}return c};c.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};c.addDuration=function(a){return this.add({second:a})};c.subtractDuration=function(a){return this.subtract({second:a})};c.addYears=function(a){return this.add({year:a})};c.addMonths=function(a){return this.add({month:a})};c.addWeeks=function(a){return this.add({week:a})};c.addDays=function(a){return this.add({day:a})};c.addHours=function(a){return this.add({hour:a})};c.addMinutes=function(a){return this.add({minute:a})};c.addSeconds=function(a){return this.add({second:a})};c.$2=function(a){var b=this.ceil(a);return b.isEqual(this)?this.addSeconds(1).ceil(a).subtractSeconds(1):b.subtractSeconds(1)};c.endOfYear=function(){return this.$2(b("PeriodUnit").year)};c.endOfMonth=function(){return this.$2(b("PeriodUnit").month)};c.endOfWeek=function(){return this.$2(b("PeriodUnit").week)};c.endOfDay=function(){return this.$2(b("PeriodUnit").day)};c.endOfHour=function(){return this.$2(b("PeriodUnit").hour)};c.endOfMinute=function(){return this.$2(b("PeriodUnit").minute)};c.subtractYears=function(a){return this.subtract({year:a})};c.subtractMonths=function(a){return this.subtract({month:a})};c.subtractWeeks=function(a){return this.subtract({week:a})};c.subtractDays=function(a){return this.subtract({day:a})};c.subtractHours=function(a){return this.subtract({hour:a})};c.subtractMinutes=function(a){return this.subtract({minute:a})};c.subtractSeconds=function(a){return this.subtract({second:a})};c.startOfYear=function(){return this.floor(b("PeriodUnit").year)};c.startOfMonth=function(){return this.floor(b("PeriodUnit").month)};c.startOfWeek=function(){return this.floor(b("PeriodUnit").week)};c.startOfDay=function(){return this.floor(b("PeriodUnit").day)};c.startOfHour=function(){return this.floor(b("PeriodUnit").hour)};c.startOfMinute=function(){return this.floor(b("PeriodUnit").minute)};c.setYear=function(a){return this.set({year:a})};c.setMonth=function(a){return this.set({month:a})};c.setDayOfMonth=function(a){return this.set({day:a})};c.setHours=function(a){return this.set({hour:a})};c.setMinutes=function(a){return this.set({minute:a})};c.setSeconds=function(a){return this.set({second:a})};c.setDayOfWeek=function(a){a>=0&&a<=6||g(0,6072);return this.addDays(a-this.getDayOfWeek())};c.setTimezoneID=function(b){return a.create(this.instant,b)};c.floor=function(a){__p&&__p();var c={hour:0,minute:0,second:0};switch(a){case b("PeriodUnit").year:return this.set(babelHelpers["extends"]({},c,{month:1,day:1}));case b("PeriodUnit").month:return this.set(babelHelpers["extends"]({},c,{day:1}));case b("PeriodUnit").week:return this.set(c).subtractDays(this.getDayOfWeek());case b("PeriodUnit").day:return this.set(c);case b("PeriodUnit").hour:return this.set({minute:0,second:0});case b("PeriodUnit").minute:return this.set({second:0});case b("PeriodUnit").second:return this;default:g(0,5510,a)}};c.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};c.format=function(a,c){var d=this.getParallelInUTC();return b("Instant").format(d.instant,a,c)};c.getUnixTimestamp=function(){return this.instant*b("DateConsts").MS_PER_SEC};c.getUnixTimestampSeconds=function(){return this.instant};c.isEqual=function(a){return this.instant===a.instant};c.secondsUntil=function(a){return a.instant-this.instant};c.valueOf=function(){return this.instant};c.toString=function(){return this.toISOString()};c.toISOString=function(){var a=this.format("Y-m-dTH:i:s",{skipPatternLocalization:!0}),b=this.getOffset();b=(b>=0?"+":"-")+l(Math.floor(Math.abs(b)/3600))+l(Math.abs(b)%3600/60);return a+b};a.createFromISOString=function(a,b){return this.fromISOString(a,b)};c.toDate=function(){return new Date(b("DateConsts").MS_PER_SEC*this.instant)};a.fromDate=function(c,d){return a.create(Math.floor(c.getTime()/b("DateConsts").MS_PER_SEC),d)};a.localFromDate=function(c){return a.localCreate(Math.floor(c.getTime()/b("DateConsts").MS_PER_SEC))};c.toParallelDate=function(){return this.getParallelInUTC().toDate()};a.setupTimezone=function(a,c){c=c.map(function(a){return{start:a.ts,offset:-b("DateConsts").SEC_PER_MIN*a.offset}});c.push({start:b("Instant").range.until,offset:c[c.length-1].offset});b("Timezone").setupTimezone(a,c)};a.setupTimezoneFallback=function(a,c){b("Timezone").setFallbackOffset(a,c*b("DateConsts").SEC_PER_HOUR)};a.fromParallelDate=function(b,c){return a.fromDate(b,j).getParallel(c)};c.toFBDate=function(){return a.fromLegacyArgs(b("DateConsts").MS_PER_SEC*this.instant,this.timezoneID)};a.fromFBDate=function(b){return a.create(b.getUnixTimestampSeconds(),b.getTimezoneID())};c.toJSON=function(){return{instant:b("Instant").toISOString(this.instant),timezoneID:this.timezoneID}};c.fromJSON=function(c){return a.create(b("Instant").fromISOString(c.instant),c.timezoneID)};return a}();k.create=b("memoizeWithArgs")(a,function(a,b){return a+"__"+b},"DateTime.create");k.fromISOString=b("memoizeWithArgs")(c,function(a,b){return a+"__"+b},"DateTime.fromISOString");function l(a){return("0"+a).substr(-2)}var m={isPrimitive:function(a){return a==null||typeof a==="boolean"||typeof a==="number"||typeof a==="string"},defaultValue:function(a){__p&&__p();if(a instanceof Date){var b=a.toString();if(m.isPrimitive(b))return b}if(a.valueOf){b=a.valueOf();if(m.isPrimitive(b))return b}if(a.toString){b=a.toString();if(m.isPrimitive(b))return b}g(0,6073)}};function a(a,b){return new k(a,b)}function c(a,c){return k.fromDate(b("parseISODate")(a),c)}e.exports=k}),null);
__d("Instant",["invariant","BinarySearch","DateConsts","Timezone","formatDate","parseISODate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={range:b("DateConsts")["private"].instantRange,wholeYearRange:{since:-8639977881600,until:8639977881600},wholeYearRangeInYears:{since:-271820,until:275760},now:function(){return Math.floor(Date.now()/b("DateConsts").MS_PER_SEC)},getOffset:function(a,c){c=b("Timezone").getTransitions(c);return h.getOffsetUsingTransitions(a,c)},getOffsetUsingTransitions:function(a,b){a=h.getControllingTransition(a,b);return a.offset},getControllingTransition:function(a,c){var d=b("BinarySearch").greatestLowerBound(function(a){return c[a].start},a,0,c.length,function(a,b){return a-b});0<=d||g(0,13149,a,h.toISOString(a));a<c[c.length-1].start||g(0,13150,a,h.toISOString(a));return c[d]},getParallel:function(a,c){c=b("Timezone").getTransitions(c);return h.getParallelUsingTransitions(a,c)},getParallelUsingTransitions:function(a,b){b=h.getControllingTransitionsOfParallel(a,b);if(b.gapTransition!==void 0)return b.gapTransition.start;else if(b.overlapTransitions!==void 0)return a-b.overlapTransitions[0].offset;else{b.transition!==void 0||g(0,13153);return a-b.transition.offset}},getControllingTransitionsOfParallel:function(a,c){__p&&__p();var d=b("BinarySearch").leastUpperBound(function(b){var d=a-c[b].offset;if(d<c[b].start)return 1;else if(c[b].start<=d&&d<c[b+1].start)return 0;else return-1},0,0,c.length-1,function(a,b){return a-b});d<c.length-1||g(0,13151,a,h.toISOString(a));var e=c[d],f=c[d+1];1<=d||e.start<=a-e.offset||g(0,13152,a,h.toISOString(a));if(a-e.offset<e.start)return{gapTransition:e};else if(f.start<=a-f.offset)return{overlapTransitions:[e,f]};else return{transition:e}},toISOString:function(a){return h.format(a,"Y-m-dTH:i:sZ",{skipPatternLocalization:!0})},fromISOString:function(a){return Math.floor(b("parseISODate")(a).getTime()/b("DateConsts").MS_PER_SEC)},format:function(a,c,d){return b("formatDate")(a,c,babelHelpers["extends"]({},d,{utc:!0}))}};e.exports=h}),null);
__d("compareString",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}e.exports=a}),null);
__d("LazyTimezoneDatabase",["invariant","Instant","TimezoneRulesModuleParser","compareString","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.rulesModule={zones:[],ruleSets:[],version:"0",fromYear:b("Instant").wholeYearRangeInYears.until},this.zones=new Map(),this.ruleSets=new Map()}var c=a.prototype;c.registerRulesModule=function(a){if(a.fromYear<this.rulesModule.fromYear||b("compareString")(this.rulesModule.version,a.version)<0&&this.rulesModule.fromYear===a.fromYear){this.rulesModule=a;this.zones.clear();this.ruleSets.clear();return!0}else return!1};c.getZone=function(a){this.zones.has(a)||this.zones.set(a,this.$1(a));return b("nullthrows")(this.zones.get(a))};c.getRuleSet=function(a){this.ruleSets.has(a)||this.ruleSets.set(a,this.$2(a));return b("nullthrows")(this.ruleSets.get(a))};c.hasZone=function(a){return 0<=a&&a<this.rulesModule.zones.length};c.getTerminalZone=function(a){a=this.getZone(a);return typeof a.linkTo==="number"?this.getZone(a.linkTo):a};c.getZoneCount=function(){return this.rulesModule.zones.length};c.$1=function(a){__p&&__p();0<=a&&a<this.rulesModule.zones.length||g(0,5776,a);a=b("TimezoneRulesModuleParser").parseZone(this.rulesModule.zones[a],a);if(a.records)for(var c=a.records,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.ruleSetID!=null&&f.ruleSetID!==0&&this.getRuleSet(f.ruleSetID)}else this.getZone(b("nullthrows")(a.linkTo));return a};c.$2=function(a){a<this.rulesModule.ruleSets.length||g(0,5777,a);return b("TimezoneRulesModuleParser").parseRuleSet(this.rulesModule.ruleSets[a],a)};return a}();e.exports=a}),null);
__d("LocalDate",["invariant","DateConsts","DateTime","Instant","PeriodUnit","SharedDateUtils","Timezone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DateConsts").MS_PER_DAY,i=b("DateConsts").MS_PER_SEC,j=b("DateConsts").SEC_PER_DAY,k=b("SharedDateUtils").divide,l=b("Timezone").UTC;a=function(){__p&&__p();function a(a,b,c){this.year=a,this.month=b,this.day=c}a.apply=function(b){return new a(b.year,b.month,b.day)};a.create=function(b,c,d){return new a(b,c,d)};a.today=function(c){return a.fromDateTime(b("DateTime").now(c))};var c=a.prototype;c.equals=function(a){return this.year===a.year&&this.month===a.month&&this.day===a.day};c.hashCode=function(){return(this.year*12+this.month)*30+this.day};c.compare=function(a){var b;b=this.year-a.year;if(b)return b;b=this.month-a.month;if(b)return b;b=this.day-a.day;return b};c.isBefore=function(a){return this.compare(a)<0};c.isAfter=function(a){return this.compare(a)>0};c.isBeforeOrEqual=function(a){return this.compare(a)<=0};c.isAfterOrEqual=function(a){return this.compare(a)>=0};c.min=function(a){return this.isBefore(a)?this:a};c.max=function(a){return this.isBefore(a)?a:this};c.getDayOfYear=function(){var a=this.toInstant(l)-this.startOfYear().toInstant(l);return Math.round(a/b("PeriodUnit").getApproximateDuration(b("PeriodUnit").day))};c.getDayOfMonth=function(){return this.day};c.getDayOfWeek=function(){return this.toUTCDate().getUTCDay()};c.getMonth=function(){return this.month};c.getYear=function(){return this.year};c.$1=function(b){var c=this.toUTCDate();c.setUTCFullYear(b.year!=null?b.year:c.getUTCFullYear(),b.month!=null?b.month-1:c.getUTCMonth(),b.day!=null?b.day:c.getUTCDate());return a.fromUTCDate(c)};c.set=function(a){a.year==null||b("Instant").wholeYearRangeInYears.since<=a.year&&a.year<b("Instant").wholeYearRangeInYears.until||g(0,1638);a.month==null||1<=a.month&&a.month<=12||g(0,1639);a.day==null||1<=a.day&&a.day<=31||g(0,1640);return this.$1(a)};c.add=function(a){var b=this;if(a.month||a.year){var c=b.month+(a.month||0)+(a.year||0)*12;b=b.$1({month:c});k(b.month,12)[1]!==k(c,12)[1]&&(b=b.$1({day:0}))}a.week&&(b=b.$1({day:b.getDayOfMonth()+7*a.week}));a.day&&(b=b.$1({day:b.day+a.day}));return b};c.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};c.daysBetween=function(a){var b=this;b=b.toInstant(l)-a.toInstant(l);return Math.abs(b/j)};c.addYears=function(a){return this.add({year:a})};c.addMonths=function(a){return this.add({month:a})};c.addWeeks=function(a){return this.add({week:a})};c.addDays=function(a){return this.add({day:a})};c.subtractYears=function(a){return this.subtract({year:a})};c.subtractMonths=function(a){return this.subtract({month:a})};c.subtractWeeks=function(a){return this.subtract({week:a})};c.subtractDays=function(a){return this.subtract({day:a})};c.startOfYear=function(){return this.floor(b("PeriodUnit").year)};c.startOfMonth=function(){return this.floor(b("PeriodUnit").month)};c.startOfWeek=function(){return this.floor(b("PeriodUnit").week)};c.floor=function(a){var c={hour:0,minute:0,second:0};switch(a){case b("PeriodUnit").year:return this.set(babelHelpers["extends"]({},c,{month:1,day:1}));case b("PeriodUnit").month:return this.set(babelHelpers["extends"]({},c,{day:1}));case b("PeriodUnit").week:return this.set(c).subtractDays(this.getDayOfWeek());case b("PeriodUnit").day:return this.set(c);default:g(0,1641,a)}};c.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};c.format=function(a,c){return b("Instant").format(this.toInstant(l),a,c)};c.toString=function(){return this.toISOString()};c.toISOString=function(){return this.format("Y-m-d",{skipPatternLocalization:!0})};a.fromISOString=function(b){var c=/^(\d+)-(\d+)-(\d+)/;c=c.exec(b);c!=null||g(0,18351,b,typeof b);c[0];b=c[1];var d=c[2];c=c[3];return a.create(+b,+d,+c)};c.toUTCDate=function(){return new Date(i*this.toInstant(l))};a.fromUTCDate=function(b){return a.create(b.getUTCFullYear(),b.getUTCMonth()+1,b.getUTCDate())};c.toInstant=function(a){var c=Date.UTC(this.year,this.month-1,this.day)/i;return b("Instant").getParallel(c,a)};a.fromInstant=function(c,d){c=c+b("Instant").getOffset(c,d);return a.fromUTCDate(new Date(i*c))};c.toDateTime=function(a){return b("DateTime").create(this.toInstant(a),a)};a.fromDateTime=function(b){b=b.getFields();return a.create(b.year,b.month,b.day)};c.toFBDate=function(a){return b("DateTime").fromLegacyArgs(i*this.toInstant(a),a)};a.fromFBDate=function(b){return a.create(b.getYear(),b.getMonth(),b.getDayOfMonth())};c.toDaysSinceEpoch=function(){var a=this.toInstant(l);return Math.floor(a/b("PeriodUnit").getApproximateDuration(b("PeriodUnit").day))};a.fromDaysSinceEpoch=function(b){return a.fromUTCDate(new Date(b*h))};c.toJSON=function(){return this.toISOString()};c.fromJSON=function(b){return a.fromISOString(b)};c.toTimestampInMilliseconds=function(a){return this.toInstant(a)*i};a.fromTimestampInMilliseconds=function(b,c){return a.fromInstant(b/i,c)};return a}();e.exports=a}),null);
__d("RulesTimezoneTransitionProvider",["DateConsts","LazyTimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[1860,2100];a=function(){function a(){this.tzDatabase=new(b("LazyTimezoneDatabase"))()}var c=a.prototype;c.generateTransitions=function(a){var c=this,d=[Math.max(this.tzDatabase.rulesModule.fromYear,g[0]),g[1]];return b("TimezoneDatabaseUtil").generateTransitions(this.tzDatabase.getTerminalZone(a),function(a){return c.tzDatabase.getRuleSet(a)},d.map(function(a){return Date.UTC(a,1-1,1)/b("DateConsts").MS_PER_SEC}))};return a}();e.exports=new a()}),null);
__d("EnvironmentTimezoneDecisionTree",["requireCond","cr:1180180"],(function(a,b,c,d,e,f){e.exports=b("cr:1180180")}),null);
__d("TimezoneUtil",["BinarySearch","DateConsts"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={constantOffsetTransitions:function(a){return[{start:b("DateConsts")["private"].instantRange.since,offset:a},{start:b("DateConsts")["private"].instantRange.until,offset:NaN}]},extractTimezoneTransitions:function(a,c){__p&&__p();c===void 0&&(c=g.getDefaultExtractionOptions());var d=[],e=a(c.start);d.push({start:c.start,offset:e});var f=function(f){var g=f+c.step,i=a(g);if(e!==i){f=b("BinarySearch").leastUpperBound(function(b){return a(b)===i},1,f,g,function(a,b){return a-b});f<c.end&&d.push({start:f,offset:i})}e=i};for(var h=c.start;h<c.end;h+=c.step)f(h);d.push({start:c.end,offset:NaN});return d},determineTimezoneID:function(a,b){if(a.timezone!=null)return a.timezone;else{var c=a.instant!=null&&b(a.instant);a=a[String(c)];return a?g.determineTimezoneID(a,b):void 0}},getDefaultExtractionOptions:function(){return{start:new Date("2004-01-01").valueOf()/b("DateConsts").MS_PER_SEC,end:new Date("2107-01-01").valueOf()/b("DateConsts").MS_PER_SEC,step:30*b("DateConsts").SEC_PER_DAY}},namesModuleIsSane:function(a){return a.zoneNames["1"]==="America/Los_Angeles"&&a.zoneNames["141"]==="Africa/Johannesburg"&&a.zoneNames["464"]==="WET"}};e.exports=g}),null);
__d("FormatExtractionTimezoneTransitionProvider",["TimezoneUtil","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={extractionStatuses:{}};function h(a){__p&&__p();var c;b("requireWeak")("TimezoneNamesData",function(a){return c=a});try{var d=Object.prototype.hasOwnProperty.call(window,"Intl")&&typeof Intl==="object";d=d&&Object.prototype.hasOwnProperty.call(Intl,"DateTimeFormat")}catch(a){return null}if(!d||!c)return null;d=c.zoneNames[a];if(!d)return null;try{return new Intl.DateTimeFormat("en-US",{timeZone:d,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1})}catch(a){return null}}function i(a,b){a=a.format(new Date(b*1e3));return j(a)/1e3-b}function j(a){a=a.match(/\d+/g);if(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];return Date.UTC(+d,+b-1,+c,+e,+f,+a)}return NaN}a={extractOrNull:function(a){__p&&__p();if(g.extractionStatuses[a]==="error")return null;var c=h(a);if(!c){g.extractionStatuses[a]="error";return null}try{c=b("TimezoneUtil").extractTimezoneTransitions(i.bind(null,c));g.extractionStatuses[a]="success";return c}catch(b){g.extractionStatuses[a]="error";return null}},_intlFormattedDateToUTC:j};e.exports=a}),null);
__d("TimezoneNamesData",["requireCond","cr:1180181"],(function(a,b,c,d,e,f){e.exports=b("cr:1180181")}),null);
__d("TimezoneRulesFrom2009",["requireCond","cr:1180184"],(function(a,b,c,d,e,f){e.exports=b("cr:1180184")}),null);
__d("Timezone",["invariant","DateConsts","EnvironmentTimezoneDecisionTree","FormatExtractionTimezoneTransitionProvider","TimezoneUtil","gkx","memoize","nullthrows","warning","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={constantOffsets:{},namesModule:void 0,overrideTransitions:{},providerEnabled:{override:!0,builtin:!0,rules:!1,formatExtraction:!0,environmentExtraction:!0,constantOffset:!0},rulesProvider:void 0,timezoneIDsByName:void 0,transitionsByTimezoneID:{}},i=1e4,j=function(a){return new Date(1e3*a).getTimezoneOffset()*-60},k={UTC:0,PST8PDT:1,setupTimezone:function(a,b){k.overrideTransitions(a,b)},overrideTransitions:function(a,b){h.overrideTransitions[a]=b,delete h.transitionsByTimezoneID[a]},setupTimezoneWithPHPTransitions:function(a,c){c=c.map(function(a){return{start:typeof a.ts==="number"?a.ts:NaN,offset:typeof a.offset==="number"?a.offset:NaN}});c.push({start:b("DateConsts")["private"].instantRange.until,offset:NaN});k.setupTimezone(a,c)},setFallbackOffset:function(a,b){h.constantOffsets[a]=b},registerRulesModule:function(a,b){h.rulesProvider=a;a=a.tzDatabase.registerRulesModule(b);a&&(h.transitionsByTimezoneID={})},registerNamesModule:function(a){(!h.namesModule||h.namesModule.version<a.version)&&(b("warning")(b("TimezoneUtil").namesModuleIsSane(a),"Attemping to register a names module that incorrectly enumerates existing timezones. Check that you are using the TimezoneNamesData module."),h.namesModule=a,h.timezoneIDsByName=void 0)},registerDefaultNamesAndRulesModules:function(){k.registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009")),k.registerNamesModule(b("TimezoneNamesData")),k.toggleTransitionProvider("rules",!0)},getTransitions:function(a){h.transitionsByTimezoneID[a]||(h.transitionsByTimezoneID[a]=k.computeTransitions(a));return h.transitionsByTimezoneID[a]},computeTransitions:function(a){__p&&__p();if(h.overrideTransitions[a])return h.overrideTransitions[a];if(a===k.UTC)return b("TimezoneUtil").constantOffsetTransitions(0);var c=h.rulesProvider;if(h.providerEnabled.rules&&c&&c.tzDatabase.hasZone(a))return c.generateTransitions(a);if(h.providerEnabled.formatExtraction){c=b("FormatExtractionTimezoneTransitionProvider").extractOrNull(a);if(c)return c}if(h.providerEnabled.environmentExtraction&&(a==k.getEnvironmentTimezoneID()||a===i))return b("TimezoneUtil").extractTimezoneTransitions(j);if(h.providerEnabled.constantOffset&&Object.prototype.hasOwnProperty.call(h.constantOffsets,a)){b("warning")(!1,"Timezone %s is configured with a constant offset. This is error prone, and support for it will be removed in the near future.",a);return b("TimezoneUtil").constantOffsetTransitions(h.constantOffsets[a])}g(0,1059,a)},toggleTransitionProvider:function(a,b,c){c===void 0&&(c=!0),a==="rules"||a==="formatExtraction"||a==="environmentExtraction"||a==="constantOffset"||g(0,1060,a),h.providerEnabled[a]=b,c&&(h.transitionsByTimezoneID={})},isTransitionProviderEnabled:function(a){return h.providerEnabled[a]},getEnvironmentTimezoneID:b("memoize")(function(){if(!b("gkx")("1111356"))return k.getEnvironmentTimezoneIDFromTree();var a="";Intl!=null&&Intl.DateTimeFormat()!=null&&Intl.DateTimeFormat().resolvedOptions()!=null&&(a=Intl.DateTimeFormat().resolvedOptions().timeZone||"");var c;h.namesModule&&a!==""&&(c=k.getByNameOrNull(a));c==null&&(c=k.getEnvironmentTimezoneIDFromTree());return c}),getEnvironmentTimezoneIDFromTree:function(){return b("TimezoneUtil").determineTimezoneID(b("EnvironmentTimezoneDecisionTree"),j)||i},getName:function(a){return a===i?"Environment/Local":k.getExactName(a)},getExactName:function(a){var b=k["private"].getNamesModule("Timezone.getName");return b.zoneNames[String(a)]},getByName:function(a){return b("nullthrows")(k.getByNameOrNull(a),"Did not find id for timezone "+a)},getByNameOrNull:function(a){__p&&__p();if(!h.timezoneIDsByName){k["private"].getNamesModule("Timezone.getByName");var b={};for(var c=k["private"].computeTimezoneIDs(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=k.getName(f);b[g]=f}h.timezoneIDsByName=b}return h.timezoneIDsByName[a]},getGeographicTimezoneCount:function(){var a=h.rulesProvider;a&&a.tzDatabase.getZoneCount()||h.namesModule||g(0,1061);return a&&a.tzDatabase.getZoneCount()||Object.keys(k["private"].getNamesModule().zoneNames).length},clampTimestamp:function(a,c){c=k.getTransitions(c);c=c[c.length-1];c=c.start;return Math.min(a,c-1,b("DateConsts")["private"].instantRange.until-1)},"private":{state:h,localTimezoneID:i,computeTimezoneIDs:function(){var a=new Set(),b=k.getGeographicTimezoneCount();for(var c=0;c<b;c++)a.add(c);a.add(i);return a},getNamesModule:function(a){a===void 0&&(a="Timezone.getNamesModule");h.namesModule||g(0,1062,a);return b("nullthrows")(h.namesModule)}}};k.setFallbackOffset(k.PST8PDT,-7*b("DateConsts").SEC_PER_HOUR);e.exports=k}),null);
__d("TimezoneDatabaseUtil",["invariant","BinarySearch","Instant","LocalDate","Timezone","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Timezone").UTC,i=function(a,b){var c=a/b;a=a%b;var d=b>0?1:-1;return a>=0?[c,a]:[c-d,a+d*b]},j={dayOfWeekAbbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],evalDayExpr:function(a,c,d){__p&&__p();var e=a.afterOrOn,f=a.beforeOrOn,h=a.dayOfMonth,j=a.dayOfWeek;a=a.lastDayOfWeek;if(h!=null)return h;else if(a!=null){h=b("LocalDate").create(c,d,1).addMonths(1);a=i(a-h.getDayOfWeek(),7);a[0];a=a[1];return h.addDays(a-7).getDayOfMonth()}else if(f!=null){h=b("LocalDate").create(c,d,f).addDays(1);a=i(b("nullthrows")(j)-h.getDayOfWeek(),7);a[0];f=a[1];return h.addDays(f-7).getDayOfMonth()}else if(e!=null){a=b("LocalDate").create(c,d,e);h=i(b("nullthrows")(j)-a.getDayOfWeek(),7);h[0];f=h[1];return a.addDays(f).getDayOfMonth()}else g(0,1538)},parseOffset:function(a){a=/([+-]?)(\d+)(:(\d+))?(:(\d+))?/.exec(a);var b=a[1]!=="-"?1:-1,c=+a[2]||0,d=+a[4]||0;a=+a[6]||0;return b*(3600*c+60*d+a)},parseDayExpr:function(a){__p&&__p();var b;if(b=/^(\w\w\w)([><]=)(\d+)$/.exec(a)){var c=j.dayOfWeekAbbrs.indexOf(b[1]),d=+b[3];if(b[2]===">=")return{afterOrOn:d,dayOfWeek:c};else return{beforeOrOn:d,dayOfWeek:c}}else if(b=/^last(\w\w\w)$/.exec(a))return{lastDayOfWeek:j.dayOfWeekAbbrs.indexOf(b[1])};else if(b=/^\d+$/.exec(a))return{dayOfMonth:+b[0]};else g(0,2938,a)},getPreviousActiveYear:function(a,c){__p&&__p();var d=b("Instant").wholeYearRangeInYears.since;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.years[0]<c)if(c<=g.years[1])return c-1;else d=Math.max(d,g.years[1]-1)}return d},getActiveRules:function(a,c){__p&&__p();var d=[];for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var i=[Math.max(g.years[0],c[0]),Math.min(g.years[1],c[1])];for(var k=i[0];k<i[1];k++){var l=j.evalDayExpr(g.day,k,g.month);l=b("LocalDate").create(k,g.month,l).toInstant(h);d.push({rule:g,utcMidnight:l})}}d.sort(function(a,b){return a.utcMidnight-b.utcMidnight});return d},getParallelInStandardOffset:function(a,c){__p&&__p();var d=b("BinarySearch").leastUpperBound(function(b){var d=a-(c[b].offset-c[b].dstOffset);if(d<c[b].start)return 1;else if(c[b].start<=d&&d<c[b+1].start)return 0;else return-1},0,0,c.length-1,function(a,b){return a-b});0<=d&&d<c.length-1||g(0,2939,a);return a-(c[d].offset-c[d].dstOffset)},generateTransitionForRule:function(a,c,d,e){var f;d.at.type==="wall"?f=b("Instant").getParallelUsingTransitions(e+d.at.time-1,a)+1:d.at.type==="standard"?f=j.getParallelInStandardOffset(e+d.at.time-1,a)+1:d.at.type==="utc"?f=e+d.at.time:g(0,797);return{start:f,offset:c+d.dstOffset,dstOffset:d.dstOffset}},pushTransition:function(a,b){var c=a.pop(),d=a[a.length-1];d.start===b.start?(a.pop(),a.push(b)):d.start<b.start&&b.start<c.start&&a.push(b);a.push(c)},pushTransitionsForRules:function(a,c,d,e){__p&&__p();var f=function(b){return j.generateTransitionForRule(a,c,b.rule,b.utcMidnight)},g=[j.getPreviousActiveYear(d,b("LocalDate").fromInstant(e[0],h).floor("year").year),b("LocalDate").fromInstant(e[1],h).ceil("year").year];d=j.getActiveRules(d,g);for(g=0;g<d.length;g++)if(e[0]<f(d[g]).start)break;g=g-1;var i=g!==-1?d[g].rule.dstOffset:0;i={start:e[0],offset:c+i,dstOffset:i};j.pushTransition(a,i);for(var i=g+1;i<d.length;i++){g=f(d[i]);if(e[1]<=g.start)break;j.pushTransition(a,g)}},generateRichTransitions:function(a,c,d,e){__p&&__p();var f=b("nullthrows")(a.records);f[0].interval[0]<=d[0]&&d[1]<=f[f.length-1].interval[1]||g(0,2940);if(e==null){a=j.generateRichTransitions(a,c,[d[0]-365*24*3600,d[0]],0);e=a[a.length-2].dstOffset}a=f.filter(function(a){return d[0]<a.interval[1]&&a.interval[0]<d[1]});f=[{start:b("Instant").range.since,offset:a[0].offset,dstOffset:e},{start:b("Instant").range.until,offset:NaN,dstOffset:NaN}];for(var e=a,a=Array.isArray(e),h=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(a){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.ruleSetID!=null?j.pushTransitionsForRules(f,i.offset,c(i.ruleSetID).rules,[Math.max(d[0],i.interval[0]),Math.min(d[1],i.interval[1])]):j.pushTransition(f,{start:i.interval[0],offset:i.offset+b("nullthrows")(i.dstOffset),dstOffset:b("nullthrows")(i.dstOffset)})}j.restrictTransitions(f,d);return f},generateTransitions:function(a,b,c){a=j.generateRichTransitions(a,b,c,void 0);return j.compactifyTransitions(a)},restrictTransitions:function(a,c){__p&&__p();var d=b("BinarySearch").greatestLowerBound(function(b){return a[b].start},c[0],0,a.length,function(a,b){return a-b});0<=d||g(0,2941,a[0].start,a[a.length-1].start,c[0],c[1]);a.splice(0,d+1,babelHelpers["extends"]({},a[d],{start:c[0]}));d=b("BinarySearch").leastUpperBound(function(b){return a[b].start},c[1],0,a.length,function(a,b){return a-b});d<a.length||g(0,2942,a[0].start,a[a.length-1].start,c[0],c[1]);a.splice(d,a.length-d,{start:c[1],offset:NaN,dstOffset:NaN})},compactifyTransitions:function(a){var b=[],c=a[0].offset;b.push(a[0]);for(var d=1;d<a.length-1;d++){var e=a[d];!isNaN(e.offset)&&e.offset!==c&&(c=e.offset,b.push(e))}b.push(a[a.length-1]);return b}};e.exports=j}),null);
__d("TimezoneDatabase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a,b,c,d){a===void 0&&(a=new Map()),b===void 0&&(b=new Map()),this.zones=a,this.ruleSets=b,this.version=c,this.years=d}var b=a.prototype;b.set=function(b){var c=b.version;return new a(b.zones||this.zones,b.ruleSets||this.ruleSets,c!=null&&c!=""?c:this.version,b.years||this.years)};return a}();e.exports=a}),null);
__d("TimezoneRulesModuleParser",["Instant","TimezoneDatabase","TimezoneDatabaseUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c},h={extractTimeType:function(a){if(a.endsWith("u"))return{timeString:a.substring(0,a.length-1),timeType:"utc"};else if(a.endsWith("s"))return{timeString:a.substring(0,a.length-1),timeType:"standard"};else return{timeString:a,timeType:"wall"}},parseRule:function(a){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4];a=a[5];c=+c;g=h.extractTimeType(g);var i=g.timeType;g=g.timeString;return{years:[c,d==="-"?b("Instant").wholeYearRangeInYears.until:c+ +d],month:+e,day:b("TimezoneDatabaseUtil").parseDayExpr(f),at:{type:i,time:b("TimezoneDatabaseUtil").parseOffset(g)},dstOffset:b("TimezoneDatabaseUtil").parseOffset(a)}},parseRuleSet:function(a,b){a=a.split(" ");a=g(a,6).map(h.parseRule);return{id:b,rules:a,name:void 0}},parseZoneRecord:function(a){var c=a[0],d=a[1];a=a[2];var e,f;d==="-"?(e=void 0,f=0):d.startsWith("dst:")?(e=void 0,f=b("TimezoneDatabaseUtil").parseOffset(d.substring(4))):(e=+d,f=void 0);d=[NaN,a!=="-"?+a:b("Instant").wholeYearRange.until];return{offset:b("TimezoneDatabaseUtil").parseOffset(c),ruleSetID:e,interval:d,dstOffset:f}},parseZone:function(a,c){if(typeof a==="string"){var d=a.split(" ");d=g(d,3).map(h.parseZoneRecord);d[0].interval[0]=b("Instant").range.since;for(var e=1;e<d.length;e++)d[e].interval[0]=d[e-1].interval[1];return{id:c,linkTo:void 0,records:d,name:void 0}}else return{id:c,linkTo:a,records:null,name:void 0}},parse:function(a){var c=new Map();a.zones.forEach(function(a,b){a=h.parseZone(a,+b);c.set(a.id,a)});var d=new Map();a.ruleSets.forEach(function(a,b){a=h.parseRuleSet(a,+b);d.set(a.id,a)});return new(b("TimezoneDatabase"))(c,d,a.version,[a.fromYear,b("Instant").wholeYearRangeInYears.until])}};e.exports=h}),null);
__d("XChatRemoveParticipantAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/remove_participants/",{elem_id:{type:"String"},uid:{type:"Int"},tid:{type:"String"}})}),null);
__d("XGroupsJoinChatController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/join_chat/",{link_hash:{type:"String"}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/block_messages/",{})}),null);
__d("XMessagingGroupJoinThroughHashController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_hash/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughPrivateLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_invite/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinableAcceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_accept/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupJoinableRejectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_reject/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingJoinableLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_link_action/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_admins/",{thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingSaveGroupThreadDescriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_group_thread_description/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSetThreadNameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_name/",{})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/ignore_messages/",{thread_fbid:{type:"Int",required:!0},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/block_messages/",{thread_fbid:{type:"Int",required:!0},responsible_id:{type:"Int"},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},entry_point:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){h(0,2095)}a.withParams=function(a,b){h(0,2095)};a._=function(a,b,c,d){b=b(g);c=c(g,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};e.exports=a}),null);
__d("MessageReactionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1491398900900362"};b.getQueryID=function(){return"254517288326467"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ContextualLayerAutoFlipHorizontal",["ContextualLayerAutoFlip"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getValidPositions=function(a){return[a.getPosition()]};return b}(b("ContextualLayerAutoFlip"));e.exports=a}),null);
__d("ContextualLayerHideOnScrollOut",["Event","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.enable=function(){this.$4==null&&(this.$4=new(b("SubscriptionsHandler"))(),this.$4.addSubscriptions(this.$1.subscribe("contextchange",this.$5.bind(this)),this.$1.subscribe("show",this.$6.bind(this)),this.$1.subscribe("hide",this.$7.bind(this))))};c.disable=function(){this.$4!=null&&(this.$4.release(),this.$4=null),this.$7()};c.$6=function(){if(this.$2==null){this.$3=this.$1.getContextScrollParent();if(this.$3===window)return;this.$2=b("Event").listen(this.$3,"scroll",this.$8.bind(this))}};c.$7=function(){this.$2&&(this.$2.remove(),this.$2=null,this.$3=null)};c.$8=function(){var a=this.$3,b=this.$1;if(a==null||b==null)return;var c=b.getContent().getBoundingClientRect();a=a.getBoundingClientRect();var d=c.bottom<=a.top||c.top>=a.bottom;c=c.right<=a.left||c.left>=a.right;(d||c)&&b.hide()};c.$5=function(){this.detach!==null&&this.detach(),this.attach!=null&&this.$1.isShown()&&this.attach()};return a}();e.exports=a}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};c._attachScrollListener=function(){var a=this,c=this._layer.getContextScrollParent(),d=this._layer.getInsertScrollParent();if(this._listener!=null||c===d)return;this._listener=b("Event").listen(c,"scroll",function(){a._layer.updatePosition()})};c._removeScrollListener=function(){this._listener&&this._listener.remove(),this._listener=null};return a}();Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerHideOnScrollOut"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_4owc"}}));e.exports=a}),null);
__d("MessengerReactionsFlyoutButtonBootloader.react",["AutoFocusableLink.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("MessengerReactionsFlyoutButton.react").__setRef("MessengerReactionsFlyoutButtonBootloader.react"));a=function(a){var c,d=(c=b("React")).jsx(c.Suspense,{fallback:c.jsx(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName}),children:c.jsx(g,babelHelpers["extends"]({},a,{className:a.iconClassName}))});return c.jsxs("li",{className:a.interactionClassName,children:[" ",d," "]})};e.exports=a}),null);
__d("MessengerReactionNames",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOVE:"love",HAHA:"haha",WOW:"wow",SAD:"sad",ANGRY:"angry",THUMBSUP:"thumbsup",THUMBSDOWN:"thumbsdown"})}),null);
__d("MessengerViewer",["CurrentUser","React"],(function(a,b,c,d,e,f){"use strict";e.exports=b("React").createContext(b("CurrentUser").getID())}),null);
__d("objectValues",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.values(a)}e.exports=a}),null);
__d("MessengerReactionsMenu.react",["cx","fbt","Promise","Bootloader","CSS","DOMContainer.react","EmojiFormat.re","MercuryIDs","MercuryThreadActions","MessageReactionMutationWebGraphQLMutation","MessengerMessageActionsTypedLogger","MessengerReactionsContextualDialog.react","MessengerReactionsFlyoutButtonBootloader.react","MessengerReactionStaticEmoji.react","MessengerReactionsUtil.re","MessengerReactionsWebConfig","MessengerState.re","MessengerSupportedEmojiUtils","MessengerViewer","React","XAsyncRequest","createCancelableFunction","emptyFunction","getThreadTypeNameFromThreadType","gkx","objectValues","promiseDone","qex","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get(),j=b("WorkChatRedesignedMessageListCheck.re").enabled;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={animations:{},reactions:b("MessengerReactionsUtil.re").defaultReactions.slice()},d.$5=function(a){a||d.props.onHide()},d.$9=function(a){d.$6(b("EmojiFormat.re").codeArrayToUnicode(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("gkx")("678614")&&(this.$1=b("createCancelableFunction")(function(b){return a.setState({animations:b})}),b("promiseDone")(this.loadAnimations(),this.$1));this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){this.$2()};d.componentWillUnmount=function(){b("objectValues")(this.state.animations).forEach(function(a){a.renderer&&typeof a.renderer.pause==="function"&&a.renderer.pause()}),this.$1&&this.$1.cancel()};d.$2=function(){var a=b("MessengerReactionsUtil.re").defaultReactions.slice(),c=this.props.message.reactions;c=c&&c[this.context];b("qex")._("705431")&&c!=null&&c!=""&&!a.includes(c)&&a.push(c);this.setState({reactions:a})};d.$3=function(){return new(b("Promise"))(function(a){return b("Bootloader").loadModules(["Keyframes"],function(b){return a(b)},"MessengerReactionsMenu.react")})};d.$4=function(){__p&&__p();return this.$3().then(function(a){return b("Promise").all(b("MessengerReactionsUtil.re").reactionsSortOrder.map(function(c){return a.requestRenderer(b("MessengerReactionsWebConfig").paths[c.name],{projectName:"messaging_reactions",assetName:c.name})}))}).then(function(a){return a.map(function(a){a=a.setWidth(j?38:45).setHeight(j?38:45).repeatForever().play().redrawIfNeeded();var c=a.getElement();b("CSS").addClass(c,"_37pj");j&&b("CSS").addClass(c,"_8i1p");return{element:c,renderer:a}}).reduce(function(a,c,d){a[b("MessengerReactionsUtil.re").defaultReactions[d]]=c;return a},{})})};d.loadAnimations=function(){var a=Date.now(),c=this.$4();b("promiseDone")(c,function(c){b("Bootloader").loadModules(["MessengerRestReactionTypedLogger"],function(b){new b().setLoadedTime(Date.now()-a).log()},"MessengerReactionsMenu.react")});return c};d.render=function(){var a=this,c=this.context,d=this.props.message.reactions&&this.props.message.reactions[c];return b("React").jsx(b("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,shown:!0,onBlur:this.props.onHide,onToggle:this.$5,children:b("React").jsxs("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2",children:[this.state.reactions.map(function(c){var e=b("MessengerReactionsUtil.re").defaultReactions.slice().includes(c);return b("React").jsx("span",{className:"_1z8r"+(c===d?" _5-2b":""),"aria-label":c,id:c,onClick:function(){return a.$6(c)},role:"option","aria-selected":c===d,tabIndex:"0",children:a.state.animations[c]?b("React").jsx(b("DOMContainer.react"),{children:a.state.animations[c].element}):b("React").jsx(b("MessengerReactionStaticEmoji.react"),{reaction:c,isDefaultReaction:e})},c)}),this.$7()]})})};d.$8=function(a){return!b("MessengerReactionsUtil.re").defaultReactions.includes(a)?b("MessengerSupportedEmojiUtils").getSupportedEmojiKey(a):a};d.$7=function(){var a=this.props.message,c={onSelect:this.$9,getInput:b("emptyFunction")};a=a.thread_id;var d=this.state.reactions.length!==b("MessengerReactionsUtil.re").defaultReactions.length;return b("qex")._("705431")&&!d?b("React").jsx(b("MessengerReactionsFlyoutButtonBootloader.react"),{contextRef:this.props.refProp,dialogProps:{offsetX:140,offsetY:53},flyoutAlignment:"right",flyoutProps:c,iconClassName:"_70b-",interactionClassName:"_1z8r",threadID:a,title:h._("Ch\u1ecdn bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac")},"emojireact"):null};d.$10=function(){i.markRead(this.props.message.thread_id),i.markSeen(this.props.message.thread_id)};d.$6=function(a){__p&&__p();var c=this,d=this.props,e=d.message,f=d.entryPoint,g=this.context,h=e.reactions&&e.reactions[g],i=b("MessengerState.re").getServerMessageID(g,e.message_id);d=b("MessageReactionMutationWebGraphQLMutation").getURI({action:a===h?"REMOVE_REACTION":"ADD_REACTION",message_id:i,actor_id:g,reaction:a});var j=function(d){var j=e.other_user_fbid||e.thread_fbid,k=b("MessengerState.re").getThreadMetaNow(g,e.thread_id),l=k&&k.participants?k.participants.length:0;k=b("getThreadTypeNameFromThreadType")(k&&k.thread_type);var m=e.attachments[0];l=new(b("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(e.offline_threading_id).setMid(i).setRecipientID(b("MercuryIDs").getUserIDFromParticipantID(e.author)).setEntryPoint(f).setReaction(c.$8(a)).setPreviousReaction(c.$8(h)).setGroupSize(l).setThreadType(k).setThreadid(j);d.errorSummary!=null&&(l=l.setErrorText(d.errorSummary.toString()));m!=null&&(l=l.setMessageType(m.attach_type));l.log();c.$10()};new(b("XAsyncRequest"))(d).setMethod("POST").setHandler(j).send();this.props.onHide()};return c}(b("React").Component);a.contextType=b("MessengerViewer");e.exports=a}),null);
__d("MessengerReactionsPrompt.react",["cssVar","cx","fbt","ix","CurrentUser","Image.react","MessengerDotComAndInboxM4Check.re","MessengerReactIconSVGM4React.re","MessengerReactionsMenu.react","React","WorkChatRedesignedMessageListCheck.re","asset","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hover:!1,open:!1},c.$2=function(a){a.stopPropagation(),c.setState({open:!0},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!0)},c.$3=function(){c.setState({open:!1},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(this.props.messageIsSelected!==!0&&!this.state.open)return null;var c=null;if(this.props.isEdit===!0&&b("WorkChatRedesignedMessageListCheck.re").enabled){var d=this.state.hover||this.state.open?j("559624"):j("559623");c=b("React").jsx(b("Image.react"),{src:d})}else if(b("WorkChatRedesignedMessageListCheck.re").enabled){d=this.state.hover||this.state.open?j("895450"):j("895449");c=b("React").jsx(b("Image.react"),{src:d})}else if(this.props.isQuickAdd){d=j("278123");c=b("React").jsx(b("Image.react"),{src:d})}else if(b("CurrentUser").isWorkUser()){d=this.state.open?j("559649"):j("559648");c=b("React").jsx(b("Image.react"),{src:d})}else if(b("MessengerDotComAndInboxM4Check.re").yes)c=b("MessengerReactIconSVGM4React.re").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)");else{d=this.state.open?j("559646"):j("559647");c=b("React").jsx(b("Image.react"),{src:d})}d=i._("B\u00e0y t\u1ecf c\u1ea3m x\u00fac");d=b("tooltipPropsFor")(d,"above",b("WorkChatRedesignedMessageListCheck.re").enabled?"right":"center");return b("React").jsxs("span",babelHelpers["extends"]({},d,{className:(this.props.isQuickAdd?"":"_5zvq")+(b("MessengerDotComAndInboxM4Check.re").yes&&!this.props.isQuickAdd?" _7i2o":"")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?this.$1:this.$2,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})},role:"button",tabIndex:"0",ref:"button",children:[c,this.renderMenu()]}))};d.renderMenu=function(){var a=this;return!this.state.open?null:b("React").jsx(b("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",message:this.props.message,onHide:this.$3,refProp:function(){return a.refs.button}})};d.$1=function(a){a.stopPropagation()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryConfig","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerReactionsPrompt.react","MessengerReactionStaticEmoji.react","MessengerReactionsUtil.bs","MessengerWebViewReactionsTypedLogger","React","ShimButton.react","TooltipData","WorkChatRedesignedMessageListCheck.re"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="ALL",j=b("CurrentUser").getID(),k=3,l=9;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={reactionsPromptShown:!1},d.$1=function(a){d.setState({reactionsPromptShown:a})},d.$3=function(){var a=b("MessengerEnvironment").messengerui,c=d.props,e=c.isFromViewer,f=c.message,g=c.participants;c=f.reactions;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(f.message_id).setSenderID(f.author).setEmojiGroup(i).setEmojiGroupCount(Object.values(c).length).log();a?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,c){var d=c.jsComponent;a.showDialog(function(){return b("React").jsx(d,{isFromViewer:e,participants:g,message:f})})},"MessengerReactions.react"):b("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(f,g,e)},"MessengerReactions.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.message,d=a.participants,e=a.hovered;a=a.renderQuickAdd;var f=c.reactions,g=c.attachments,h=g&&g.length===1&&b("MercuryConfig").MNFWD&&f&&Object.keys(f).length===0;if(h&&g[0].attach_type==="sticker")return null;if(!this.state.reactionsPromptShown&&!e&&h&&g[0].attach_type==="share")return null;if(g[0]&&g[0].attach_type==="share"&&!g[0].share)return null;if(((e=g[0])!=null?(e=e.share)!=null?(e=e.style_list)!=null?e[0]:e:e:e)==="montage_direct")return null;if((!f||!d)&&!a)return null;var i={},l=0;h=!1;Object.entries(f||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===j&&(h=!0),i[a]||(i[a]=0),i[a]++,l++)});if(b("WorkChatRedesignedMessageListCheck.re").enabled&&l===0)return null;g=Object.keys(i).sort(b("MessengerReactionsUtil.bs").sortFunction).slice(0,k).map(function(c,d,a){var e=b("MessengerReactionsUtil.bs").defaultReactions.includes(c);return b("React").jsx("span",{className:"_4kf5",style:{zIndex:a.length-d,marginLeft:d===0?0:"-4px"},children:b("React").jsx(b("MessengerReactionStaticEmoji.react"),{reaction:c,isDefaultReaction:e})},c)});e=l>0?b("React").jsx("span",{className:"_4kf5 _4kf6"+(h?" _fy2":""),children:l}):null;d=a&&!h||b("WorkChatRedesignedMessageListCheck.re").enabled?b("React").jsx("div",{className:"_aou _aov"+(b("WorkChatRedesignedMessageListCheck.re").enabled&&h?" _7w5w":""),children:b("React").jsx("span",{className:"_aow",children:b("React").jsx(b("MessengerReactionsPrompt.react"),{message:c,messageIsSelected:!0,isEdit:h,isQuickAdd:!0,setReactionsPromptShown:this.$1})})}):null;f=b("TooltipData").propsFor(this.$2());return b("React").jsx("div",{className:"_8rnv preview",children:b("React").jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:f,{className:"_7ef9",children:[b("React").jsxs(b("ShimButton.react"),babelHelpers["extends"]({"aria-label":f},b("WorkChatRedesignedMessageListCheck.re").enabled?f:{},{className:"_aou",onClick:this.$3,children:[g,e]})),d]}))})};d.$2=function(){__p&&__p();var a=this.props.message.reactions,c=this.props.participants;if(!a||!c)return"";a=Object.keys(a);var d=a.reduce(function(a,d){if(a.length>=l+1)return a;d=b("MercuryIDs").getParticipantIDFromUserID(d);d=c.get(d)||b("MessengerParticipants.bs").getNow(d);d=d&&d.name;d&&a.push(d);return a},[]),e=d.length,f=d.join("\n");if(a.length>e){d.pop();e=h._("v\u00e0 {count} ng\u01b0\u1eddi kh\u00e1c",[h._param("count",a.length-d.length)]);f=d.join("\n")+"\n"+e.toString()}return f};return c}(b("React").Component);c.propTypes={isFromViewer:a.bool.isRequired,message:a.object.isRequired,participants:a.object,renderQuickAdd:a.bool,hovered:a.bool};e.exports=c}),null);
__d("MessengerDecorator",["cx","BootloadedComponent.react","BootloaderResource","FantaMessageActions","JSResource","MercuryConfig","MessageReplyPermissions","MessagingTag","MessengerDecoratorUtil","MessengerEnvironment","MessengerReactions.react","QE2Logger","React","WorkChatRedesignedMessageListCheck.re","gkx","isMessengerMessageRemoved","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("MessengerDecoratorUtil")).allowForward,i=a.allowSave,j=a.getAttachments,k=a.hasLWA,l=a.isAdminLayoutType,m=a.isAttachment,n=a.isMontageDirect,o=a.isMontageShare,p=a.isWECMessage,q=(c=b("lazyLoadComponent"))((d=b("JSResource"))("MessengerMessageActionItemList").__setRef("MessengerDecorator")),r=c(d("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator")),s=c(d("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator")),t=c(d("WorkChatMessageSavedDecorator.react").__setRef("MessengerDecorator")),u=c(d("WorkChatMessageSaveAction.react").__setRef("MessengerDecorator")),v=[{name:"Saved",check:function(a,c){return b("gkx")("843916")&&a.tags!=null&&a.tags.includes("message:save")},render:function(a,c,d,e){return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(t,{})},"saved:"+a.message_id)},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Reactions",check:function(a,c){if(n(a)||o(a)||l(a))return!1;var d=!!(a.reactions&&Object.keys(a.reactions).length>0);b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");c=!!(!c&&(b("WorkChatRedesignedMessageListCheck.re").enabled||h(a)||m(a)&&b("MercuryConfig").MNFWD));return(d||c)&&!k(a)&&!p(a)},render:function(a,c,d,e){var f=h(a)||m(a)&&b("MercuryConfig").MNFWD;return b("React").jsx(b("MessengerReactions.react"),{isFromViewer:c,message:a,renderQuickAdd:f&&!c,hovered:e,participants:d&&d.participants},a.message_id+"-reactions")},getAdditionalClassNames:function(){return"_5z-5"}}],w=[{name:"MontageReply",check:function(a){if(!b("MercuryConfig").MontageThreadViewer||l(a))return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,c,d){d=a.montage_reply_data&&a.montage_reply_data.message_id;var e=a.montage_reply_data&&a.montage_reply_data.reply_action,f=a.montage_reply_data&&a.montage_reply_data.snippet;return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("gkx")("1031642")?b("JSResource")("MercuryMontageReplyStoryQueryContainer.react").__setRef("MessengerDecorator"):b("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,messageID:d,replyAction:e,replyAuthorID:a.author,replySnippet:f,threadID:a.thread_id},"montagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message||l(a)?!1:b("gkx")("678600")||b("MercuryConfig").M3CRE},render:function(a,c,d){return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id,scrollToRepliedMessage:d&&d.scrollToRepliedMessage,customColor:d&&d.customColor,gradientColors:d&&d.gradientColors,solidColor:d&&d.solidColor,nicknames:d&&d.nicknames,messageBody:a.body},"messagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageForward",check:function(a){return!b("MessengerEnvironment").messengerui||!a.is_forwarded||l(a)?!1:b("gkx")("974812")},render:function(a,c,d){var e=a.attachments.length>0?a.attachments[0].attach_type:"unknown";return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerForwardDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,threadID:a.thread_id,customColor:d&&d.customColor,messageBody:a.body,attachmentType:e},"messageforward:"+a.message_id)},getAdditionalClassNames:function(){return null}}],x=[{name:"ForwardImages",check:function(a){return h(a)},render:function(a,c){var d=j(a),e=d.ids;d=d.types;return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("MessengerEnvironment").messengerui?b("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):b("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:e,attachmentTypes:d,isFromViewer:c},"forwardimages:"+a.message_id)},getAdditionalClassNames:function(){return"_ylc"}},{name:"ReactionPrompt",check:function(a){return n(a)||o(a)||b("isMessengerMessageRemoved")(a)||l(a)?!1:!h(a)&&!k(a)},render:function(a,c,d){c=b("MercuryConfig").MNFWD&&m(a);return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,messageIsSelected:d&&d.messageIsSelected&&!c&&(!a.folder||a.folder===b("MessagingTag").INBOX),onShowMenu:d&&d.onShowMenu},"reactionprompt:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerSaveAction",check:function(a){return i(a)},render:function(a,c,d){return(c=b("React")).jsx(c.Suspense,{fallback:c.jsx("div",{}),children:c.jsx(u,{isActive:d!=null?d.messageIsSelected&&!b("isMessengerMessageRemoved")(a):!1,message:a})},"messagesaveicon:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerUIReplyAction",check:function(a){if(o(a))return!1;return b("MessageReplyPermissions").canReplyToMessage(a)?b("MessengerEnvironment").messengerui:!1},render:function(a,c,d){return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerMessageReplyAction.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onReplyToMessage:d&&d.onReplyToMessage},"messagereplyaction:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return n(a)||o(a)||l(a)?!1:!0},render:function(a,c,d){__p&&__p();var e=n(a)||o(a)?!1:(h(a)||m(a)&&b("MercuryConfig").MNFWD)&&!k(a),f=b("MessengerEnvironment").messengerui||(d==null?void 0:d.onReplyToMessage)!=null?d==null?void 0:d.onReplyToMessage:function(){return b("FantaMessageActions").replyToMessage(a,a.thread_id)};b("BootloaderResource").preload(b("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator"));b("BootloaderResource").preload(b("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator"));return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onShowMenu:d&&d.onShowMenu,isFromViewer:c,includeReactions:e,isShowingOriginal:d&&d.isShowingOriginal,hasFormatting:d&&d.hasFormatting,onToggleOriginal:d&&d.handleToggleOriginal,onReplyToMessage:f,isSavedView:d&&d.isSavedView,renderActionItems:function(g){__p&&__p();var h=g.closeActionList;g=g.openReactionsPopover;if(d==null?void 0:d.isSavedView){var i;return(i=b("React")).jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(s,{closeActionList:h})},"MessengerSavedMessageActionItemList")}else if(b("isMessengerMessageRemoved")(a)){var i;return(i=b("React")).jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(r,{closeActionList:h,isFromViewer:c,message:a})},"MessengerRemovedTombstoneActionItemList")}else{var i;return(i=b("React")).jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(q,{closeActionList:h,hasFormatting:d&&d.hasFormatting,includeReactions:e,isFromViewer:c,isShowingOriginal:d&&d.isShowingOriginal,message:a,onReplyToMessage:f,onToggleOriginal:d&&d.handleToggleOriginal,openReactionsPopover:g})},"MessengerMessageActionItemList")}}},"messageactions:"+a.message_id)},getAdditionalClassNames:function(){return null}}];f={getBeforeDecorators:function(){return w},getAfterDecorators:function(){return v},getInnerDecorators:function(){return x}};e.exports=f}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","React","WorkChatRedesignedMessageListCheck.re","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1},c.$1=function(a){c.setState({shown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.decorators||b("MessengerDecorator").getInnerDecorators();if(this.props.isSavedView===!0)return null;c=c.map(function(b){return b.check(a.props.message)?b.render(a.props.message,a.props.isFromViewer,babelHelpers["extends"]({},a.props.messageProps,{messageIsSelected:a.props.hovered||a.state.shown,onShowMenu:a.$1,isSavedView:!1})):null}).filter(Boolean);return b("React").jsx("span",{className:(b("WorkChatRedesignedMessageListCheck.re").enabled?"":"_40fu")+(b("Locale").isRTL()||this.props.forGameChat?" _64wc":""),"data-hover":"none",children:b("React").jsx("span",{className:b("joinClasses")(this.props.className,"_2u_d"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w79":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2j":"")),children:c})})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!1})}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g="messenger_video",h=b("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});a={Types:h,Namespace:g,onScroll:function(a,c,d,e){b("MessengerFluxReduceDispatcher").dispatch({type:h.SCROLL,namespace:g,threadID:a,messageIDs:c,messageRectMap:d,viewportRect:e})},updateStore:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:h.UPDATE,namespace:g,threadID:a,messageIDs:c})},deleteThread:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY,namespace:g,threadID:a})},deleteAllThreads:function(){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY_ALL,namespace:g})}};e.exports=a}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","MessengerVideoAutoplayActions","immutable","MessengerFluxReduceDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerVideoAutoplayActions").Types,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.reduce=function(a,c){if(c.namespace!==b("MessengerVideoAutoplayActions").Namespace)return a;switch(c.type){case g.SCROLL:c.messageIDs&&(a=this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs));return this.$MessengerVideoAutoplayStore2(a,c.threadID,c.messageRectMap,c.viewportRect);case g.UPDATE:return this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs);case g.DESTROY:return this.$MessengerVideoAutoplayStore3(a,c.threadID);case g.DESTROY_ALL:return a.clear()}return a};d.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new h({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};d.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};d.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=this,g=null;c=c.map(function(a){if(g)return[a,!1];else{var b=f.$MessengerVideoAutoplayStore5(a,d,e);b&&(g=a);return[a,b]}}).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:g,videoVisibilityMap:c})};d.$MessengerVideoAutoplayStore2=function(a,b,c,d){__p&&__p();var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};d.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};d.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};d.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};d.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};d.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("convertMIGColorToFIGColor",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";var h={"#0077e5":"#4080ff","#44bec7":"#54C7EC","#ffc300":"#f5c33b","#fa3c4c":"#F35369","#d696bb":"#d696bb","#6699cc":"#7596c8","#13cf13":"#42b72a","#ff7e29":"#F7923B","#e68585":"#e68585","#7646ff":"#8C72CB","#20cef5":"#54C7EC","#67b868":"#A3CE71","#d4a88c":"#cfa588","#ff5ca1":"#EC7EBD","#a695c7":"#AF9CDA"};function a(a){return a&&h[a]||a||""}e.exports=a}),null);
__d("ChatMessage.react",["csx","cx","fbt","BootloadedComponent.react","ChatAnimatedGifs","ChatBubble.react","ChatCodePasteUtils","ChatConfig","CSS","CurrentUser","EmojiLikeUtils","ImmutableObject","JSResource","Locale","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryErrorInfo","MercuryIDs","MercuryMessageError.react","MercuryTimestamp","MessengerDecorator","MessengerInnerDecorators.react","MessengerMessage.bs","MessengerVideoAutoplayStore","React","ReactDOM","TooltipData","XUISpinner.react","convertMIGColorToFIGColor","immutable","isRTL","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,isHighlighted:!1,hovered:!1},c.$3=function(){return c.setState({hovered:!0})},c.$4=function(){return c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("CSS").conditionClass(b("ReactDOM").findDOMNode(this),"_2cnu",this.isOneLine());this.setState({isVisible:b("MessengerVideoAutoplayStore").isVisible(this.props.message.thread_id,this.props.message.message_id)});this.$1=b("MessengerVideoAutoplayStore").addListener(function(c){c=b("MessengerVideoAutoplayStore").isVisible(a.props.message.thread_id,a.props.message.message_id);c!==a.state.isVisible&&a.setState({isVisible:c})})};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.isOneLine=function(){var a=this.props.message;return b("MessengerMessage.bs").isInbound(a)&&!this.refs.attachmentsInside&&this.refs.bubble&&!this.refs.bubble.contentWraps()};d.shouldComponentUpdate=function(a,b){var c=a.message!==this.props.message,d=!1,e=!1,f=this.props.thread;if(f)d=f.custom_like_icon!==a.thread.custom_like_icon,e=f.solid_color!==a.thread.solid_color;else if(a.thread)return!0;return c||d||e||b.isVisible!==this.state.isVisible||b.isHighlighted!==this.state.isHighlighted||b.hovered!==this.state.hovered};d.render=function(){__p&&__p();var a=this.props.message,c=b("MercuryAttachment").get(a).length>0,d=b("MessengerMessage.bs").isInbound(a),e=b("MercuryIDs").isGroupChat(a.thread_id),f=b("MercuryErrorInfo").hasErrorStatus(a),g=b("ChatConfig").getBool("chat_tab_has_gradients");c="_5wd4"+(d?" _1nc7":"")+(d?"":" _1nc6")+(c?" _2_-t":"")+(d&&e?" _5ysy":"")+(f?" _1zcs":"")+(this.state.isHighlighted&&!g?" _6iuj":"");var h=this.props.isFromViewer,i=[],j=a,k=this.props.thread?b("convertMIGColorToFIGColor")(this.props.thread.solid_color):"",l=(d=this.props.thread)==null?void 0:d.custom_nickname;j&&b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(j)&&i.push(a.render(j,h,{customColor:k,nicknames:l}))});e=b("MercuryAttachment").get(a).filter(function(a){return!b("MercuryAttachment").isBubblePreferred(a)});f=this.$2("outside",e);return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,c),onMouseEnter:this.$3,onMouseLeave:this.$4,children:[b("React").jsxs("div",{className:b("joinClasses")("._1dlq","_h8t"),children:[i,this.$5(f)]}),e.some(function(a){return b("MercuryAttachment").isShareAttachment(a)})?b("React").jsx(b("MessengerInnerDecorators.react"),{message:a,isFromViewer:h||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat}):b("React").jsx("div",{className:"_40qi"+(this.state.isHighlighted&&g?" _6iuj":"")}),this.$6()]})};d.$5=function(a){var c=this.props.message,d={},e=b("MessengerMessage.bs").isOutbound(c);if(e||this.props.needsTimestampTooltip){var f=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(c.timestamp))]);Object.assign(d,b("TooltipData").propsFor(f,e?"right":"left"))}if(c.is_filtered_content)return b("React").jsx("div",babelHelpers["extends"]({className:"_5wd9 _5wdc uiBoxYellow clearfix",ref:"inner"},d,{children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(c)}));f=c.body&&c.body!==""?b("isRTL")(c.body):b("Locale").isRTL();return b("React").jsxs("div",babelHelpers["extends"]({className:"_5wd9"+(f?" direction_rtl":"")+(f?"":" direction_ltr")+" clearfix",ref:"inner"},d,{children:[this.$7(!a),a]}))};d.$6=function(){var a=this.props.message;return a.is_filtered_content||!b("MessengerMessage.bs").hasError(a)?null:b("React").jsxs("div",{className:"_3ry4",ref:"undertext",children:[b("React").jsx(b("MercuryMessageError.react"),{className:"_5wda clearfix",message:a,ref:"status"}),this.$8()]})};d.$8=function(){return this.props.message.is_spoof_warning?b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("MercurySpoofWarning.react").__setRef("ChatMessage.react"),authorID:this.props.message.author,className:"_5wdb"}):null};d.$9=function(){return b("React").jsx("div",{style:{padding:"20px",text_align:"center",background:"white"},children:b("React").jsx(b("XUISpinner.react"),{})})};d.$2=function(a,c){__p&&__p();var d=this;if(this.props.message.commerce_message_type==="ride_intent")return null;var e=this.props.message,f=this.props.thread?this.props.thread.custom_like_icon:null,g=a=="inside"?"attachmentsInside":"attachmentsOutside",h=this.props.thread?b("convertMIGColorToFIGColor")(this.props.thread.solid_color):"",i=[],j=[];a==="outside"&&e&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(e,d.props.isFromViewer)&&(i.push(a.render(e,d.props.isFromViewer,d.props,d.state.hovered)),j.push(a.getAdditionalClassNames()))});if(c.length>0){var k=b("React").jsx(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:e,isFromViewer:this.props.isFromViewer||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat});return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:this.$9(),bootloadLoader:b("JSResource")("MercuryAttachments.react").__setRef("ChatMessage.react"),className:b("joinClasses")((a==="outside"?"_3e7u":"")+(e.body?" _16ys":"")+(h?" _3al":"")+" _n4o"+(i?" _1a6y":""),j),attachments:c,customLike:f,customColor:h,forGameChat:this.props.forGameChat,isChat:!0,afterDecorators:i,innerDecorators:k,isVisible:this.state.isVisible,maxWidth:this.props.maxBubbleWidth,message:e,onUnwrap:this.$10,onAttachmentLoad:this.props.onAttachmentLoad,onStickerClick:this.props.onStickerClick,ref:g})}return null};d.$7=function(a){__p&&__p();var c=this,d=this.props,e=d.isFromViewer,f=d.message;d=d.thread;var g=f.body,h=b("MercuryAttachment").get(f).filter(function(a){return b("MercuryAttachment").isBubblePreferred(a)});h=this.$2("inside",h);var i=[],j=[],k=f;k&&(a&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(k,e)&&(i.push(a.render(k,e,c.props)),j.push(a.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(k,e)&&j.push(a.getAdditionalClassNames())}));var l=j.join(" ");b("ChatAnimatedGifs").shouldHideBody(f)&&(g="");var m=f.ranges;f.profile_ranges&&f.profile_ranges.length&&(m=(m||[]).concat(f.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:"/"+a.id})})));var n=b("CurrentUser").isWorkUser()?!1:b("ChatCodePasteUtils").containsCodeBlock(g);return(g||h)&&!b("EmojiLikeUtils").isEmojiLike(f)?b("React").jsxs("div",{className:b("joinClasses")(l,"_1e-x _n4o"),children:[n?b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{style:{height:22}}),bootloadLoader:b("JSResource")("ChatCodeBubble.react").__setRef("ChatMessage.react"),body:g,maxWidth:this.props.maxBubbleWidth,ranges:m,threadID:f.thread_id,customColor:d&&e?b("convertMIGColorToFIGColor")(d.solid_color):""}):b("React").jsxs("div",{className:"_3_bl",children:[b("React").jsx("div",{className:"_3_bp"}),b("React").jsx(b("ChatBubble.react"),{attachments:h,body:g,className:"_5wdf",isEmojiLike:!1,isFromViewer:this.props.isFromViewer,onReplyToMessage:this.props.onReplyToMessage,metaRanges:f.meta_ranges,message:f,maxWidth:this.props.maxBubbleWidth,ranges:m,ref:"bubble",threadID:f.thread_id,customLike:f.customLike,customColor:d&&e?b("convertMIGColorToFIGColor")(d.solid_color):"",threadCustomColor:d&&b("convertMIGColorToFIGColor")(d.solid_color),isForwarded:f.is_forwarded})]}),a?b("React").jsx(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:f,isFromViewer:this.props.isFromViewer||!1,hovered:this.state.hovered,messageProps:this.props,forGameChat:this.props.forGameChat}):null,i]}):null};d.highlightMessage=function(){var a=this;this.setState({isHighlighted:!1});b("setImmediate")(function(){return a.setState({isHighlighted:!0})})};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,message:a.object.isRequired,maxBubbleWidth:a.number.isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,participants:a.instanceOf(b("immutable").Map).isRequired,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired,thread:a.instanceOf(b("ImmutableObject")),needsTimestampTooltip:a.bool};e.exports=c}),null);
__d("ChatRemovedMessageTombstoneBubble.react",["cx","DOMDimensions","MessengerInnerDecorators.react","React","ReactDOM","RemovedMessageTombstoneContent","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=4;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=0,d.state={bubbleWidth:null},d.$3=function(){var a=b("ReactDOM").findDOMNode(d.refs.bubble);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).width;var c=b("ReactDOM").findDOMNode(d.refs.content),e=b("DOMDimensions").getElementDimensions(c).width;c=c?e+b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(d.refs.contentWrapper)||{},"width",!0,!1,!1):0;c=c+h;e>0&&c<d.props.maxBubbleWidth&&a-c-d.getBoxWidth()>0&&d.setState({bubbleWidth:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props)};d.componentDidUpdate=function(a){(a.maxBubbleWidth!==this.props.maxBubbleWidth||a.participants!==this.props.participants)&&this.$2(a)};d.render=function(){var a,c=this.props,d=c.message,e=c.maxBubbleWidth;c=c.participants;c=b("RemovedMessageTombstoneContent").getRemovedMessageTombstoneContent(d,c).toString();return(a=b("React")).jsxs("div",{className:"_1e-x _n4o",children:[a.jsxs("div",{className:"_3_bl",children:[a.jsx("div",{className:"_3_bp"}),a.jsx("div",{ref:"bubble",className:"_3_om _72_y _5wdf",style:{maxWidth:e,width:this.state.bubbleWidth,wordWrap:c.length>=15?"break-word":"inherit"},children:b("React").jsx("div",{className:"_72_z"+(this.props.message&&this.props.message.isSelected?" _1yok":""),ref:"contentWrapper",children:b("React").jsx("span",{className:"_5yl5",ref:"content",children:b("React").jsx("span",{children:c})})})})]}),b("React").jsx(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:d,isFromViewer:!1,hovered:this.props.hovered,messageProps:this.props,isSavedView:!1})]})};d.$2=function(a){var c=b("ReactDOM").findDOMNode(this.refs.bubble);if(a.maxBubbleWidth!==this.props.maxBubbleWidth||a.participants!==this.props.participants||b("DOMDimensions").getElementDimensions(c).width>this.props.maxBubbleWidth){a=this.props.maxBubbleWidth;this.setState({bubbleWidth:a},this.$3);return}this.$3()};d.getBoxWidth=function(){this.$1||(this.$1=b("DOMDimensions").measureElementBox(b("ReactDOM").findDOMNode(this.refs.bubble)||{},"width",!0,!0,!1));return this.$1};return c}(b("React").Component);c.propTypes={hovered:a.bool.isRequired,message:a.object.isRequired,maxBubbleWidth:a.number.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired};e.exports=c}),null);
__d("ChatRemovedMessageTombstoneInner.react",["cx","fbt","ChatRemovedMessageTombstoneBubble.react","Locale","MercuryTimestamp","MessengerMessage.bs","React","TooltipData","immutable","isRTL"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.message,c={},d=b("MessengerMessage.bs").isOutbound(a);if(d||this.props.needsTimestampTooltip){var e=h._("{time}",[h._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);Object.assign(c,b("TooltipData").propsFor(e,d?"right":"left"))}e=a.body&&a.body!==""?b("isRTL")(a.body):b("Locale").isRTL();return b("React").jsx("div",babelHelpers["extends"]({className:"_5wd9"+(e?" direction_rtl":"")+(e?"":" direction_ltr")+" clearfix",ref:"inner"},c,{children:b("React").jsx(b("ChatRemovedMessageTombstoneBubble.react"),{hovered:this.props.hovered,maxBubbleWidth:this.props.maxBubbleWidth,message:a,participants:this.props.participants})}))};return c}(b("React").Component);c.propTypes={hovered:a.bool.isRequired,message:a.object.isRequired,maxBubbleWidth:a.number.isRequired,needsTimestampTooltip:a.bool};e.exports=c}),null);
__d("ChatRemovedMessageTombstone.react",["csx","cx","ChatRemovedMessageTombstoneInner.react","MercuryErrorInfo","MercuryIDs","MessengerMessage.bs","React","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hovered:!1},c.$1=function(){return c.setState({hovered:!0})},c.$2=function(){return c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.message,c=b("MessengerMessage.bs").isInbound(a),d=b("MercuryIDs").isGroupChat(a.thread_id),e=b("MercuryErrorInfo").hasErrorStatus(a);c="_5wd4"+(c?" _1nc7":"")+(c?"":" _1nc6")+""+(c&&d?" _5ysy":"")+(e?" _1zcs":"");return b("React").jsxs("div",{className:c,onMouseEnter:this.$1,onMouseLeave:this.$2,children:[b("React").jsx("div",{className:b("joinClasses")("._1dlq","_h8t"),children:b("React").jsx(b("ChatRemovedMessageTombstoneInner.react"),{hovered:this.state.hovered,maxBubbleWidth:this.props.maxBubbleWidth,message:a,needsTimestampTooltip:this.props.needsTimestampTooltip,participants:this.props.participants})}),b("React").jsx("div",{className:"_40qi"})]})};return c}(b("React").Component);c.propTypes={message:a.object.isRequired,maxBubbleWidth:a.number.isRequired,needsTimestampTooltip:a.bool,participants:a.instanceOf(b("immutable").Map).isRequired};e.exports=c}),null);
__d("ReasonReact.bs",["bs_curry","React","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return 0}function h(a){return 0}function i(a){return!0}function j(a){return"RenderNotImplemented"}function k(a){return 0}function l(a){return a}function m(a,b){return 0}function n(a,c,d){var e=a.reasonProps;if(e==null)if(c!==void 0)return[b("bs_curry")._1(c,a)];else throw[b("bs_caml_builtin_exceptions").invalid_argument,"A JS component called the Reason component "+(d+" which didn't implement the JS->Reason React props conversion.")];else return e}function o(a){__p&&__p();return b("React").createClass({displayName:a,subscriptions:null,statics:{jsPropsToReason:void 0,getDerivedStateFromProps:function(c,d){__p&&__p();var e=this;e=e==null?void 0:e.jsPropsToReason;c=n(c,e,a);e=c[0];if(e[3]!==l){c=d.reasonState;e=b("bs_curry")._1(e[3],c);if(e===c)return null;else return{reasonState:e,reasonStateVersion:d.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:d.reasonStateVersionUsedToComputeSubelements}}else return null}},self:function(a,b){var c=this;return[c.handleMethod,a,b,c.sendMethod,c.onUnmountMethod]},getInitialState:function(){var c=this;c=n(c.props,c.jsPropsToReason,a);return{reasonState:b("bs_curry")._1(c[0][9],0)}},componentDidMount:function(){var c=this,d=this,e=n(d.props,d.jsPropsToReason,a);e=e[0];if(e[4]!==h){d=d.state;d=d.reasonState;return b("bs_curry")._1(e[4],c.self(d,e[10]))}else return 0},componentDidUpdate:function(c,d){__p&&__p();var e=this,f=this,h=f.state;h=h.reasonState;var i=f.props,j=n(i,f.jsPropsToReason,a),k=j[0];if(k[5]!==g){i=c===i;i=i?j:n(c,f.jsPropsToReason,a);j=d.reasonState;c=e.self(h,k[10]);f=c[0];d=i[0][10];e=c[3];h=c[4];i=[f,j,d,e,h];return b("bs_curry")._1(k[5],[i,c])}else return 0},componentWillUnmount:function(){__p&&__p();var c=this,d=this,e=n(d.props,d.jsPropsToReason,a);e=e[0];d=d.state;d=d.reasonState;e[6]!==h&&b("bs_curry")._1(e[6],c.self(d,e[10]));d=c.subscriptions;if(d!==null){d.forEach(function(a){return b("bs_curry")._1(a,0)});return 0}else return 0},shouldComponentUpdate:function(c,d,e){__p&&__p();e=this;var f=this,g=f.props,h=n(f.props,f.jsPropsToReason,a);g=c===g;g=g?h:n(c,f.jsPropsToReason,a);c=g[0];g=d.reasonState;d=e.self(g,c[10]);if(c[7]!==i){e=f.state;g=e.reasonState;f=d[0];e=h[0][10];h=d[3];var j=d[4];f=[f,g,e,h,j];return b("bs_curry")._1(c[7],[f,d])}else return!0},onUnmountMethod:function(a){var b=this,c=b.subscriptions;if(c!==null){c.push(a);return 0}else{b.subscriptions=[a];return 0}},handleMethod:function(c){var d=this,e=this;return function(f){var g=e.state;g=g.reasonState;var h=n(e.props,e.jsPropsToReason,a);return b("bs_curry")._2(c,f,d.self(g,h[0][10]))}},sendMethod:function(c){__p&&__p();var d=this,e=this,f=n(e.props,e.jsPropsToReason,a);f=f[0];if(f[11]!==m){var g=[function(a){return 0}],h=b("bs_curry")._1(f[11],c);return e.setState(function(a,c){__p&&__p();c=a.reasonState;c=b("bs_curry")._1(h,c);if(c===0)return null;else{var d;if(typeof c==="number")d=a;else switch(c.tag|0){case 0:d={reasonState:c[0]};break;case 1:g[0]=c[0];d=a;break;case 2:g[0]=c[1];d={reasonState:c[0]};break}if(d!==a)return d;else return null}},d.handleMethod(function(a,c){return b("bs_curry")._1(g[0],c)}))}else return 0},render:function(){var c=this,d=this,e=n(d.props,d.jsPropsToReason,a);e=e[0];d=d.state;d=d.reasonState;return b("bs_curry")._1(e[8],c.self(d,e[10]))}})}function a(a){return[a,o(a),[void 0],l,h,g,h,i,j,k,0,m,void 0]}var p=a,q=a,r=a,s=a;function c(a,c,d){a=a!==void 0?a:void 0;c=c!==void 0?c:void 0;var e=[d],f=d[12];if(f!==void 0)return b("bs_curry")._2(f,a,c);else return b("React").createElement(d[1],{key:a,ref:c,reasonProps:e})}function d(a,b){var c=a[1].prototype;c.jsPropsToReason=b;c=a[1];c.getDerivedStateFromProps=a[1].getDerivedStateFromProps.bind({jsPropsToReason:b});return a[1]}function e(a,c){var d=function(a){return b("bs_curry")._2(c,a,a.children)};d=d;var e=a[1].prototype;e.jsPropsToReason=d;return a[1]}var t=a("interop");function u(a,c,d){var e=function(e,f){var g=a,h=c,i=d;e=e;f=f;h=Object.assign(Object.assign({},h),{ref:f,key:e});f=[g,h].concat(i);return b("React").createElement.apply(null,f)};return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],e]}function v(a,c){__p&&__p();var d=a!==void 0?a:function(a,b){return a===b},e=[void 0];return function(a){var f=e[0];if(f!==void 0){f=f;if(b("bs_curry")._2(d,f[0],a))return f[1]}f=b("bs_curry")._1(c,a);e[0]=[a,f];return f}}function w(a){var b=[a];return function(a){var c=b[0];b[0]=a;return c}}a={memoize:v,prev:w};f.statelessComponent=p;f.statelessComponentWithRetainedProps=q;f.reducerComponent=r;f.reducerComponentWithRetainedProps=s;f.element=c;f.wrapReasonForJs=d;f.wrapReasonForJsWithChildren=e;f.wrapJsForReason=u;f.Props=a}),null);
__d("ReasonReactCompat.bs",["ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("ReasonReact.bs").wrapJsForReason;c=b("ReasonReact.bs").wrapReasonForJs;f.wrapReactForReasonReact=a;f.wrapReasonReactForReact=c}),null);
__d("Image.bs",["bs_caml_option","Image.react","ReasonReactCompat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k){__p&&__p();var l={};a!==void 0&&(l.className=b("bs_caml_option").valFromOption(a));c!==void 0&&(l.alt=b("bs_caml_option").valFromOption(c));d!==void 0&&(l["aria-label"]=b("bs_caml_option").valFromOption(d));e!==void 0&&(l["aria-busy"]=b("bs_caml_option").valFromOption(e));f!==void 0&&(l.src=b("bs_caml_option").valFromOption(f));g!==void 0&&(l.height=b("bs_caml_option").valFromOption(g));h!==void 0&&(l.title=b("bs_caml_option").valFromOption(h));i!==void 0&&(l.width=b("bs_caml_option").valFromOption(i));j!==void 0&&(l.style=b("bs_caml_option").valFromOption(j));return b("ReasonReactCompat.bs").wrapReactForReasonReact(b("Image.react"),l,k)}c={};f.make=a;f.Jsx3=c}),null);
__d("LazyWorkMultiCompanyChatTooltip.react",["JSResource","lazyLoadComponent","react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("lazyLoadComponent")(b("JSResource")("WorkMultiCompanyChatTooltip.react").__setRef("LazyWorkMultiCompanyChatTooltip.react"));function a(a){return(g||(g=b("react"))).jsx(g.Suspense,{fallback:a.children,children:g.jsx(h,{children:a.children})})}e.exports=a}),null);
__d("LinkReact.bs",["Link.react","bs_caml_option","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w;d={"aria-label":(w=b("bs_js_null_undefined")).fromOption(d),"data-ft":w.fromOption(f),"data-hover":w.fromOption(g),"data-tooltip-content":w.fromOption(h),"data-tooltip-alignh":w.fromOption(i),"data-tooltip-position":w.fromOption(j),className:w.fromOption(e),href:w.fromOption(k),linkRef:w.fromOption(l),onClick:w.fromOption(m),onMouseDown:w.fromOption(n),onMouseEnter:w.fromOption(o),role:w.fromOption(p),rel:w.fromOption(q),style:w.fromOption(r),tabIndex:w.fromOption(s),target:w.fromOption(t),title:w.fromOption(u)};a!==void 0&&(d["aria-expanded"]=b("bs_caml_option").valFromOption(a));c!==void 0&&(d["aria-hidden"]=b("bs_caml_option").valFromOption(c));return b("ReasonReact.bs").wrapJsForReason(b("Link.react"),d,v)}c={};f.make=a;f.Jsx3=c}),null);
__d("MessengerHoverCardLink",["URI"],(function(a,b,c,d,e,f){var g,h={getBaseURI:function(){return new(g||(g=b("URI")))("/ajax/hovercard/chat.php")},constructEndpoint:function(a){return new(g||(g=b("URI")))(h.getBaseURI()).setQueryData({id:a.id,type:"chat"})}};e.exports=h}),null);
__d("FantaProfilePresence.bs",["cx","Image.bs","React","LinkReact.bs","bs_caml_array","MercuryIDs","SplitImage.bs","bs_caml_option","ReasonReact.bs","MessengerHoverCardLink","WorkChatAvailabilityStatusLoader","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("FantaProfilePresence");function i(a,c,d,e,f,g,i,j,k,l,m,n,o,p){__p&&__p();var q=i!==void 0?i:"",r=j!==void 0?j:!1,s=k!==void 0?k:!1;return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(h){__p&&__p();h=a.length>1;if(h){var i=Math.round(c/3)|0;i=c-i|0;i=b("React").createElement("div",{className:"_44yp",style:{height:c.toString()+"px",width:c.toString()+"px"}},b("React").createElement("div",{className:"_1gyw"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,b("bs_caml_array").caml_array_get(a,0),i,void 0,i,void 0,[]))),b("React").createElement("div",{className:"_1gyw",style:{borderColor:q}},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,b("bs_caml_array").caml_array_get(a,1),i,void 0,i,void 0,[]))))}else i=b("ReasonReact.bs").element(void 0,void 0,b("SplitImage.bs").make(c,a,"_1gyw",e,[]));i=b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,g,"_2yg8",void 0,"tooltip",g,void 0,"right",f,void 0,o,void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[i]));var j=l&&m!==void 0;if(j){j=b("MessengerHoverCardLink").constructEndpoint({id:m});j=b("React").cloneElement(i,{"data-hovercard":j})}else j=i;i=function(a){if(n!==void 0&&m!==void 0){a=b("bs_caml_option").valFromOption(m);var c=b("MercuryIDs").getParticipantIDFromUserID(a);c=b("bs_caml_option").valFromOption(n).get(c);if(!(c==null)&&b("WorkChatAvailabilityStatusLoader").isLoaded())return b("WorkChatAvailabilityStatusLoader").getStoreEnforce().getDescriptionWithUserName(c.short_name,a);else return}};if(s){var k=b("React").createElement("div",{className:"_466z _76q_",style:{backgroundColor:q,borderColor:q}});i=i(0);i=i!==void 0?b("React").cloneElement(k,{"data-tooltip-content":i,"data-hover":"tooltip"}):k}else i=r?b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:"_4rwy"})])):d?b("React").createElement("div",{className:"_1gyx",style:{borderColor:q}}):null;return b("React").createElement("div",{"aria-hidden":!0,className:"_6--1"+(h?" _44yq":""),style:{height:c.toString()+"px",width:c.toString()+"px"}},j,i)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){var c;return i(a.images,a.imageSize,a.isActive,(c=b("bs_caml_option")).nullable_to_opt(a.border),a.threadHref,a.tooltip,c.nullable_to_opt(a.backgroundColor),a.showMultiCompany,void 0,a.isCanonical,c.nullable_to_opt(a.threadFBID),c.nullable_to_opt(a.participants),a.onHeaderClick,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("ChatMessageGroup.react",["cx","fbt","ChatDateBreak.react","ChatMessage.react","ChatRemovedMessageTombstone.react","CurrentUser","FantaProfilePresence.bs","ImmutableObject","MercuryAttachmentLayoutTypeHelper","MercuryIDs","MercuryTimestamp","MessengerParticipants.bs","MessengerTextWithEmoticons.react","QE2Logger","React","ReactDOM","ShortProfiles","immutable","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FantaProfilePresence.bs").jsComponent;a=b("immutable").OrderedMap;c=b("React").PropTypes;var j=new(b("ImmutableObject"))({name:"",href:"#"});d=b("React").createClass({displayName:"ChatMessageGroup",propTypes:{activeMessageID:c.string,author:c.string,forGameChat:c.bool,hasDateBreak:c.bool,isCanonical:c.bool,isFromViewer:c.bool,isPageMessage:c.bool,isOnline:c.bool,maxBubbleWidth:c.number,messages:c.instanceOf(b("immutable").List).isRequired,readReceipts:c.instanceOf(a).isRequired,onAttachmentLoad:c.func,onStickerClick:c.func,persona:c.object,thread:c.instanceOf(b("ImmutableObject")),threadID:c.string},getInitialState:function(){return{participants:{}}},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone"),this._subscription=this._computeParticipants()},shouldComponentUpdate:function(a,c){return this.props.isOnline!==a.isOnline||this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||!b("immutable").is(this.props.messages,a.messages)||this.state.participants!==c.participants||!b("immutable").is(this.props.thread,a.thread)},componentDidUpdate:function(a){var b=this;a=k(this.props);!this._subscription&&!a.every(function(a){return b.state.participants[a]})&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){return b("React").jsxs("div",{className:"_4tdt"+(this.props.isFromViewer?" _ua0":"")+(this.props.isFromViewer?"":" _ua1")+(this._containsMessageWithAdminLayoutType()?" _73iv":"")+(this._hasSeenHeadsAtBottom()?" _3lil":""),children:[this._renderProfileColumn(),b("React").jsxs("div",{className:"_ua2",children:[this._renderName(),b("React").jsx("div",{className:"_4tdv",children:this._renderMessages()})]})]})},_containsMessageWithAdminLayoutType:function(){return this.props.messages==null?!1:this.props.messages.some(function(a){if(a.attachments!=null&&a.attachments.length>0){a=a.attachments[0];return b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}return!1})},_renderProfileColumn:function(){__p&&__p();var a;if(this.props.isFromViewer||this._containsMessageWithAdminLayoutType())return null;var c=this.state.participants[this.props.author]||j,d=c.name,e=c.image_src;this.props.persona&&(d=this.props.persona.name,e=this.props.persona.profile_picture_url);d=h._("{name} - {time}",[h._param("name",d),h._param("time",b("MercuryTimestamp").getPreciseTimestamp(this.props.messages.last().timestamp))]);var f=b("MercuryIDs").getUserIDFromThreadID(this.props.threadID);f=f?b("ShortProfiles").getNow(f):null;f=f&&f.is_messenger_only;f=this.props.isOnline&&!f;a=b("CurrentUser").isWorkUser()&&((a=c)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a)==="FOREIGN";c=this.props.persona?null:c.href;var g=this.props.thread;return b("React").jsx("div",{className:"_31o4",children:b("React").jsx(i,{border:!0,imageSize:"28",images:[e],isActive:f,isCanonical:g.is_canonical,showMultiCompany:a,threadFBID:g.thread_fbid,threadHref:c,tooltip:d})})},_renderName:function(){__p&&__p();if(this.props.isCanonical&&!this.props.persona||this.props.isFromViewer)return null;var a=this.state.participants[this.props.messages.first().author];if(!a)return null;if(this.props.messages.first().replied_to_message)return null;var c=a.short_name;if(this.props.thread&&this.props.thread.custom_nickname){a=b("MercuryIDs").getUserIDFromParticipantID(a.id);this.props.thread.custom_nickname[a]&&(c=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.thread.custom_nickname[a]}))}if(this.props.persona){a=this.state.participants[this.props.messages.first().author];c=a?h._("{persona name} t\u1eeb {page name}",[h._param("persona name",this.props.persona.name),h._param("page name",a.short_name)]):this.props.persona.name}return b("React").jsx("div",{className:"_4tdx",children:c})},_renderMessages:function(){__p&&__p();var a=this,c=this.props.messages.size,d=[];this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID;h&&!(f===0&&a.props.hasDateBreak)&&d.push(b("React").jsx(b("ChatDateBreak.react"),{date:new Date(e.timestamp)},"db:"+e.message_id));if(b("isMessengerMessageRemoved")(e)){d.push(b("React").jsx(b("ChatRemovedMessageTombstone.react"),{maxBubbleWidth:a.props.maxBubbleWidth,message:e,needsTimestampTooltip:!1,participants:b("immutable").Map(a.state.participants),ref:e.message_id},e.message_id));return}d.push(b("React").jsx(b("ChatMessage.react"),{forGameChat:!!a.props.forGameChat,isFromViewer:a.props.isFromViewer,maxBubbleWidth:a.props.maxBubbleWidth,message:e,participants:b("immutable").Map(a.state.participants),readReceipts:a.props.readReceipts,ref:e.message_id,nextTimestamp:a._getNextTimestamp(g,c,f),onAttachmentLoad:a.props.onAttachmentLoad,onStickerClick:a.props.onStickerClick,thread:a.props.thread,needsTimestampTooltip:!1},e.message_id))});return d},_hasSeenHeadsAtBottom:function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){return a>=d&&a<c&&++e===2?!1:null});return e===2},_getNextTimestamp:function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp},getMessageElement:function(a){return b("ReactDOM").findDOMNode(this.refs[a])},getMessage:function(a){return this.refs[a]},_computeParticipants:function(){__p&&__p();var a=this,c=k(this.props),d={},e=[];c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);d[a]=c;c||e.push(a)});this.setState({participants:d});return e.length>0?b("MessengerParticipants.bs").getMulti(e,function(c){var b=a.state.participants;e.forEach(function(a){b[a]=c[a]});a._subscription=null;a.setState({participants:b})}):null}});function k(a){var b=[a.author];a.readReceipts.forEach(function(a,c){b.push(c)});return b}e.exports=d}),null);
__d("EncryptedImg",["EncryptedImgUtils","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){__p&&__p();var g,h=babelHelpers["extends"]({insertIntoStyleBackgroundImage:function(a,b){b=function(a,b){a&&(a.style.backgroundImage="url('"+b+"')")}.bind(void 0,b);h.load(a,b)},insertIntoDOM:function(a,b){b=function(a,b){a&&a.setAttribute("src",b)}.bind(void 0,b);h.load(a,b)},load:function(a,c,d){d===void 0&&(d=!0);a=new(g||(g=b("URI")))(a);var e=b("EncryptedImgUtils").extractKey(a);e=i.bind(void 0,e,c,d);e.includeHeaders=!0;new(b("XHRRequest"))(a.toString()).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseType("arraybuffer").setResponseHandler(e).send()},dataUrlPrefix:function(a,b){b===void 0&&(b=32);if(!a.startsWith("data:"))return a;var c=a.indexOf(",");(c<0||c>b)&&(c=b);return a.slice(0,c)}},b("EncryptedImgUtils"));e.exports=h;function i(a,b,c,d,e){__p&&__p();if(!a){b(l(d,k(e)));return}a=j(a);var f=new Uint8Array(d);d=f.subarray(2,14);f=f.subarray(14,f.length);var g={name:"AES-GCM",iv:d,tagLength:128};window.crypto.subtle.importKey("raw",a,g,!1,["encrypt","decrypt"]).then(function(a){return window.crypto.subtle.decrypt(g,a,f)}).then(function(a){c?b(l(a,k(e))):b(a)})["catch"](function(){})}function j(a){if(typeof a==="string"){var b=new Uint8Array(Math.floor(a.length/2)),c=0;a.replace(/(..)/g,function(a){b[c++]=parseInt(a,16)});return b}return null}function k(a){var b="image/jpeg";a=a.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);a&&a.length>1&&(b=a[1]);return b}function l(a,b){a=new Uint8Array(a);var c="";for(var d=0,e=a.byteLength;d<e;++d)c+=String.fromCharCode(a[d]);return"data:"+b+";base64,"+window.btoa(c)}}),null);
__d("CssBackgroundImage.react",["EncryptedImg","React","createCancelableFunction","cssURL"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={image:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs="},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){var c=this;this.$1&&this.$1.cancel();this.$1=b("createCancelableFunction")(function(b){a===c.props.imageURI&&c.setState({image:b})});b("EncryptedImg").load(a,this.$1)};c.getDerivedStateFromProps=function(a){a=a.imageURI;return a!=null&&!b("EncryptedImg").isEncrypted(a)?{image:a}:null};d.componentDidMount=function(){var a=this.props.imageURI;a!=null&&b("EncryptedImg").isEncrypted(a)&&this.$2(a)};d.componentDidUpdate=function(a){var c=this.props.imageURI;c!==a.imageURI&&c!=null&&b("EncryptedImg").isEncrypted(c)&&this.$2(c)};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.render=function(){var a=this.props;a.imageURI;var c=a.backgroundPosition,d=a.height,e=a.width,f=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["imageURI","backgroundPosition","height","width","style"]);return b("React").jsx("div",babelHelpers["extends"]({style:babelHelpers["extends"]({},f,{backgroundImage:b("cssURL")(this.state.image),backgroundPosition:c||f.backgroundPosition,height:d||f.height,width:e||f.width})},a))};return c}(b("React").Component);a.defaultProps={backgroundPosition:"0% 0%",style:{}};e.exports=a}),null);
__d("FlexboxStyles",[],(function(a,b,c,d,e,f){"use strict";a={alignItems:!0,flexDirection:!0,justifyContent:!0};e.exports=a}),null);
__d("LayoutStyles",["FlexboxStyles"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("FlexboxStyles"),{borderBottomWidth:!0,borderLeftWidth:!0,borderRightWidth:!0,borderTopWidth:!0,borderWidth:!0,bottom:!0,height:!0,left:!0,margin:!0,marginBottom:!0,marginLeft:!0,marginRight:!0,marginTop:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,opacity:!0,overflow:!0,padding:!0,paddingBottom:!0,paddingLeft:!0,paddingRight:!0,paddingTop:!0,position:!0,top:!0,transform:!0,transformOrigin:!0,width:!0});e.exports=a}),null);
__d("ImageStyles",["LayoutStyles"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("LayoutStyles"),{backgroundColor:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderColor:!0,borderRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderWidth:!0,height:!0,opacity:!0,overflow:!0,width:!0});e.exports=a}),null);
__d("flattenStyle",["mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){__p&&__p();if(!a)return null;if(!Array.isArray(a))return(g||(g=b("mapObject"))).untyped(a,function(b,a){return i(b,a)});var c={};for(var d=0,e=a.length;d<e;++d){var f=h(a[d]);if(f)for(var j in f)c[j]=f[j]}return c}function i(a,b){return b==="lineHeight"&&typeof a==="number"?a+"px":a}e.exports=h}),null);
__d("getValidatedStyle",["filterObject","flattenStyle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={textDecorationLine:"textDecoration"};function a(a,c){if(!a)return null;a=b("flattenStyle")(a);return h(b("filterObject")(a,function(a,b){return!!c[b]}),g)}function h(a,b){var c=babelHelpers["extends"]({},a);Object.keys(b).forEach(function(a){if(Object.prototype.hasOwnProperty.call(c,a)){var d=b[a];c[d]=c[a];delete c[a]}});return c}e.exports=a}),null);
__d("pluckClassNames",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=[],c=[];Array.isArray(a)?a.forEach(function(a){a=g(a);var d=a.classNames;a=a.styles;b=b.concat(d);c=c.concat(a)}):typeof a==="string"?b.push(a):c.push(a);return{classNames:b,styles:c}}e.exports=g}),null);
__d("Image",["cx","CssBackgroundImage.react","Image.react","ImageStyles","React","getValidatedStyle","joinClasses","pluckClassNames"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={cover:"cover",contain:"contain",stretch:"fill",center:"none"},i={cover:"cover",contain:"contain",stretch:"100% 100%",center:"auto"},j=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.source,d=a.style,e=a.resizeMode;a=babelHelpers.objectWithoutPropertiesLoose(a,["source","style","resizeMode"]);d=b("pluckClassNames")(d);var f=d.classNames;d=d.styles;d=b("getValidatedStyle")(d,b("ImageStyles"));var g=e&&i[e]||"cover";e=e&&h[e]||"cover";var j=c.scale!=null?Math.max(c.scale,1):1;return b("React").jsxs("div",babelHelpers["extends"]({className:b("joinClasses").apply(void 0,["_b5a"].concat(f)),src:c,style:d},a,{children:[b("React").jsx(b("CssBackgroundImage.react"),{className:b("joinClasses")("_b5a _6jm9"),imageURI:c.uri,backgroundPosition:"center center",style:{backgroundSize:g,transform:"scale("+j+", "+j+")"}}),b("React").jsx(b("Image.react"),{className:b("joinClasses")("_b5a _6jma"),src:c,style:{transform:"scale("+j+", "+j+")",objectFit:e}})]}))};return a}(b("React").PureComponent);j.defaultProps={resizeMode:"cover"};function a(a){var c=a.source,d=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["source","style"]);if(typeof c==="object"&&c.uri&&c.sprited===void 0)return b("React").jsx(j,babelHelpers["extends"]({source:c,style:d},a));d=b("pluckClassNames")(d);var e=d.classNames;d=d.styles;d=b("getValidatedStyle")(d,b("ImageStyles"));return b("React").jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses").apply(void 0,["_b5a"].concat(e)),src:c,style:d},a))}e.exports=a}),null);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){if(b("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return h(0);else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("MessengerCustomColorUtils.re",["MessengerCustomColorUtils.bs"],(function(a,b,c,d,e,f){a=b("MessengerCustomColorUtils.bs").defaultColor;f.defaultColor=a;c=b("MessengerCustomColorUtils.bs").customColorOrBlue;f.customColorOrBlue=c}),null);
__d("ChatPhotoUploaderIcon.react",["ix","fbt","ChatConfig","CurrentUser","Image","M4IconPhoto.re","MessengerCustomColorUtils.re","MessengerDotComAndInboxM4Check.re","MessengerEnvironment","MessengerPaperclipIconSVGM4React.re","MessengerPhotoIconSVGM4React.re","MessengerSurfaceContext.re","MessengerSurfaceType.re","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("M4IconPhoto.re").jsComponent,j=b("MessengerSurfaceContext.re").context,k=b("React").useContext;function a(a){__p&&__p();var c=k(j),d=a.fill!=null?a.fill:b("MessengerCustomColorUtils.re").defaultColor();if(b("gkx")("1192386"))return b("React").jsx(b("Image"),{source:g("1180209")});else if(b("MessengerDotComAndInboxM4Check.re").yes)return b("MessengerPhotoIconSVGM4React.re").make({fill:d});else if(!b("MessengerEnvironment").messengerui&&b("ChatConfig").get("single_line_composer"))return b("React").jsx(i,{filled:!1,color:a.color});else if(b("MessengerEnvironment").messengerui&&b("CurrentUser").isWorkUser()&&b("gkx")("1072568")&&c!==b("MessengerSurfaceType.re").workQuickchat)return a.imagesOnly?b("MessengerPhotoIconSVGM4React.re").make({fill:d}):b("MessengerPaperclipIconSVGM4React.re").make({fill:d});return b("React").jsx("i",{className:a.imageClassName,alt:h._("M\u00e1y \u1ea3nh")})}e.exports=a}),null);
__d("InlineBlock.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.alignv,d=a.height,e=a.fullWidth;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignv","height","fullWidth"]);c=h[c];e="_6a"+(e?" _5u5j":"");var f=b("joinClasses")(e,c);if(d!=null){c=b("React").jsx("div",{className:b("joinClasses")("_6a",c),style:{height:d+"px"}});return b("React").jsxs("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),height:null,children:[c,b("React").jsx("div",{className:f,children:this.props.children})]}))}else return b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f),children:this.props.children}))};return c}(b("React").Component);c.propTypes={alignv:a.oneOf(["baseline","bottom","middle","top"]),height:a.number,fullWidth:a.bool};c.defaultProps={alignv:"baseline",fullWidth:!1};e.exports=c}),null);
__d("ChatPhotoUploader.react",["cssVar","cx","fbt","Promise","Bootloader","ChatConfig","ChatPhotoUploaderIcon.react","InlineBlock.react","MercuryConfig","MessengerEnvironment","React","ReactDOM","SubscriptionsHandler","TooltipData","emptyFunction","ifRequired","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$2=!1;d.$6=!1;d.$14=function(a,b){d.props.onSubmit&&d.props.onSubmit(a,b),d.$15("show_file_placeholder")};d.$16=function(a,b){d.props.onAllUploadsComplete&&d.props.onAllUploadsComplete(a,b),d.$15("upload_files_complete"),d.$6||d.$11()};d.$17=function(a,b){d.props.onLastUploadFail&&d.props.onLastUploadFail(a,b),d.$6||d.$11()};d.$18=function(a,b){d.props.onLastUploadCancel&&d.props.onLastUploadCancel(a,b),d.$6||d.$11()};d.$19=function(a,b){d.props.onUploadError&&d.props.onUploadError(b),d.$15("upload_file_failed"),d.$6||d.$11()};d.$20=function(){__p&&__p();d.$3||(d.$2=!0,d.$3=new(b("Promise"))(function(a){__p&&__p();d.$5.addSubscriptions(b("Bootloader").loadModules(["ChatAutoSendPhotoUploader"],function(c){__p&&__p();b("promiseDone")(d.$4,function(e){__p&&__p();d.$2=!1;if(!d.$7){a(null);return}e=new c(b("ReactDOM").findDOMNode(d.$7),b("ReactDOM").findDOMNode(d.$9),b("ReactDOM").findDOMNode(d.$10),b("MercuryConfig").msgr_region);e.setAllowCrossPage(d.props.allowCrossPage);d.$5.addSubscriptions(e.subscribe("submit",d.$14),e.subscribe("all-uploads-completed",d.$16),e.subscribe("last-upload-failed",d.$17),e.subscribe("last-upload-canceled",d.$18),e.subscribe("file-upload-error",d.$19));d.$1=e;a(d.$1)})},"ChatPhotoUploader.react"))}));return d.$3};d.$4=new(b("Promise"))(function(a,b){d.$8=a});d.$5=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.actionURI!=this.props.actionURI||a.disabled!==this.props.disabled||a.threadID!==this.props.threadID||a.color!==this.props.color||a.fill!==this.props.fill};d.componentDidMount=function(){this.$6=!0,typeof this.props.onMount==="function"&&this.props.onMount(this),this.$5.addSubscriptions(b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"ChatPhotoUploader.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"ChatPhotoUploader.react"))};d.componentDidUpdate=function(){this.$1&&this.$1.setAllowCrossPage(this.props.allowCrossPage)};d.componentWillUnmount=function(){(!this.isUploading()||!this.props.allowCrossPage)&&this.$11(),this.$6=!1};d.render=function(){var a=this,c=b("ChatConfig").get("single_line_composer")&&!b("MessengerEnvironment").messengerui?i._("Th\u00eam \u1ea3nh, video v\u00e0 file"):"",d=this.props.imagesOnly?i._("Th\u00eam \u1ea3nh"):i._("Th\u00eam file"),e=b("joinClasses")("_4q61"+(this.props.customUI?"":" _5f0v")+(this.props.customUI?"":" _509v"),this.props.linkClassName),f=this.props.threadID;return b("React").jsxs("form",babelHelpers["extends"]({action:this.props.actionURI,className:"_vzk _4uld",title:d},b("TooltipData").propsFor(c),{method:"post",onClick:function(b){b.stopPropagation(),a.props.disabled&&b.preventDefault(),a.$12()},ref:function(b){return a.$8(a.$7=b)},children:[b("React").jsx("input",{type:"hidden",name:"attach_id",ref:function(b){return a.$10=b}}),b("React").jsx("input",{type:"hidden",name:"images_only",value:this.props.imagesOnly}),b("React").jsx(b("InlineBlock.react"),{className:b("joinClasses")(this.props.className,"_m _4q60 _3rzn"),"data-testid":"photo_upload_button",children:b("React").jsxs("span",{className:e,children:[b("React").jsx(b("ChatPhotoUploaderIcon.react"),{color:this.props.color,fill:this.props.fill,imagesOnly:this.props.imagesOnly===!0,imageClassName:this.props.imageClassName}),b("React").jsx("input",{disabled:this.props.disabled,type:"file",className:b("joinClasses")(this.props.inputClassname,"_n _2__f _4e5e"),"data-testid":"photo_input",name:"attachment[]",multiple:!0,accept:this.props.imagesOnly?"image/*":"*",ref:function(b){return a.$9=b},title:d,onChange:function(b){a.$13(b,f)}})]})})]}))};d.$12=function(){var a=this.props.imagesOnly;b("Bootloader").loadModules(["M4ComposerTypedLogger","M4ComposerLoggerEvents"],function(b,c){new b().setEvent(a?c.CLICK_PHOTO_UPLOADER:c.CLICK_FILE_UPLOADER).log()},"ChatPhotoUploader.react")};d.$13=function(a,c){__p&&__p();var d=this,e=a.target.files,f=function(){d.$9&&(d.$9.value="")};b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerActions"],function(a){a.prepareFilesForSend(c,e,"ComposerIcons"),f()},"ChatPhotoUploader.react"))}):b("ifRequired")("FantaMessageActions",function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},function(){d.$5.addSubscriptions(b("Bootloader").loadModules(["FantaMessageActions"],function(a){d.props.composer&&a.prepareFilesForSend(c,e,d.props.composer,f)},"ChatPhotoUploader.react"))});this.props.focusInput&&this.props.focusInput()};d.$15=function(a){var c=this.props.threadID;if(!c)return;this.$5.addSubscriptions(b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger","MessengerShareFilePreviewFunnelLoggerConstants"],function(d,e){d.appendAction(!b("MessengerEnvironment").messengerui,a,c),a===e.UPLOAD_FILES_COMPLETE&&d.endFunnel(c)},"ChatPhotoUploader.react"))};d.isUploading=function(){return this.$1&&this.$1.isUploading()||!!this.$2};d.uploadFiles=function(a){b("promiseDone")(this.$20(),function(b){b.uploadFiles(a)})};d.uploadURL=function(a){b("promiseDone")(this.$20(),function(b){b.uploadURL(a)})};d.$11=function(){this.$5.release(),this.$1&&this.$1.destroy()};return c}(b("React").Component);a.defaultProps={actionURI:b("MercuryConfig").upload_url,allowCrossPage:!0,customUI:!1,disabled:!1,imageClassName:"_509w",imagesOnly:!0,linkClassName:"",onSubmit:c=b("emptyFunction"),onAllUploadsComplete:c,onLastUploadFail:c,onLastUploadCancel:c,color:"#0084ff"};e.exports=a}),null);
__d("MercuryShareAttachmentRenderLocations",[],(function(a,b,c,d,e,f){"use strict";var g={CHAT:"chat",CHAT_PREVIEW:"chat_preview",COMPOSER:"ufi_composer",MESSENGER:"messenger",PAGES_INBOX:"pages_inbox",getValues:function(){return[g.CHAT,g.CHAT_PREVIEW,g.COMPOSER,g.MESSENGER,g.PAGES_INBOX]},isPreview:function(a){return a===g.CHAT_PREVIEW}};e.exports=g}),null);
__d("ReactDOMRe.bs",["React","ReactDOM","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").render(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function c(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").render(a,d);return 0}}function d(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").hydrate(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function e(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").hydrate(a,d);return 0}}var g={};function h(a,c,d){a=[a,c].concat(d);return b("React").createElement.apply(null,a)}function i(a,b){return Object.assign(Object.assign({},a),b)}function j(a,b,c){var d={};d[b]=c;return i(a,d)}j={combine:i,unsafeAddProp:j};f.renderToElementWithClassName=a;f.renderToElementWithId=c;f.hydrateToElementWithClassName=d;f.hydrateToElementWithId=e;f.Ref=g;f.createElementVariadic=h;f.Style=j}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","React","gkx","uniqueID","ReactDOMRe.bs","CurrentUser","MessengerColors","MessengerEnvironment","MessengerCustomColorUtils.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return b("React").jsx("path",{id:"Fill-17",d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}function a(a){a=h(a);if(b("MessengerEnvironment").messengerui&&!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))return b("React").jsx("svg",{children:a,className:"_7oal",height:"36px",width:"36px",viewBox:"0 1 36 36"});else return b("React").jsx("svg",{children:a,height:"32px",width:"32px",viewBox:"0 0 36 36"})}var i=b("uniqueID")();function c(a){var c,d=h("black");c=(c=b("ReactDOMRe.bs")).Style.unsafeAddProp(c.Style.unsafeAddProp(c.Style.unsafeAddProp(c.Style.unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0)),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return(a=b("React")).createElement(a.Fragment,void 0,a.jsxs("svg",{children:[a.jsxs("mask",{children:[a.jsx("rect",{height:"100%",width:"100%",fill:"white",x:"0",y:"0"}),d],id:i}),a.jsx("rect",{className:"_8rsr",height:"100%",width:"100%",fill:"white",mask:"url(#"+(String(i)+")")})],style:{height:"100%",position:"absolute",width:"100%"},viewBox:"0 0 36 36"}),a.jsx("div",{style:c}))}f.pathHotLike=h;f.make=a;f.uniqueId=i;f.makeWithGradient=c}),null);
__d("MessengerHotLikeOutlineSVG.react",["cssVar","fbt","CurrentUser","MercuryShareAttachmentRenderLocations","React","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="transparent",j=h._("D\u1ea5u hi\u1ec7u gi\u01a1 ng\u00f3n c\u00e1i");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a,c;a=(a=this.props.color)!=null?a:b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff";c={height:(c=this.props.height)!=null?c:"85%",width:this.props.width};if(this.props.location!==b("MercuryShareAttachmentRenderLocations").CHAT&&this.props.location!==b("MercuryShareAttachmentRenderLocations").PAGES_INBOX){var d;c.width=(d=this.props.width)!=null?d:"66%"}return b("React").jsxs("svg",{"aria-labelledby":this.state.titleId,version:"1.1",viewBox:"0 0 40.16 42.24",preserveAspectRatio:"xMinYMax meet",style:c,children:[b("React").jsx("title",{id:this.state.titleId,children:j}),b("React").jsx("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:i,fillRule:"evenodd",stroke:a,strokeLinecap:"round",strokeWidth:"5%"})]})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerHotLikeButtonInnerIcon.react",["cssVar","CurrentUser","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;h=h===void 0?16:h;a=a.thread;var i=null,j={};if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);j.background="none";i=b("React").jsx(b("Image.react"),{src:d&&d.url,style:{padding:h==16?0:3,display:"block",height:h,width:h}})}else if(c)i=b("React").jsx(c,{color:e,location:f,renderSize:h});else if(e)if(!b("CurrentUser").isWorkUser()||b("gkx")("1072568")){j=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;i=b("MessengerHotLikeIconSVGM4React.bs").make(j)}else i=b("React").jsx(b("MessengerHotLikeOutlineSVG.react"),{color:e,location:f});else b("CurrentUser").isWorkUser()||(i=b("MessengerHotLikeIconSVGM4React.bs").make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return i}e.exports=a}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};b("mixInEventEmitter")(a,{start:!0,stop:!0,stop_emoji:!0,pop:!0,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});e.exports=a}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SizeTimes:{small:1e3,medium:2e3,large:3e3},getStickerIDForTime:function(a){var c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:c=b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:c=b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return c},getEmojiSizeForTime:function(a){var c=b("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?c=b("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?c=b("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(c=b("EmojiLikeConstants").size.LARGE);return c},getMetadataForHotLike:function(a){__p&&__p();var c;switch(a){case b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:c=120;break;case b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:c=84;break;case b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:c=35;break;case b("EmojiLikeConstants").size.LARGE:c=64;break;case b("EmojiLikeConstants").size.MEDIUM:c=64;break;case b("EmojiLikeConstants").size.SMALL:c=32;break}return c?{height:c,width:c}:void 0},getPreviewURI:function(){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()},getURIWithID:function(a){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()},getCustomEmojiFromThread:function(a){return a&&a.custom_like_icon}};e.exports=a}),null);
__d("WorkQuickchatHotLikeInnerButton.react",["cssVar","cx","EmojiLikeConstants","Image.react","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeOutlineSVG.react","MessengerSupportedEmojiUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.CustomRenderer,d=a.customLike,e=a.customColor,f=a.location,g=a.disabled,h=a.renderSize;a=a.thread;var i=null;if(d&&d.emoji){d=d.emoji;d=b("MessengerSupportedEmojiUtils").getNewEmojiData(d,b("EmojiLikeConstants").size.SMALL);i=b("React").jsx(b("Image.react"),{className:"_7rpg",src:d&&d.url})}else if(c){d=this.props.CustomRenderer;i=b("React").jsx(d,{color:e,location:f,renderSize:h})}else if(e)if(b("MessengerDotComAndInboxM4Check.bs").yes){c=a&&a.gradient_colors&&a.gradient_colors.length?a.gradient_colors[a.gradient_colors.length-1]:e;i=b("MessengerHotLikeIconSVGM4React.bs").make(c)}else i=b("React").jsx(b("MessengerHotLikeOutlineSVG.react"),{height:"100%",width:"100%",color:e,location:f});else b("MessengerDotComAndInboxM4Check.bs").yes&&(i=b("MessengerHotLikeIconSVGM4React.bs").make(g?"rgba(0, 0, 0, 0.12)":b("MessengerCustomColorUtils.bs").defaultColor()));return i}e.exports=a}),null);
__d("MercuryTriodeSourceUtil",["MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a={getMercuryTriodeSource:function(){return b("MessengerEnvironment").messengerdotcom?"source:messenger:web":"source:titan:web"}};e.exports=a}),null);
__d("withMessengerSource",["MessengerSourceContext.re","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a,c){var d;c===!0?c=b("React").forwardRef(function(c,d){var e=g(b("MessengerSourceContext.re").context);return b("React").jsx(a,babelHelpers["extends"]({},c,{ref:d,source:e}))}):c=function(c){var d=g(b("MessengerSourceContext.re").context);return b("React").jsx(a,babelHelpers["extends"]({},c,{source:d}))};c.displayName=((d=(d=a.displayName)!=null?d:a.name)!=null?d:"Component")+"WithMessengerSource";return c}e.exports=a}),null);
__d("MessengerHotLikeButton.react",["cx","fbt","Bootloader","EmojiLikeConstants","ImmutableObject","Keys","KeyStatus","Link.react","MercuryMessageObject","MessengerEnvironment","MessengerHotLikeButtonInnerIcon.react","MessengerHotLikePreviewEvents","MessengerHotLikeUtils","MessengerSurfaceType.re","MessengerSurfaceContext.re","React","StickerConstants","WorkQuickchatHotLikeInnerButton.react","clearInterval","clearTimeout","ifRequired","joinClasses","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryMessageObject").get(),j=b("MessengerSurfaceContext.re").context;c=b("React").PropTypes;var k=b("React").useContext,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=null,d.$4=null,d.$6=function(a){(d.props.disabled||d.$3)&&(a.preventDefault(),a.stopPropagation());if(d.props.disabled||a.button!==0)return;d.props.onMouseDown&&d.props.onMouseDown();d.$3=Date.now();d.$9();d.$10()},d.$8=function(){if(!(d.props.threadID&&d.$3))return;d.$3=0;d.$11();d.$12()},d.$14=function(){if(!d.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").POP,d.props.threadID)},d.$7=function(){d.$3&&(d.$3=0,d.$11(),d.$14())},d.$5=function(a){a.stopPropagation();if(d.props.disabled)return;if(b("KeyStatus").getKeyDownCode()===b("Keys").RETURN||!d.props.threadID){a=d.props.sendCustomLike;d.props.customLike&&a?a(d.props.customLike,b("MessengerHotLikeUtils").getEmojiSizeForTime(1)):d.props.sendSticker(b("MessengerHotLikeUtils").getStickerIDForTime(1))}},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){var a=this;this.$4=b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").FINISH_ANIMATION,function(c,d,e){c===a.props.threadID&&(a.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendHotLike(a.getDefaultFunnelName())},"MessengerHotLikeButton.react"),e&&a.props.customLike&&a.props.sendCustomLike?a.props.sendCustomLike(a.props.customLike,e,b("EmojiLikeConstants").source.HOT_LIKE):a.props.forGameChat||a.props.sendSticker(d))})};d.componentWillUnmount=function(){this.$4&&this.$4.remove()};d.render=function(){var a=h._("G\u1eedi l\u01b0\u1ee3t th\u00edch"),c={};this.props.customLike&&this.props.customLike.emoji&&(c.background="none");var d=this.props.surface===b("MessengerSurfaceType.re").workQuickchat?b("WorkQuickchatHotLikeInnerButton.react"):b("MessengerHotLikeButtonInnerIcon.react");return b("React").jsx(b("Link.react"),{"aria-label":a,className:b("joinClasses")(this.props.customColor||this.props.CustomRenderer?"_5j_u":"",this.props.className),disabled:this.props.disabled,href:"#",onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,onMouseLeave:this.$7,onMouseUp:this.$8,role:"button",style:c,title:a,children:b("React").jsx(d,{CustomRenderer:this.props.CustomRenderer,customLike:this.props.customLike,customColor:this.props.customColor,location:this.props.location,disabled:this.props.disabled,renderSize:this.props.renderSize,thread:this.props.thread})})};d.$9=function(){if(!this.props.threadID)return;b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").START,this.$13(),this.props.threadID)};d.$12=function(){__p&&__p();var a=this;if(!this.props.threadID)return;!b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerHotLikePreview.react",function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)},function(){if(a.$1!==null)return;a.$1=b("setIntervalAcrossTransitions")(function(){b("ifRequired")("MessengerHotLikePreview.react",function(){a.$1!==null&&(b("clearInterval")(a.$1),a.$1=null),b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,a.props.threadID)})},100)}):b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").STOP,this.props.threadID)};d.$13=function(){__p&&__p();var a=this.props.threadID;if(!a)return null;a=i.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,this.props.source,a);i.normalizeNewMessage(a);a.is_like_preview=!0;a.like_preview_since=this.$3;a.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;a.body="";return new(b("ImmutableObject"))(a)};d.$10=function(){this.$11(),this.$2=b("setTimeoutAcrossTransitions")(this.$14,b("MessengerHotLikeUtils").SizeTimes.large)};d.$11=function(){b("clearTimeout")(this.$2)};return a}(b("React").PureComponent);l.propTypes={CustomRenderer:c.func,onMouseDown:c.func,customLike:c.object,customColor:c.string,forGameChat:c.bool,location:c.string,sendSticker:c.func.isRequired,sendCustomLike:c.func,threadID:c.string,disabled:c.bool,renderSize:c.number,thread:c.object,surface:c.string.isRequired};function a(a){var c=k(j);return b("React").jsx(l,babelHelpers["extends"]({},a,{surface:c}))}e.exports=b("withMessengerSource")(a)}),null);
__d("MessengerHotLikeChatSVGIcon.react",["cssVar","fbt","CurrentUser","React","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("D\u1ea5u hi\u1ec7u gi\u01a1 ng\u00f3n c\u00e1i");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={titleId:b("uniqueID")()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=(a=this.props.color)!=null?a:b("CurrentUser").isWorkUser()?"#373e4c":"#0084ff";var c=this.props.renderSize;c=c!=null?{height:c.toString(),width:c.toString()}:void 0;return b("React").jsxs("svg",babelHelpers["extends"]({"aria-labelledby":this.state.titleId,preserveAspectRatio:"xMinYMax meet",version:"1.1",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c,{children:[b("React").jsx("title",{id:this.state.titleId,children:i}),b("React").jsxs("g",{style:{fill:a},children:[b("React").jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z"}),b("React").jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z"})]})]}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerQuickCamOrigins",[],(function(a,b,c,d,e,f){"use strict";var g={CHAT_TAB:"chat tab",MESSENGER:"messenger",getValues:function(){return[g.CHAT_TAB,g.MESSENGER]}};e.exports=g}),null);
__d("P2PAbstractSendMoneyButton.react",["cx","fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.$3=function(){c.props.onMouseDown&&c.props.onMouseDown(),c.$1=c.props.isActive},c.$2=function(a){a.stopPropagation();if(c.$1){c.$1=!1;return}c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsx(b("TooltipLink.react"),{alignH:"center",className:b("joinClasses")(this.props.className,(this.props.isActive?"open":"")+(this.props.isDisabled?" disabled":"")+(this.props.isActive?" _10gz":"")+(this.props.isDisabled?" _10g-":"")+(!this.props.isMessenger&&!this.props.className?" _5uqy":"")+(this.props.isMessenger?" _3ggc":"")),href:"#",onClick:this.$2,onMouseDown:this.$3,onMouseOver:this.props.onMouseOver,position:"above",role:"button",title:this.$4(),children:this.getButton()})};d.getButton=function(){return this.props.button?this.props.button:b("React").jsx("i",{className:"_5s8l"})};d.$4=function(){return this.props.isDisabled?null:h._("G\u1eedi ti\u1ec1n")};return c}(b("React").Component);e.exports=a}),null);
__d("P2PActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CREDIT_CARDS_UPDATED:"credit_cards_updated",CREDIT_CARDS_UPDATED_ERROR:"credit_cards_updated_error",CHANNEL_EVENTS_ALLOWED:"channel_events_allowed",CHANNEL_EVENTS_IGNORED:"channel_events_ignored",CREDIT_CARD_SAVING:"credit_card_saving",CREDIT_CARD_ADDED:"credit_card_added",CREDIT_CARD_ADDED_ERROR:"credit_card_added_error",CREDIT_CARD_ADDED_ERROR_CLEARED:"credit_card_added_error_cleared",CREDIT_CARD_DELETED:"credit_card_deleted",CREDIT_CARD_DELETED_ERROR:"credit_card_deleted_error",CREDIT_CARD_UPDATED:"credit_card_updated",CREDIT_CARD_UPDATED_ERROR:"credit_card_updated_error",PRESET_CREDIT_CARD_UPDATED:"preset_credit_card_updated",PRESET_CREDIT_CARD_UPDATED_ERROR:"preset_credit_card_updated_error",CREDIT_CARD_VERIFIED:"credit_card_verified",CREDIT_CARD_VERIFIED_ERROR:"credit_card_verified_error",PAYMENT_METHODS_UPDATED:"payment_methods_updated",PAYMENT_METHODS_UPDATED_ERROR:"payment_methods_updated_error",TRANSFERS_UPDATED:"transfers_updated",TRANSFERS_UPDATED_ERROR:"transfers_updated_error",NUX_TRANSFERS_UPDATED:"nux_transfers_updated",TRANSFER_ADDED:"transfer_added",TRANSFER_ADDED_ERROR:"transfer_added_error",TRANSFER_UPDATED:"transfer_updated",TRANSFER_UPDATED_ERROR:"transfer_updated_error",TRANSFER_ACCEPTED:"transfer_accepted",TRANSFER_DECLINED:"transfer_declined",CHAT_SEND_VIEW_OPENED:"chat_send_view_opened",CHAT_SEND_VIEW_CLOSED:"chat_send_view_closed",BIN_NUMBER_VALIDATED:"bin_number_validated",BIN_NUMBER_VALIDATED_ERROR:"bin_number_validated_error",USER_ELIGIBILITY_UDPATED:"user_eligibility_updated",FRIENDS_LIST_UPDATED:"friends_list_updated",DIALOG_SHOWN:"dialog_shown",DIALOG_CLOSED:"dialog_closed",BANNER_STATES_UPDATED:"banner_states_updated",BANNER_DISMISSED:"banner_dismissed",BANNER_VIEWED:"banner_viewed",BANNER_COMPLETED:"banner_completed",PLATFORM_CONTEXT_ADDED:"platform_context_added",PLATFORM_CONTEXT_BANNER_DISMISSED:"platform_context_banner_dismissed",PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:"platform_context_product_item_sold",PLATFORM_CONTEXT_CHANGED:"platform_context_changed",EXTENSIVE_TRANSFER_DETAILS_UPDATED:"extensive_transfer_details_updated",PAYMENT_REQUEST_INITIATED:"payment_request_initiated",PAYMENT_REQUEST_INITIATED_COMPLETE:"payment_request_initiated_completed",PAYMENT_REQUEST_CREATED:"payment_request_created",PAYMENT_REQUEST_CREATED_ERROR:"payment_request_created_error",PAYMENT_REQUEST_UPDATED:"payment_request_updated",PAYMENT_REQUEST_DECLINE_INITIATED:"payment_request_decline_initiated",PAYMENT_REQUEST_DECLINED:"payment_request_declined",PAYMENT_REQUEST_DECLINE_ERROR:"payment_request_decline_error",PAYMENT_REQUESTS_FETCHED:"payment_requests_fetched",PAYMENT_REQUEST_CANCEL_INITIATED:"payment_request_cancel_initiated",PAYMENT_REQUEST_CANCELED:"payment_request_canceled",PAYMENT_REQUEST_CANCEL_ERROR:"payment_request_cancel_error"});e.exports=a}),null);
__d("P2PDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!1})}),null);
__d("P2PActions",["ChatOpenTab","ChatOpenTabEventLogger","FantaTabActions","P2PActionConstants","P2PDispatcher","ifRequired","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={updateCreditCards:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARDS_UPDATED,data:a})},updateCreditCardsError:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARDS_UPDATED_ERROR})},updatePaymentMethods:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED,data:a})},updatePaymentMethodsError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_METHODS_UPDATED_ERROR,data:a})},ignoreCreditCardChannelEvents:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_IGNORED})},allowCreditCardChannelEvents:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHANNEL_EVENTS_ALLOWED})},creditCardSaving:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_SAVING})},addCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED,data:a})},addCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED_ERROR,data:a})},addCreditCardErrorCleared:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_ADDED_ERROR_CLEARED})},updatePresetCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED,data:a})},updatePresetCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PRESET_CREDIT_CARD_UPDATED_ERROR,data:a})},updateCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_UPDATED,data:a})},updateCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_UPDATED_ERROR,data:a})},deleteCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_DELETED,data:a})},deleteCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_DELETED_ERROR,data:a})},verifyCreditCard:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_VERIFIED,data:a})},verifyCreditCardError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CREDIT_CARD_VERIFIED_ERROR,data:a})},updateTransfers:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED,data:a})},updateTransfersError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFERS_UPDATED_ERROR,data:a})},updateNUXTransfers:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").NUX_TRANSFERS_UPDATED,data:a})},transferAdded:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED,data:a})},transferAddedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ADDED_ERROR,data:a})},transferUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED,data:a})},transferUpdatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_UPDATED_ERROR,data:a})},transferAccepted:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_ACCEPTED})},transferDeclined:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").TRANSFER_DECLINED,data:a})},chatSendViewOpened:function(a){function c(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_OPENED,data:a})}b("ChatOpenTab").canOpenTab()&&!a.fromChatTab?(a.fromChatTab||(b("FantaTabActions").openTab(a.threadID),b("ChatOpenTabEventLogger").logAutoOpen("p2pAction",a.threadID)),c()):(b("ifRequired")("MessengerActions",function(c){b("setImmediate")(function(){c.selectThread(a.threadID)})}),c())},chatSendViewClosed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED,data:a})},binNumberValidated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED,data:a})},binNumberValidatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BIN_NUMBER_VALIDATED_ERROR,data:a})},friendsListUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").FRIENDS_LIST_UPDATED,data:a})},userEligibilityUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").USER_ELIGIBILITY_UDPATED,data:a})},showDialog:function(a,c){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_SHOWN,data:{dialogClass:a,dialogProps:c}})},hideDialog:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").DIALOG_CLOSED})},bannerStatesUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_STATES_UPDATED,data:a})},bannerDismissed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_DISMISSED,data:a})},bannerCompleted:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").BANNER_COMPLETED,data:a})},addPlatformContext:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_ADDED,data:a})},platformContextBannerDismissed:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED,data:a})},platformContextProductItemSold:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD,data:a})},platformContextChanged:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PLATFORM_CONTEXT_CHANGED,data:a})},extensiveTransferDetailsLoaded:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED,data:a})},paymentRequestInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED})},paymentRequestInitiatedComplete:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_INITIATED_COMPLETE})},paymentRequestCreated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED,data:a})},paymentRequestCreatedError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CREATED_ERROR,data:a})},paymentRequestUpdated:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_UPDATED,data:a})},paymentRequestDeclineInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_INITIATED})},paymentRequestDeclined:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINED,data:a})},paymentRequestDeclineError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_DECLINE_ERROR,data:a})},paymentRequestCancelInitiated:function(){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_INITIATED})},paymentRequestCanceled:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCELED,data:a})},paymentRequestCancelError:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUEST_CANCEL_ERROR,data:a})},paymentRequestsFetched:function(a){b("P2PDispatcher").dispatch({type:b("P2PActionConstants").PAYMENT_REQUESTS_FETCHED,data:a})}};e.exports=a}),null);
__d("P2PLoadingMask.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.visible;a=a===void 0?!1:a;return!Boolean(a)?null:b("React").jsxs("div",{className:"_3de",children:[b("React").jsx(b("XUISpinner.react"),{background:"dark",size:"large",className:"_3df"}),b("React").jsx("div",{className:"_3dg"})]})};return c}(b("React").Component);e.exports=a}),null);
__d("P2PLogger",["BanzaiLogger"],(function(a,b,c,d,e,f){"use strict";var g="P2PPaymentLoggerConfig";a={log:function(a,c){c=babelHelpers["extends"]({event:a},c),b("BanzaiLogger").log(g,c)}};e.exports=a}),null);
__d("P2PSendMoneyDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=36,h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;h=new Map();b("P2PDispatcher").register(c.onEventDispatched.bind(babelHelpers.assertThisInitialized(c)));return c}var d=c.prototype;d.onEventDispatched=function(a){var c=a.data;a=a.type;switch(a){case b("P2PActionConstants").CHAT_SEND_VIEW_OPENED:this.handleChatSendViewOpened(c);this.emit("change");break;case b("P2PActionConstants").CHAT_SEND_VIEW_CLOSED:this.handleChatSendViewClosed(c);this.emit("change");break}};d.getStateByThreadID=function(a){return h.get(a)};d.handleChatSendViewOpened=function(a){h.set(a.threadID,{amount:a.amount,groupSendRecipientUserIDs:a.groupSendRecipientUserIDs,groupSendReceiptDetails:a.groupSendReceiptDetails,groupThreadFBID:a.groupThreadFBID,onCompletion:a.onCompletion,openRequestTab:a.openRequestTab,memoText:a.memoText&&a.memoText.substr(0,g),platformData:a.platformData,referrer:a.referrer,paymentRequestID:a.paymentRequestID,sendMoneyDialogShown:!0,sendMoneyNUXDismissed:a.sendMoneyNUXDismissed,useModal:a.useModal})};d.handleChatSendViewClosed=function(a){h.set(a.threadID,{amount:"",groupSendRecipientUserIDs:[],groupSendReceiptDetails:null,groupThreadFBID:"",onCompletion:null,openRequestTab:!1,memoText:null,platformData:null,referrer:null,paymentRequestID:null,sendMoneyDialogShown:!1,sendMoneyNUXDismissed:!1,useModal:!1})};d.isAnyChatSendViewOpen=function(){__p&&__p();for(var a=h.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.sendMoneyDialogShown)return!0}return!1};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("ReactInstanceMap_DO_NOT_USE",["ReactDOM-fb"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOM-fb").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.exports=a.ReactInstanceMap}),null);
__d("renderSubtreeIntoContainer_DO_NOT_USE",["ReactDOM-fb"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ReactDOM-fb").unstable_renderSubtreeIntoContainer}),null);
__d("ReactLayeredComponentMixin_DEPRECATED",["ExecutionEnvironment","React","ReactCurrentOwner","ReactDOM","ReactFragment","ReactInstanceMap_DO_NOT_USE","renderSubtreeIntoContainer_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={UNSAFE_componentWillMount:function(){b("ExecutionEnvironment").canUseDOM&&(this._layersContainer=document.createElement("div"))},componentDidMount:function(){this._renderLayersIntoContainer()},componentDidUpdate:function(){this._renderLayersIntoContainer()},componentWillUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._layersContainer)},_renderLayersIntoContainer:function(){(g||(g=b("ReactCurrentOwner"))).current=b("ReactInstanceMap_DO_NOT_USE").get(this);var a;try{a=this.renderLayers()}finally{(g||(g=b("ReactCurrentOwner"))).current=null}a&&!Array.isArray(a)&&!b("React").isValidElement(a)&&(a=b("ReactFragment").create(a));b("renderSubtreeIntoContainer_DO_NOT_USE")(this,b("React").jsx("div",{children:a}),this._layersContainer)}};e.exports=a}),null);
__d("ContextualDialogXUITheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_53ii",arrowDimensions:{offset:12,length:16}};e.exports=a}),null);
__d("P2PSendMoneyContainerBootloader.react",["cx","Bootloader","DeferredComponent.react","MercuryIDs","MessengerEnvironment","P2PAbstractSendMoneyButton.react","P2PActions","P2PLoadingMask.react","P2PLogger","P2PSendMoneyDialogStore","React","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","emptyFunction","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("MessengerEnvironment").messengerui,i=h?282:260;c=b("React").createClass({displayName:"P2PSendMoneyContainerBootloader",propTypes:{button:a.node,className:a.string,ContextualDialog:a.func,flyoutAlignment:a.oneOf(["left","center","right"]),fromChatTab:a.bool,onTrigger:a.func,participantIDs:a.array,referrer:a.string,threadID:a.string},getInitialState:function(){return{showPlaceholderDialog:!1,shouldBootloadImmediately:b("P2PSendMoneyDialogStore").isAnyChatSendViewOpen()}},mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_clicked:!1,_onComponentLoad:b("emptyFunction"),_bootloadCalled:!1,_sendMoneyDialogStoreSub:null,log:function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_referrer:this.props.referrer,www_event_flow:"UI_Flow_P2P_Send"},c))},componentWillUnmount:function(){this.removeDialogStoreSub()},onDialogStoreChange:function(){this._bootloadComponentNow(),this.removeDialogStoreSub()},removeDialogStoreSub:function(){this._sendMoneyDialogStoreSub&&(this._sendMoneyDialogStoreSub.remove(),this._sendMoneyDialogStoreSub=null)},onPlaceholderClick:function(){var a=this.props.threadID?b("MercuryIDs").tokenize(this.props.threadID).value:null;this._handleDialogVisibility(!this.state.showPlaceholderDialog);this.log("UI_Actn_Send_Money_Button_Placeholder_Clicked",{object_id:a});this._bootloadComponentNow();this._clicked=!1},_handleDialogVisibility:function(a){!a?b("P2PActions").chatSendViewClosed({threadID:this.props.threadID}):b("P2PActions").chatSendViewOpened({referrer:this.props.referrer,threadID:this.props.threadID,fromChatTab:this.props.fromChatTab}),this.setState({showPlaceholderDialog:a})},renderLayers:function(){var a=this,c={};if(this.state.showPlaceholderDialog){var d=this.props.ContextualDialog||b("XUIContextualDialog.react");c.placeholderDialog=b("React").jsx(d,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:h?"right":"left",contextRef:function(){return a.refs.placeholderButton},onBlur:function(){a._clicked||a._handleDialogVisibility(!1),a._clicked=!1},ref:"dialog",shown:!0,width:i,position:"above",children:b("React").jsx("div",{className:"_c_5",children:b("React").jsx(b("P2PLoadingMask.react"),{visible:!0})})})}return c},render:function(){return this._isPageChat()?null:b("React").jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredComponent:this._bootloadComponent,deferredPlaceholder:this._renderPlaceholder()},this.props))},_renderPlaceholder:function(){var a=this;return b("React").jsx(b("P2PAbstractSendMoneyButton.react"),{button:this.props.button,className:this.props.className,isActive:!1,isDisabled:!1,isMessenger:h,onClick:this.onPlaceholderClick,onMouseDown:function(){a._clicked=!0},onMouseOver:this._bootloadComponentNow,ref:"placeholderButton"})},_bootloadComponent:function(a){this._onComponentLoad=a.bind(this),this.state.shouldBootloadImmediately?this._bootloadComponentNow():this._sendMoneyDialogStoreSub=b("P2PSendMoneyDialogStore").addListener("change",this.onDialogStoreChange)},_bootloadComponentNow:function(){var a=this;if(this._bootloadCalled)return;this._bootloadCalled=!0;b("Bootloader").loadModules(["P2PSendMoneyContainer.react"],function(b){a.removeDialogStoreSub(),a._onComponentLoad(b),a.setState({showPlaceholderDialog:!1})},"P2PSendMoneyContainerBootloader.react")},_isPageChat:function(){return!!this._getPageID()},_getPageID:function(){return b("getPageIDFromThreadID")(this.props.threadID)}});e.exports=c}),null);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_CUSTOM_STICKER_PACK:null,LOAD_RECENT_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null});a={Types:g,addRecentSticker:function(a){b("StickersDispatcher").dispatch({type:g.ADD_RECENT_STICKER,sticker:a})},hideStickerFlyout:function(){b("StickersDispatcher").dispatch({type:g.HIDE_FLYOUT})},loadCustomStickerPack:function(a,c){b("StickersDispatcher").dispatch({type:g.LOAD_CUSTOM_STICKER_PACK,pack:a,nuxContent:c})},loadRecentStickers:function(a){b("StickersDispatcher").dispatch({type:g.LOAD_RECENT_STICKERS,stickers:a})},selectStorePack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_STORE_PACK,packID:a})},selectTrayPack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_TRAY_PACK,packID:a})},showStickerFlyout:function(a){b("StickersDispatcher").dispatch({type:g.SHOW_FLYOUT,threadID:a})},trayLoaded:function(){b("StickersDispatcher").dispatch({type:g.TRAY_LOADED})}};e.exports=a}),null);
__d("WorkChatExtensionsDrawersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1696600907120234"};b.getQueryID=function(){return"148385269340310"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("WorkChatExtensionAvailabilityFetcher",["Promise","WebGraphQL","WebStorage","WorkChatExtensionsDrawersQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=36e5;function i(a){(g||(g=b("WebStorage"))).setItemGuarded(g.getLocalStorage(),"hasWorkChatExtension",a.toString()),g.setItemGuarded(g.getLocalStorage(),"hasWorkChatExtensionFetchTime",Date.now().toString())}e.exports={checkHasChatExtension:function(){return new(b("Promise"))(function(a,c){c=(g||(g=b("WebStorage"))).getLocalStorageForRead();var d=c?c.getItem("hasWorkChatExtension"):null;c=c?c.getItem("hasWorkChatExtensionFetchTime")||0:0;return d==="true"&&Date.now()-parseInt(c,10)<h?a(!0):b("WebGraphQL").exec(new(b("WorkChatExtensionsDrawersQueryWebGraphQLQuery"))({})).then(function(a){a=((a=a)!=null?(a=a.viewer)!=null?(a=a.messenger_platform_drawers_info)!=null?(a=a[0])!=null?a.drawer_elements:a:a:a:a)||[];a=a.length>0;i(a);return a})})},setChatExtensionAvailability:i}}),null);
__d("isWebGLEnabled",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;function h(){try{var a=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&Boolean(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(a){return!1}}function a(){g===null&&(g=h());return g}e.exports=a}),null);
__d("ChatTabComposer.react",["cssVar","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatComposerFlyoutButtonBootLoader.react","ChatConfig","ChatInput.react","ChatPhotoUploader.react","CSS","CurrentUser","CustomColorHighlighting.react","ErrorBoundary.react","FantaMessageActions","FantaTabActions","JSResource","Keys","LazyComponent.react","Link.react","M4IconSend.bs","MercuryBootloadOnInteraction.react","MercuryConfig","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageRequestUtils","MessengerCustomColorUtils.bs","MessengerHotLikeButton.react","MessengerHotLikeChatSVGIcon.react","MessengerHotLikeUtils","MessengerParticipants.bs","MessengerQuickCamOrigins","P2PPaymentConfig","P2PSendMoneyContainerBootloader.react","React","ReasonBootloadOnRender.react","ReasonResource","ReplyingToMessageFallbackReact.bs","StickersActions","TooltipData","URI","WorkChatExtensionAvailabilityFetcher","WorkFileUploadsGating","XUISpinner.react","clearImmediate","convertMIGColorToFIGColor","emptyFunction","getPageIDFromThreadID","gkx","isWebGLEnabled","joinClasses","lazyLoadComponent","promiseDone","qex","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("M4IconSend.bs").jsComponent,m=b("ReplyingToMessageFallbackReact.bs").jsComponent,n=b("lazyLoadComponent")(b("JSResource")("M4FantaUnconnectedThreadInfoTextReact").__setRef("ChatTabComposer.react")),o=77,p=9,q=350,r="#BEC3C9",s=b("ChatConfig").get("chat_basic_input_module")||b("ChatInput.react");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={inputHeight:0,p2pPaymentConfig:b("P2PPaymentConfig").config,stickerFlyoutShown:!1,hasWorkChatExtension:!1},d.$2=null,d.$3=null,d.$4=null,d.$14=function(){b("setImmediate")(function(){return b("FantaMessageActions").cancelReplyToMessage(d.props.threadID||"")})},d.$12=function(a,c){a.keyCode===b("Keys").RETURN&&(d.refs.emojiButton&&d.refs.emojiButton.hideFlyout()),d.props.inputKeyDown&&d.props.inputKeyDown(a,c)},d.$6=function(a){a=a.target;a instanceof Element&&(b("CSS").matchesSelector(a,"._1d4_")||b("CSS").matchesSelector(a,"._552h")||b("CSS").matchesSelector(a,"._552n"))&&(d.$4&&d.$4.focus())},d.$13=function(a){d.state.stickerFlyoutShown&&b("StickersActions").hideStickerFlyout(),d.props.onEscape&&d.props.onEscape(a)},d.$36=function(a,c){a.platformFBID.toString()!==b("MercuryConfig").MessengerAppID?d.uploadURL({attribution_app_id:a.platformFBID,errorDialogParams:{body:j._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi g\u1eedi t\u1ec7p GIF n\u00e0y. H\u00e3y ch\u1ecdn t\u1ec7p kh\u00e1c v\u00e0 th\u1eed l\u1ea1i."),title:j._("Kh\u00f4ng th\u1ec3 g\u1eedi t\u1ec7p GIF")},external_image_url:a.source.url,preview_url:a.media.preview?a.media.preview.url:a.media.thumbnail.url,source:a.source}):d.props.stickerButtonProps&&d.props.stickerButtonProps.onStickerSelect&&d.props.stickerButtonProps.onStickerSelect(a.resultID.toString)},d.$34=function(a){var c=d.$28();if(!c)return;b("Bootloader").loadModules(["BrowserExtensionsDialog"],function(d){d.show(new(k||(k=b("URI")))(a.getURI()),a.getUniqueID(),c,b("CurrentUser").getID())},"ChatTabComposer.react")},d.$37=function(a){d.$4&&d.$4.insertEmoji&&d.$4.insertEmoji(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.composer.replyingToMessage!==this.props.composer.replyingToMessage&&(this.$4&&this.$4.focus())};d.render=function(){var a=b("gkx")("678580");a=this.props.disableInput?null:b("React").jsx("ul",{className:"_552n"+(a?" _22v_":"")+(a?" _6jv5":"")+(this.props.isFocused?" _6wm5":"")+" _6jv6",children:this.$5()});var c=this.props.composer.get("replyingToMessage");return b("React").jsxs("div",{className:"_1d4_",onClick:this.$6,role:"presentation",children:[this.props.thread&&b("MessageRequestUtils").shouldShowUnconnectedThreadInfoText(this.props.thread)?this.$7():null,this.$8(c),this.$9(),a]})};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.componentDidMount=function(){var a=this,c=b("gkx")("678581");b("CurrentUser").isWorkUser()&&c&&b("promiseDone")(b("WorkChatExtensionAvailabilityFetcher").checkHasChatExtension(),function(b){return a.setState({hasWorkChatExtension:b})})};d.onSend=function(a){this.$4&&this.$4.onSend&&this.$4.onSend(a)};d.uploadURL=function(a){var b=this.$2||this.$3;if(!b)return;b.uploadURL(a)};d.isUploading=function(){return!!(this.$2&&this.$2.isUploading()||this.$3&&this.$3.isUploading())};d.getInput=function(){return this.$4};d.$9=function(){__p&&__p();var a=this,c={};this.state.inputHeight&&(c.minHeight=this.state.inputHeight);var d=null;if(this.props.showStructuredMenu){var e;d=(e=b("React")).jsx("div",{className:"_5c6-",children:e.jsx(b("MercuryBootloadOnInteraction.react"),{component:e.jsx(b("LazyComponent.react"),{flyoutAlignment:"left",threadID:this.props.threadID,pageID:this.props.pageID,className:"_5c6_"}),loader:b("JSResource")("MessengerBotMenuButton.react").__setRef("ChatTabComposer.react"),placeholder:e.jsx("span",{className:"_5c6_"})})})}e="";this.props.disableInput?e=j._("Tr\u00ecnh bi\u00ean so\u1ea1n b\u1ecb t\u1eaft cho cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y."):this.props.thread&&!this.props.thread.is_canonical?e=j._("Nh\u1eadp tin nh\u1eafn, \u0040name..."):e=j._("Nh\u1eadp tin nh\u1eafn...");return b("React").jsxs("div",{className:"_552h",style:c,children:[d,b("React").jsx("div",{className:this.props.showStructuredMenu?"_4yzj":"",children:b("React").jsxs(b("CustomColorHighlighting.react"),{customColor:this.$10(),children:[this.$11(this.props.threadID),b("React").jsx(s,{composer:this.props.composer,defaultText:this.props.defaultText,fileUploader:this.props.fileUploader,inputKeyDown:this.$12,handleSend:this.props.handleSend,onBeforeInput:function(){return a.refs.emojiButton&&a.refs.emojiButton.hideFlyout()},onBlur:b("emptyFunction"),onEscape:this.$13,onFocus:this.props.onFocus,onTab:this.props.onTab,readOnly:this.props.disableInput,ref:function(b){return a.$4=b},resizeFn:function(b){b=Math.min(b,o),a.setState({inputHeight:b})},thread:this.props.thread,threadID:this.props.threadID,onTextChange:this.props.onTextChange,uploadPhotoFn:function(b){a.$3&&a.$3.uploadFiles([].concat(b))},placeholder:e,viewer:this.props.viewer})]})})]})};d.$7=function(){var a=this.props.thread;if(!a)return null;var c=a.folder,d=a.thread_id;a=a.other_user_fbid;a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(n,{folder:c,name:a?a.short_name:j._("Ng\u01b0\u1eddi d\u00f9ng Facebook").toString(),onDelete:function(){return b("FantaTabActions").closeTab(d)},threadID:d})})};d.$8=function(a){if(!a)return null;a=a;var c=b("React").jsx(m,{onCancelReplyingToMessage:this.$14,isChatTab:!0});return b("React").jsx(b("ErrorBoundary.react"),{fallbackComponent:function(){return c},children:b("React").jsx(b("ReasonBootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{name:this.$15(a),body:a.body,attachments:a.attachments,onCancelReplyingToMessage:this.$14,isChatTab:!0}),loader:b("ReasonResource")(b("JSResource")("ReplyingToMessageReact.bs").__setRef("ChatTabComposer.react")),placeholder:c})})};d.$15=function(a){a=a.author?b("MessengerParticipants.bs").getNow(a.author):null;return a&&a.short_name};d.$11=function(a){if(!a)return null;var c=this.props.fileUploader;if(!c)return null;c=c.get("uploadedFiles");return c.size==0?null:b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{files:c,small:!0,threadID:a,threadCustomColor:this.$10(),onClick:this.$16}),loader:b("JSResource")("MercuryStageFilePreviewReactComponent").__setRef("ChatTabComposer.react"),placeholder:b("React").jsx(b("XUISpinner.react"),{className:"_2qf"})})};d.$10=function(){var a=this.props.thread;return!this.props.isFocused?r:a&&a.footer_color?b("convertMIGColorToFIGColor")(a.footer_color):b("MessengerCustomColorUtils.bs").defaultColor()};d.$16=function(a,c){b("FantaMessageActions").cancelFileUpload(a,c)};d.$5=function(){var a=this.$17(),c=this.$18(),d=this.$19(),e=this.$20(),f=this.$21(),g=this.$22(),h=this.$23(),i=this.$24(),j=this.$25(),k=this.$26(),l=this.$27(),m;b("qex")._("710587")==="frequency"?m=[e,h,a,d,c,j,f,g,k,i].filter(Boolean).slice(0,p-1):m=[a,c,d,e,f,g,h,i,j,k].filter(Boolean).slice(0,p-1);m.push(l);return m};d.$17=function(){var a=this,c=this.props.photoUploaderProps||{};return b("React").jsx("li",{className:"_13f-","data-testid":"composer_photo_uploader_root",children:b("React").jsx(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(b){return a.$3=b},imagesOnly:!0},c))},"photos")};d.$26=function(){if(b("gkx")("994335"))return null;var a=this.$28();return a&&this.props.thread&&!this.props.thread.is_canonical?this.$29(a):null};d.$29=function(a){return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{interactionClassName:"_6gd _13f_",flyoutProps:{customColor:this.$10(),threadFBID:a},flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4tjk _6jv7",flyoutLoader:b("JSResource")("MessengerGroupPollingCreatePollFlyoutReactComponent").__setRef("ChatTabComposer.react"),title:j._("T\u1ea1o cu\u1ed9c th\u0103m d\u00f2 \u00fd ki\u1ebfn"),buttonName:"group_poll"},"grouppolling")};d.$22=function(){var a=b("gkx")("678262")&&b("isWebGLEnabled")();if(b("MercuryIDs").isLocalThread(this.props.threadID))return null;var c=this.$30();return a&&c&&!this.$31()&&!this.props.forGameChat?this.$32(c):null};d.$32=function(a){return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _4cf0 _6jtp",flyoutProps:{threadID:a,customWidth:q},flyoutLoader:b("JSResource")("MessengerGamesFlyout.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u01a1i tr\u00f2 ch\u01a1i"),buttonName:"game"},"games")};d.$24=function(){return this.$28()&&!this.$31()&&this.state.hasWorkChatExtension?this.$33():null};d.$33=function(){return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{interactionClassName:"_6gd _13ga",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _67ew",flyoutProps:{onSelect:this.$34},flyoutLoader:b("JSResource")("MessengerWorkplaceChatExtensionsPickerWrapper.react").__setRef("ChatTabComposer.react"),title:j._("T\u00ecm ti\u1ec7n \u00edch"),buttonName:"chat_extension"},"chatextension")};d.$23=function(){var a=this;if(!b("WorkFileUploadsGating").canUploadFiles)return null;var c=this.props.fileUploaderProps||{};return b("React").jsx("li",{className:"_13gd",children:b("React").jsx(b("ChatPhotoUploader.react"),babelHelpers["extends"]({composer:this.props.composer,onMount:function(b){return a.$2=b}},c))},"files")};d.$18=function(){var a=this.props.stickerButtonProps;return!a?null:this.$35()};d.$35=function(){var a=this.props.stickerButtonProps;if(!a)return null;var c={className:"_5e-r",position:"above"};return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{flyoutProps:a,dialogProps:c,flyoutAlignment:"right",interactionClassName:"_6gd _13ge",iconClassName:"_6gb _6wm4 _6gf _6jtm",flyoutLoader:b("JSResource")("StickersFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u1ecdn nh\u00e3n d\u00e1n"),buttonName:"sticker"},"sticker")};d.$19=function(){var a=this,c={getQuery:function(){return a.$4&&a.$4.getValue()},onSelect:this.$36};return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,interactionClassName:"_6gd _13gf",flyoutProps:c,flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _6gs _6jtq",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatContentSearchFlyoutWrapper.react").__setRef("ChatTabComposer.react"),title:j._("Ch\u1ecdn m\u1ed9t gif"),buttonName:"gif"},"contentSearch")};d.$20=function(){var a=this,c={onSelect:this.$37,getInput:function(){return a.$4}};return b("React").jsx(b("ChatComposerFlyoutButtonBootLoader.react"),{threadID:this.props.threadID,interactionClassName:"_6gd _13gg",flyoutAlignment:"left",iconClassName:"_6gb _6wm4 _3oxr _6jtr",threadFBID:this.$28(),flyoutLoader:b("JSResource")("ChatEmojiFlyout.react").__setRef("ChatTabComposer.react"),dialogProps:{offsetY:10},flyoutProps:c,title:j._("Ch\u1ecdn bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac"),buttonName:"emoji"},"emoji")};d.$27=function(){return this.$38()?this.$39():this.$40()};d.$38=function(){var a=this.props.composer,b=a.fileUploader.uploadedFiles||{size:0},c=a.sharePreview;a=a.text&&a.text.trim().length>0;return a||b.size>0||!!(c&&c.params&&c.type)};d.$39=function(){var a=j._("Nh\u1ea5n Enter \u0111\u1ec3 g\u1eedi");return b("React").jsx("li",{className:"_6gd _21u1",children:b("React").jsx(b("Link.react"),babelHelpers["extends"]({label:"send",className:"_6gb _6wm4 _6987"},b("TooltipData").propsFor(a),{onClick:this.props.handleSendClick,children:b("React").jsx(l,{filled:!0,color:this.$10()})}))},"send")};d.$40=function(){var a=this.props.thread,c=b("ChatConfig").get("new_dlc")&&!this.props.isFocused?r:this.$10(),d=b("MessengerHotLikeChatSVGIcon.react"),e="_6gb _6wm4";return b("React").jsx("li",{className:"_6gd _5ep3 _13gi",children:b("React").jsx(b("MessengerHotLikeButton.react"),{className:e,customColor:c,customLike:b("MessengerHotLikeUtils").getCustomEmojiFromThread(a)||void 0,CustomRenderer:d,forGameChat:this.props.forGameChat,location:b("MercuryShareAttachmentRenderLocations").CHAT,renderSize:16,sendSticker:this.props.stickerButtonProps&&this.props.stickerButtonProps.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID})},"like")};d.$21=function(){if(!this.props.p2pProps||!this.props.showP2PButton||this.$31()||b("MercuryIDs").isLocalThread(this.props.threadID))return null;var a=this.props.p2pProps,c=b("joinClasses")(a.className,"");return b("React").jsx("li",{className:"_6gd _13gj",children:b("React").jsx(b("P2PSendMoneyContainerBootloader.react"),babelHelpers["extends"]({},a,{className:c,participantIDs:this.props.participantIDs,p2pPaymentConfig:this.state.p2pPaymentConfig,thread:this.props.thread,threadID:this.props.threadID}))},"p2p")};d.$25=function(){var a=this.props.threadID;if(b("MercuryIDs").isLocalThread(this.props.threadID)||!a)return null;a={className:"_6gb _6wm4 _5yhk _6jtu",threadID:a,location:b("MessengerQuickCamOrigins").CHAT_TAB,viewer:this.props.viewer};var c=b("gkx")("678582");if(!c)return null;c=b("React").jsx(b("MercuryBootloadOnInteraction.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},a)),loader:b("JSResource")("MessengerQuickCamButtonHTML5.react").__setRef("ChatTabComposer.react"),placeholder:b("React").jsx("span",{className:a.className})});return b("React").jsx("li",{className:"_6gd _13gk",children:c},"quickcam")};d.$31=function(){return!!this.$41()};d.$41=function(){return b("getPageIDFromThreadID")(this.props.threadID)};d.$28=function(){if(this.props.threadID&&!b("MercuryIDs").isLocalThread(this.props.threadID))return b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);return this.props.thread&&this.props.thread.thread_fbid?this.props.thread.thread_fbid:null};d.$30=function(){var a=this.props,c=a.threadID;a=a.thread;return c&&b("MercuryIDs").isLocalThread(c)&&a&&a.thread_fbid?b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid):c};d.replyToMention=function(a){this.$4&&this.$4.addMention&&this.$4.addMention(a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatTabBlockerComposer.react",["cx","fbt","Bootloader","MercuryIDs","MercuryThreadActions","MessengerParticipants.bs","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.$1();return b("React").jsxs("div",{className:"_7ubs",children:[b("React").jsx("div",{className:"_7ubt",children:c?h._("B\u1ea1n \u0111\u00e3 ch\u1eb7n {name} n\u00ean kh\u00f4ng th\u1ec3 nh\u1eafn tin hay g\u1ecdi cho h\u1ecd trong \u0111o\u1ea1n chat. Ngo\u00e0i ra, b\u1ea1n s\u1ebd kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn hay cu\u1ed9c g\u1ecdi n\u00e0o t\u1eeb ph\u00eda h\u1ecd.",[h._param("name",c)]):h._("B\u1ea1n \u0111\u00e3 ch\u1eb7n ng\u01b0\u1eddi n\u00e0y, n\u00ean s\u1ebd kh\u00f4ng th\u1ec3 nh\u1eafn tin hay g\u1ecdi cho h\u1ecd trong \u0111o\u1ea1n chat, c\u0169ng s\u1ebd kh\u00f4ng nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn hay cu\u1ed9c g\u1ecdi n\u00e0o t\u1eeb ph\u00eda h\u1ecd.")}),b("React").jsxs("div",{className:"_7ubu",children:[b("React").jsx(b("XUIButton.react"),{label:h._("B\u1ecf ch\u1eb7n"),onClick:function(){i.blockMessages(a.props.threadID,"thread_view_blocker_composer"),a.$2()},className:"_7ubv"}),b("React").jsx(b("XUIButton.react"),{label:h._("C\u00f3 g\u00ec \u0111\u00f3 kh\u00f4ng \u1ed5n"),onClick:function(){a.props.onSomethingWrong&&a.props.onSomethingWrong(a.props.threadID,!1,"block_composer")},className:"_7ubv"})]})]})};d.$2=function(){var a=this,c=b("MercuryIDs").getThreadFBIDFromThreadID(this.props.threadID);b("Bootloader").loadModules(["MessengerThreadDamagingActionsTypedLogger","MessengerBlockActionEnum"],function(b,d){new b().setName(d.MESSENGER_INTEGRITY_BLOCK_VIEW_ENTER).setEntryPoint("thread_view_blocker_composer").setOtherUserID(c).setThreadID(c).setClientUserID(a.props.viewer).setSource("canonical_thread").log()},"ChatTabBlockerComposer.react")};d.$1=function(){if(!this.props.threadID)return null;var a=b("MercuryIDs").getParticipantIDFromFromThreadID(this.props.threadID);a=b("MessengerParticipants.bs").getNow(a);return a==null?void 0:a.short_name};return c}(b("React").PureComponent);e.exports=a}),null);
__d("NFXURI",["ActorURI","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a,c){c===void 0&&(c=null);a=new(g||(g=b("URI")))("/ajax/nfx/start_dialog").setQueryData({context:a});c!=null&&(a=b("ActorURI").create(a,c));return a}function c(a){var c=a.reportable_ent_token,d=a.story_location,e=a.tracking;a=a.actor_id;d=new(g||(g=b("URI")))("/ajax/nfx/start_dialog").setQueryData({story_location:d,reportable_ent_token:c});e!==null&&d.addQueryData({tracking:e});a!=null&&(d=b("ActorURI").create(d,a));return d}d={withContextString:a,withEntReportable:c};e.exports=d}),null);
__d("XRapidReportingDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rapid_report/",{context:{type:"String",required:!0},preselectedtagid:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("FRXURI",["ActorURI","CurrentUser","NFXContextFactory","NFXURI","XRapidReportingDialogController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;var f=a.responsible_id;a=a.actor_id;c=b("NFXContextFactory").withEntMessageThread({reportable_ent_token:c,story_location:d,entry_point:e,responsible_id:f});if(b("CurrentUser").isWorkUser()&&!b("gkx")("967282"))return b("NFXURI").withContextString(c,a);d=b("XRapidReportingDialogController").getURIBuilder().setString("context",c).getURI();a!=null&&(d=b("ActorURI").create(d,a));return d}function c(a){__p&&__p();var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;var f=a.initial_action_name,g=a.actor_id;a=a.page_id;if(b("CurrentUser").isWorkUser()&&!b("gkx")("967282"))return b("NFXURI").withEntReportable({reportable_ent_token:c,story_location:d,tracking:{},actor_id:g});c=b("NFXContextFactory").withEntReportableOnPage({reportable_ent_token:c,story_location:d,entry_point:e,initial_action_name:f,page_id:a});d=b("XRapidReportingDialogController").getURIBuilder().setString("context",c).getURI();g!=null&&(d=b("ActorURI").create(d,g));return d}function d(a){__p&&__p();var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;var f=a.initial_action_name;a=a.actor_id;if(b("CurrentUser").isWorkUser()&&!b("gkx")("967282"))return b("NFXURI").withEntReportable({reportable_ent_token:c,story_location:d,tracking:{},actor_id:a});c=b("NFXContextFactory").withEntReportable({reportable_ent_token:c,story_location:d,entry_point:e,initial_action_name:f});d=b("XRapidReportingDialogController").getURIBuilder().setString("context",c).getURI();a!=null&&(d=b("ActorURI").create(d,a));return d}function f(a,b){return btoa(a+":"+b)}e.exports={withEntMessageThread:a,withEntReportable:d,withEntReportableOnPage:c,getReportableToken:f}}),null);
__d("FantaFRXUtil",["AsyncRequest","FRXURI","MercuryIDs","MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadIDMap").get();a={isFRXEligible:function(a,c){return b("MercuryIDs").isLocalThread(c)?!1:a!=null&&a.thread_fbid!==null&&a.message_count>0},isEmptyThread:function(a){return a!=null&&a.thread_id!==null&&g.getServerIDFromClientIDNow(a.thread_id)==null},FRXClicked:function(a,c,d,e){__p&&__p();e===void 0&&(e="report_button");var f=b("MercuryIDs").getUserIDFromThreadID(a)||"",h=btoa("EntMessengerViewer1To1Thread:"+f),i="messenger_direct_thread_details";if(Boolean(c)){c=b("MercuryIDs").isLocalThread(a);c=c?g.getServerIDFromClientIDNow(a):b("MercuryIDs").getThreadFBIDFromThreadID(a);c!=null&&(h=btoa("EntMessengerViewerGroupThread:"+c),i="messenger_group_thread_details");d!=null&&(f=b("MercuryIDs").getUserIDFromParticipantID(d),i="messenger_group_thread_members_list")}a=b("FRXURI").withEntMessageThread({reportable_ent_token:h,story_location:i,entry_point:e,responsible_id:f});new(b("AsyncRequest"))(a).send()},FRXClickedForEmptyThread:function(a,c){c===void 0&&(c="report_button");a=b("MercuryIDs").getUserIDFromThreadID(a)||"";var d="messenger_empty_direct_thread";d=b("FRXURI").withEntMessageThread({reportable_ent_token:a,story_location:d,entry_point:c,responsible_id:a});new(b("AsyncRequest"))(d).send()}};e.exports=a}),null);
__d("ChatTabSRXUtil",["CurrentUser","FantaFRXUtil","MercuryIDs","getPageIDFromThreadID"],(function(a,b,c,d,e,f){"use strict";a={isSRXEligible:function(a,c){return b("MercuryIDs").isCanonical(c)&&(!b("getPageIDFromThreadID")(c)||a!=null&&a.is_canonical_neo_user)&&!b("CurrentUser").isWorkUser()&&b("FantaFRXUtil").isFRXEligible(a,c)}};e.exports=a}),null);
__d("SUISpinner.react",["cx","fbt","LoadingMarker.react","React","SUIComponent","SUITheme","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=Math.PI;a=.75;var j=1.5;c={arcSpread:a,background:"light",size:"large"};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SUISpinner3=function(a){c.$SUISpinner1=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$SUISpinner2()};d.componentDidUpdate=function(){this.$SUISpinner2()};d.$SUISpinner2=function(){__p&&__p();var a=this.$SUISpinner1,c=a&&a.getContext("2d");if(!a||!c)return;var d=b("SUITheme").get(this).SUISpinner,e=d.sizes[this.props.size],f=e.border;e=e.diameter;var g=window.devicePixelRatio||1,h=this.props.background==="dark",k=h?d.darkActiveColor:d.activeColor;h=h?d.darkBackgroundColor:d.backgroundColor;d=e/2*g;e=f*g;f=(d+e)*2;a.height=a.width=f;a.style.width=a.style.height=f/g+"px";c.lineCap="round";c.lineWidth=e;a=f/2;c.beginPath();c.arc(a,a,d,0,2*i);c.strokeStyle=h;c.stroke();c.beginPath();c.arc(a,a,d,j*i,(j+this.props.arcSpread)%2*i);c.strokeStyle=k;c.stroke()};d.render=function(){var a=this.props.animationDuration,c=b("SUITheme").get(this).SUISpinner;c=c.sizes[this.props.size];var d=c.border;c=c.diameter;c=c+d*2;d={};a!==void 0&&(d.style={animationDuration:a+"ms"});return b("React").jsx(b("LoadingMarker.react"),{children:b("React").jsx("span",{"aria-busy":!0,"aria-valuemax":360,"aria-valuemin":0,"aria-valuetext":h._("\u0110ang t\u1ea3i..."),className:b("joinClasses")("_4cgy",this.props.className,this.props.margin),"data-testid":this.props["data-testid"],role:"progressbar",style:babelHelpers["extends"]({},this.props.style,{height:c,width:c}),children:b("React").jsx("canvas",babelHelpers["extends"]({className:"_1lid",ref:this.$SUISpinner3},d))})})};return c}(b("SUIComponent"));d.propTypes={background:(f=b("prop-types")).oneOf(["dark","light"]).isRequired,className:f.string,margin:f.string,size:f.oneOf(["large","small"]).isRequired,theme:f.instanceOf(b("SUITheme"))};d.defaultProps=c;e.exports=d}),null);
__d("XPhotosWaterfallBatchLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/photos/logging/waterfall/batch/",{})}),null);
__d("PhotosUploadWaterfall",["AsyncRequest","AsyncSignal","Banzai","PhotosUploadWaterfallXConfig","XPhotosWaterfallBatchLoggingController","emptyFunction","randomInt","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g=[];a={APP_SIMPLE:"simple",APP_ARCHIVE:"archive",APP_COMPOSER:"composer",APP_MESSENGER:"messenger",APP_HTML5:"html5",APP_CHAT:"chat",INSTALL_CANCEL:1,INSTALL_INSTALL:2,INSTALL_UPDATE:3,INSTALL_REINSTALL:4,INSTALL_PERMA_CANCEL:5,INSTALL_SILENT_SKIP:6,INSTALL_DOWNLOAD:7,CERROR_RESIZING_FAILED:6,CERROR_MARKER_EXTRACTION_FAILED:9,BEGIN:1,UPLOAD_START:4,ALL_UPLOADS_DONE:6,CLIENT_ERROR:7,RECOVERABLE_CLIENT_ERROR:12,IMAGES_SELECTED:9,UPGRADE_REQUIRED:11,VERSION:15,SELECT_START:18,SELECT_CANCELED:19,CANCEL:22,CANCEL_DURING_UPLOAD:83,ONE_RESIZING_START:2,ONE_UPLOAD_START:10,ONE_UPLOAD_DONE:29,ONE_RESIZING_DONE:34,PROGRESS_BAR_STOPPED:44,MISSED_BEAT:45,HEART_ATTACK:46,PUBLISH_SENT:99,PUBLISH_START:100,PUBLISH_SUCCESS:101,PUBLISH_FAILURE:102,CLUSTERING_START:103,CLUSTERING_SUCCESS:104,CLUSTERING_FAILURE:105,POST_BUTTON_CLICKED:110,POST_BUTTON_ERROR:111,PHOTO_DELETED:114,PUBLISH_CLIENT_SUCCESS:115,PHOTO_ROTATED:117,SAVE_DRAFT_BUTTON_CLICKED:123,RECOVERY_START_ON_CLIENT:124,CHANGE_PHOTO_QUALITY_SETTING:126,TAG_ADDED:127,TAG_REMOVED:128,TAB_BUTTON_CLICKED:129,DONE_SPHERICAL_CHECK:131,FAIL_SPHERICAL_CHECK:133,EDITABLE_PHOTO_FETCH_START:106,EDITABLE_PHOTO_FETCH_SUCCESS:107,EDITABLE_PHOTO_FETCH_FAILURE:108,EDITABLE_PHOTO_FETCH_DELAY:116,CANCEL_INDIVIDUAL_UPLOAD:109,MISSING_OVERLAY_NODE:118,PUBLISH_RETRY_FAILURE:119,MISSING_UPLOAD_STATE:120,SESSION_POSTED:72,POST_PUBLISHED:80,ONE_UPLOAD_CANCELED:81,ONE_UPLOAD_CANCELED_DURING_UPLOAD:82,RESIZER_AVAILABLE:20,OVERLAY_FIRST:61,ASYNC_AVAILABLE:63,FALLBACK_TO_HTML5:130,RETRY_UPLOAD:17,TAGGED_ALL_FACES:14,VAULT_IMAGES_SELECTED:62,VAULT_CREATE_POST_CANCEL:65,VAULT_SEND_IN_MESSAGE_CLICKED:66,VAULT_DELETE_CANCEL:68,VAULT_ADD_TO_ALBUM_CANCEL:74,VAULT_SHARE_IN_AN_ALBUM_CLICKED:76,VAULT_SHARE_OWN_TIMELINE_CLICKED:77,VAULT_SHARE_FRIENDS_TIMELINE_CLICKED:78,VAULT_SHARE_IN_A_GROUP_CLICKED:79,VAULT_SYNCED_PAGED_LINK_CLICKED:84,VAULTBOX:"vaultbox",GRID:"grid",SPOTLIGHT_VAULT_VIEWER:"spotlight_vault_viewer",REF_VAULT_NOTIFICATION:"vault_notification",_checkRequiredFields:function(a){},sendBanzai:function(a,c){this._checkRequiredFields(a);var d={};a.scuba_ints=a.scuba_ints||{};a.scuba_ints.client_time=Math.round(Date.now()/1e3);b("PhotosUploadWaterfallXConfig").retryBanzai&&(d.retry=!0,a.scuba_ints.nonce=b("randomInt")(4294967296));b("Banzai").post(b("PhotosUploadWaterfallXConfig").deprecatedBanzaiRoute,a,d);c&&setTimeout(c,0)},sendSignal:function(a,c){this._checkRequiredFields(a);if(b("PhotosUploadWaterfallXConfig").useBanzai)this.sendBanzai(a,c);else{a=new(b("AsyncSignal"))("/ajax/photos/waterfall.php",{data:JSON.stringify(a)}).setHandler(c);b("PhotosUploadWaterfallXConfig").timeout&&a.setTimeout(10*1e3);a.send()}},queueLog:function(a,b){g.push(a),b?this.flushQueue(b):h()},flushQueue:function(a){var c=JSON.stringify(g);g=[];var d=b("XPhotosWaterfallBatchLoggingController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({logs:c}).setFinallyHandler(a||b("emptyFunction")).setTimeoutHandler(10*1e3,a||b("emptyFunction")).send()}};var h=b("throttle")(a.flushQueue,b("PhotosUploadWaterfallXConfig").batchInterval*1e3);e.exports=a}),null);
__d("ChatTabComposerContainer.react",["cx","fbt","Bootloader","ChatTabBlockerComposer.react","ChatTabComposer.react","ChatTabSRXUtil","FantaFRXUtil","FantaMessageActions","FantaTabActions","FBLogger","FDSSpinner.react","JSResource","Keys","LogHistory","MercuryConstants","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryMessageActions","MercuryShareAttachmentRenderLocations","MessengerBotMenuDataFetcher","MessengerState.bs","MNCommercePageSetting","P2PGKValues","PhotosUploadWaterfall","React","ReactDOM","SimpleXUIDialog","WaterfallIDGenerator","emptyFunction","getPageIDFromThreadID","getThreadTypeNameFromThreadType","gkx","lazyLoadComponent","performanceAbsoluteNow","setImmediate","shallowCompare"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("lazyLoadComponent")(b("JSResource")("ChatTabLeftGroupComposer.react").__setRef("ChatTabComposerContainer.react")),k="right",l=/^\s*$/,m=b("LogHistory").getInstance("chat_tab_view"),n=!1,o=!1,p=140,q=90;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showP2PButton:d.$6(),pageID:b("getPageIDFromThreadID")(d.props.threadID),showStructuredMenu:d.$7(),longInput:!1},d.$9=function(a){d.$2=a},d.$10=function(a){d.$3&&d.$3.uploadFiles([].concat(a))},d.$11=function(a){d.$5=a},d.$12=function(a){d.$3=a},d.onSend=function(a){d.props.forGameChat&&b("Bootloader").loadModules(["GamesQuicksilverFunnelLogger"],function(a){a.logGameChatSendMessage(a.getDefaultFunnelName())},"ChatTabComposerContainer.react");if(a&&a.profile_ranges&&a.profile_ranges.length){var c=a,e=d.props.thread;b("Bootloader").loadModules(["MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(a,d){new a().setEvent(d.MENTION).setGroupSize(e&&e.participants&&e.participants.length).setNumDelivered((c.profile_ranges||[]).length).setThreadid(e&&e.thread_id).setThreadType(b("getThreadTypeNameFromThreadType")(e&&e.thread_type)).setOfflineThreadid(c.offline_threading_id).log()},"ChatTabComposerContainer.react")}o?d.$2&&d.$2.onSend&&d.$2.onSend(a):d.refs.composer&&d.refs.composer.onSend(a)},d.focusInput=function(){var a=d.getInput();a&&a.focus&&a.focus()},d.$14=function(a){a=d.getInput();a&&typeof a.handleSend==="function"&&(a&&a.handleSend())},d.$35=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).confirmAttachmentPlaceholder(c.upload_id,c),d.$29(c)},d.$37=function(a){__p&&__p();var c,e;switch(a.error){case"size-exceeded":c=h._("File m\u00e0 b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 l\u1edbn");e=h._("File b\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 l\u1edbn. K\u00edch th\u01b0\u1edbc t\u1ed1i \u0111a l\u00e0 25MB.");b("FBLogger")("messenger_upload_file").warn("Uploading file is too large");break;case"attachment-limit":c=h._("B\u1ea1n \u0111\u00e3 ch\u1ecdn qu\u00e1 nhi\u1ec1u file.");e=h._("B\u1ea1n c\u00f3 th\u1ec3 g\u1eedi t\u1ed1i \u0111a {max number of files} file.",[h._param("max number of files",b("MercuryConstants").AttachmentMaxLimit)]);b("FBLogger")("messenger_upload_file").warn("Attachment limit reached");break;default:c=h._("T\u1ea3i file l\u00ean kh\u00f4ng th\u00e0nh c\u00f4ng"),e=h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i file l\u00ean.")}d.$40(c,e);d.$24(a)},d.$34=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c),d.$28(c)},d.$39=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("T\u1ea3i file l\u00ean kh\u00f4ng th\u00e0nh c\u00f4ng");var e=h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i khi t\u1ea3i file l\u00ean.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,e=c.errorDialogParams.body||e);d.$40(a,e);d.$24(c)},d.$36=function(a,c){b("MercuryMessageActions").getForFBID(d.props.viewer).cancelAttachmentPlaceholder(c.upload_id,c);a=h._("Kh\u00f4ng t\u1ea3i l\u00ean \u0111\u01b0\u1ee3c");var e=h._("Vui l\u00f2ng th\u1eed l\u1ea1i. H\u00e3y \u0111\u1ea3m b\u1ea3o r\u1eb1ng b\u1ea1n \u0111ang t\u1ea3i l\u00ean file h\u1ee3p l\u1ec7.");c.errorDialogParams&&(a=c.errorDialogParams.title||a,e=c.errorDialogParams.body||e);d.$40(a,e);d.$26&&d.$26(c)},d.$38=function(a,b){d.$30&&d.$30(b)},d.$17=function(a,b){d.$22(a,b)},d.$16=function(a){d.props.onEscape&&d.props.onEscape(a)},d.$18=function(a,c){var e=d.props.threadID;e&&(d.$4=b("setImmediate")(function(){d.$4=null,b("FantaMessageActions").composerTextUpdate(e,a,c)}));d.$8()},d.$22=function(a,c){var e=d.props.threadID;a.keyCode===b("Keys").RETURN&&!a.shiftKey&&(a.preventDefault(),d.$13(c));if(a.keyCode===b("Keys").DOWN&&a.shiftKey&&d.hasEmptyInput()){b("FantaTabActions").minimizeTab(e);return}},d.$13=function(a){var b=d.$42();b==null||b.length===0?d.$43(a,[]):d.$43(a,b)},d.$15=function(a){var b=d.getInput();b&&b.insertEmoji(a)},d.$23=function(a,b,c){d.props.onSendHotLike(a.emoji,b,c,d.focusInput)},d.$25=function(){d.props.onSendMessage("",d.props.composer,d.onSend)},d.$27=function(a){d.props.onSelectSticker(a,b("emptyFunction"))},d.$30=function(a){d.$44(b("PhotosUploadWaterfall").UPLOAD_START,a),d.props.onSendPhoto(a,d.onSend),d.$45("submit",a),d.focusInput()},d.$24=function(a){d.$44(b("PhotosUploadWaterfall").CLIENT_ERROR,a),d.$45("failed",a)},d.$26=function(a){d.$44(b("PhotosUploadWaterfall").CLIENT_ERROR,a),d.$45("failed",a)},d.$28=function(a){d.$44(b("PhotosUploadWaterfall").CANCEL_DURING_UPLOAD,a),d.$45("canceled",a)},d.$29=function(a){d.$44(b("PhotosUploadWaterfall").ALL_UPLOADS_DONE,a);d.$45("completed",a);a=a.image_ids.length||a.attachments.length;d.$46(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidMount=function(){var a=this,c=(i||(i=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_composer_container",JSON.stringify(a.state),0,c)},"ChatTabComposerContainer.react");this.props.isFocused&&!this.props.isNewEmptyLocalThread&&this.focusInput();this.state.pageID&&b("MessengerBotMenuDataFetcher").getHasPageSetting(this.state.pageID,function(b){a.setState({showStructuredMenu:b})},function(){a.setState({showStructuredMenu:!1})},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)};d.componentDidUpdate=function(a){var b=this.props.thread;b=b?b.thread_id:null;b===this.props.threadID&&(this.props.fileUploader!==a.fileUploader&&this.$8())};d.$6=function(){return b("P2PGKValues").P2PVisible&&this.props.viewer!==b("MercuryIDs").getUserIDFromThreadID(this.props.threadID)};d.$7=function(){var a=b("getPageIDFromThreadID")(this.props.threadID);return a===null||a===void 0?!1:b("MessengerBotMenuDataFetcher").getHasPageSetting(a,function(){},function(){},b("MNCommercePageSetting").STRUCTURED_MENU_ENABLED)};d.render=function(){var a=this.props.composer,c=this.props,d=c.thread;c=c.threadID;var e=c?b("MessengerState.bs").isEmptyLocalThread(this.props.viewer,c):!1;return o?b("React").jsx(b("ChatTabComposer.react"),{composer:a,enableDisappearingIcons:n,fileUploader:this.props.fileUploader,handleSend:this.$13,handleSendClick:this.$14,inputRef:this.$9,isEmptyLocalThread:e,isFocused:this.props.isFocused,defaultText:a.text,onEmojiSelect:this.$15,onEscape:this.$16,onInputKeyDown:this.$17,onTab:this.props.onTab,onTextChange:this.$18,onUploaderMount:this.$12,pageID:this.state.pageID,participantIDs:void 0,disableInput:this.props.disableInput,showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,thread:d,threadID:c,uploadPhotoFn:this.$10,viewer:this.props.viewer,focusInput:this.focusInput,longInput:this.state.longInput,ref:this.$11,forGameChat:this.props.forGameChat}):this.$19()?b("React").jsx(b("ChatTabBlockerComposer.react"),{onSomethingWrong:this.props.threadID?b("FantaFRXUtil").FRXClicked:null,threadID:c,viewer:this.props.viewer}):this.$20()?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("FDSSpinner.react"),{center:!0}),children:b("React").jsx(j,{})}):b("React").jsx(b("ChatTabComposer.react"),{defaultText:a.text,fileUploaderProps:this.$21(),handleSendClick:this.$14,isEmptyLocalThread:e,ref:"composer",composer:this.props.composer,fileUploader:this.props.fileUploader,handleSend:this.$13,inputKeyDown:this.$22,isFocused:this.props.isFocused,onCustomLikeSelect:this.$23,onEmojiSelect:this.$15,onEscape:this.props.onEscape,onFileUploadFail:this.$24,onP2PTrigger:this.$25,onPhotoUploadFail:this.$26,onStickerSelect:this.$27,onTab:this.props.onTab,onUploadCancel:this.$28,onUploadComplete:this.$29,onUploadSubmit:this.$30,thread:d,threadID:c,viewer:this.props.viewer,disableInput:this.props.disableInput,onTextChange:this.$18,p2pProps:this.$31(),pageID:this.state.pageID,participantIDs:void 0,photoUploaderProps:this.$32(),showP2PButton:this.state.showP2PButton,showStructuredMenu:this.state.showStructuredMenu,stickerButtonProps:this.$33(),forGameChat:this.props.forGameChat})};d.getInput=function(){return o?this.$2:this.refs.composer&&this.refs.composer.getInput&&this.refs.composer.getInput()};d.isUploading=function(){return this.refs.composer.isUploading()};d.$31=function(){return!this.state.showP2PButton?{}:{button:b("React").jsx("i",{className:"hidden_elem"}),className:"_6ga _6gb _6wm4 _6jtl",flyoutAlignment:k,referrer:b("MercuryShareAttachmentRenderLocations").CHAT,threadID:this.props.threadID,onTrigger:this.$25}};d.$33=function(){var a={className:"_6gb _6wm4 _6gf _6jtm",flyoutAlignment:k,threadID:this.props.threadID,onStickerSelect:this.$27};return a};d.$32=function(){var a={className:"_6gd",customUI:!0,imageClassName:"hidden_elem",linkClassName:"_6gb _6wm4 _6ge _6jtn",threadID:this.props.threadID,onLastUploadCancel:this.$34,onAllUploadsComplete:this.$35,onLastUploadFail:this.$36,onUploadError:this.$37,onSubmit:this.$38};return a};d.$21=function(){var a=this.$32();a.linkClassName="_6gb _6wm4 _6gg _6jto";a.imagesOnly=!1;a.onLastUploadFail=this.$39;return a};d.$40=function(a,c){b("SimpleXUIDialog").show(c,a)};d.$8=function(){if(!this.$5)return;var a=b("ReactDOM").findDOMNode(this.$5);if(!a)return;a=a.clientHeight;!this.state.longInput&&a>p?this.setState({longInput:!0}):this.state.longInput&&a<q&&this.setState({longInput:!1})};d.hasEmptyInput=function(){return l.test(this.$41())};d.$41=function(){var a=this.getInput();return a&&a.getValue()||""};d.$43=function(a,b){this.props.onSendMessage({message:a,mentions:b},this.props.composer,this.onSend);return};d.$42=function(){var a=this.getInput();return a&&a.getMentions?a.getMentions():null};d.$19=function(){return b("ChatTabSRXUtil").isSRXEligible(this.props.thread,this.props.threadID)&&this.props.blockedIDs&&b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(this.props.viewer,this.props.blockedIDs,this.props.thread)};d.$20=function(){var a=this.props.thread;return a&&!a.is_subscribed&&b("gkx")("976852")};d.$44=function(a,c){this.$1==null&&(this.$1=b("WaterfallIDGenerator").generate()),b("PhotosUploadWaterfall").sendSignal(babelHelpers["extends"]({qn:this.$1,step:a,uploader:b("PhotosUploadWaterfall").APP_CHAT},c||{}))};d.$46=function(a){if(a===0)return;this.$44(b("PhotosUploadWaterfall").POST_PUBLISHED,{count:a});this.$1=b("WaterfallIDGenerator").generate()};d.$45=function(a,b){m.debug("photo_uploader:"+a,"{}")};return c}(b("React").Component);e.exports=a}),null);
__d("BootloadOnInteraction.react",["BootloadOnRender.react","React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){c.setState({hadUserInteraction:!0})};c.state={hadUserInteraction:!1};return c}var d=c.prototype;d.render=function(){if(!this.state.hadUserInteraction)return b("React").cloneElement(this.props.placeholder,{onFocus:this.$1,onMouseOver:this.$1,onClick:this.$1});var a=this.props,c=a.loader,d=a.component;a=a.placeholder;return b("React").jsx(b("BootloadOnRender.react"),{placeholder:a,loader:c,component:d})};return c}(b("React").Component);e.exports=a}),null);
__d("ChatTabMenuBootloader.react",["cx","fbt","AutoFocusableLink.react","BootloadOnInteraction.react","ChatTabMenuIcon.bs","ErrorBoundary.react","JSResource","LazyComponent.react","MercuryConfig","MercuryThreadInfo","MessageRequestUtils","React","getPageIDFromThreadID","immutable","isEmpty","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ChatTabMenuIcon.bs").jsComponent,k=b("lazyLoadComponent")(b("JSResource")("MessengerReportNUX.react").__setRef("ChatTabMenuBootloader.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.thread;return!!a&&b("MercuryThreadInfo").showSettingsMenu(a)&&!(i||(i=b("isEmpty")))(a.participants)&&!b("MessageRequestUtils").isMessageRequest(a)&&!b("MercuryConfig").ViewerIsReadOnly&&!(b("MercuryConfig").ColdOpenBlock&&(b("MercuryThreadInfo").isColdOpen(a)||b("MercuryThreadInfo").isEmptyLocalThread(a)))&&!(this.props.isPageChat&&a.message_count===0)};d.render=function(){if(!this.$1())return null;var a=h._("T\u00f9y ch\u1ecdn");return b("React").jsxs("div",{className:"_461_",ref:"menu",children:[b("React").jsx(b("BootloadOnInteraction.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("ChatTabMenu.react").__setRef("ChatTabMenuBootloader.react"),placeholder:b("React").jsx(b("AutoFocusableLink.react"),{"aria-label":a,role:"button",children:b("React").jsx(j,{iconStyle:this.props.iconStyle})})}),this.$2()]})};d.$2=function(){var a=this;if(!this.props.showMessengerReportNux||this.props.threadID===null)return null;var c=b("getPageIDFromThreadID")(this.props.threadID);return c===null?null:b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("React").Suspense,{fallback:null,children:b("React").jsx(k,{contextRef:function(){return a.refs.menu},pageID:c,pageUnsubscribeStatus:this.props.pageUnsubscribeStatus})})})};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryTypingAnimation_DEPRECATED.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx("div",{className:b("joinClasses")("_4a0v _1x3z",this.props.className),children:a.jsxs("div",{className:"_4b0g",children:[a.jsx("div",{className:"_5pd7"}),a.jsx("div",{className:"_5pd7"}),a.jsx("div",{className:"_5pd7"})]})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatTypingIndicator.react",["cx","fbt","Image.react","MercuryIDs","MercuryTypingAnimation_DEPRECATED.react","MessengerParticipants.bs","MessengerPersonas.bs","QE2Logger","React","ReactComponentWithPureRenderMixin"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTypingIndicator",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{setBubbleRef:a.func,isOnline:a.bool,userID:a.string,showName:a.bool},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a,c=this.getPersona();this.props.userID&&(a=b("MessengerParticipants.bs").getNow(this.props.userID));return!a&&!c?null:b("React").jsxs("div",{className:"_4tdt",children:[i(a,c),this._renderBubble()]})},getPersona:function(){var a=this.props.userID;return!a?null:b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(a))},_renderBubble:function(){var a=this.props,c=a.setBubbleRef;a=a.showName;return b("React").jsx("div",{className:"_4tdv",children:b("React").jsx("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":""),children:b("React").jsx("div",{className:"_5wd9 _n4o",children:b("React").jsx("div",{className:"_5w1r _5wdf _3_om",children:b("React").jsx(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"_5x7x",ref:c})})})})})}});function i(a,c){var d=c?c.name:a?a.name:null;c=c?c.profile_picture_url:a?a.image_src:null;a=a?a.href:null;d=h._("{name}",[h._param("name",d)]);return b("React").jsx("div",{className:"_31o4 _3njy",children:b("React").jsx("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a||"#",ref:"link",children:b("React").jsx(b("Image.react"),{src:c,ref:"image"})})})}e.exports=c}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatConfig","ChatTypingIndicator.react","CurrentUser","DOM","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerPersonas.bs","MessengerState.bs","MessengerTypingUtils.bs","React","ReactDOM","TooltipData","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.bubbleRefs={},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.shouldComponentUpdate=function(a){return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.rootClassName!==this.props.rootClassName||a.typingUserIDs!==this.props.typingUserIDs};d.componentDidUpdate=function(){__p&&__p();var a=this,c=b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs);c.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide();b("MessengerParticipants.bs").getMulti(c,function(d){a.$1&&c.forEach(function(c){var e=d[c],f=a.bubbleRefs[c];if(f&&e){c=b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(c));c=c?c.name:e.short_name;b("TooltipData").set(b("ReactDOM").findDOMNode(f),a.renderTooltip(c),"above","left")}})})};d.$2=function(){var a=this,c=b("MercuryIDs").isGroupChat(this.props.threadID);return b("React").jsx("div",{className:this.props.rootClassName,children:b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs).sort().map(function(b){return a.$3(b,!!c)})})};d.render=function(){if(!b("MercuryIDs").isValid(this.props.threadID))return null;var a=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.threadID);if(a&&!a.is_subscribed)return null;a=b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;if(!a&&b("ChatConfig").getBool("chat_tab_has_gradients"))return b("React").jsx("div",{className:"_4gd0",children:this.$2()});else return this.$2()};d.$3=function(a,c){var d=this,e=this.props.indicatorClass;return b("React").jsx(e,{setBubbleRef:function(b){d.bubbleRefs[a]=b},showName:c,userID:a},a)};d.renderTooltip=function(a){var c=b("DOM").create("span");b("ReactDOM").render(b("React").jsx("span",{children:h._("{name} \u0111ang nh\u1eadp...",[h._param("name",a)])}),c);return c};return c}(b("React").Component);a.defaultProps={indicatorClass:b("ChatTypingIndicator.react"),indicatorsDidShow:b("emptyFunction"),indicatorsDidHide:b("emptyFunction")};e.exports=a}),null);
__d("ChatVideoCallButtonBootloader.react",["cx","AutoFocusableLink.react","BootloadOnInteraction.react","ChatVideoCallIcon.bs","JSResource","LazyComponent.react","React","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ChatVideoCallIcon.bs").jsComponent;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={RTCComponent:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;b("requireWeak")("ChatVideoCallButton.react",function(b){a.$1&&a.setState({RTCComponent:b})})};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){if(this.props.isPageChat||this.props.isBlocked)return null;var a=this.props,c=a.isAudio;a=a.iconStyle;var d=this.state.RTCComponent;return b("React").jsx("div",{className:"_3a61"+(c?" _461a":"")+(c?"":" _461b"),"data-testID":c?"chatTabVoiceButton":"chatTabVideoButton",children:d?b("React").jsx(d,babelHelpers["extends"]({},this.props)):b("React").jsx(b("BootloadOnInteraction.react"),{component:b("React").jsx(b("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:b("JSResource")("ChatVideoCallButton.react").__setRef("ChatVideoCallButtonBootloader.react"),placeholder:b("React").jsx(b("AutoFocusableLink.react"),{role:"button",children:b("React").jsx(h,{isAudio:c,iconStyle:a})})})},"rtc"+(c?"audio":"video"))};return c}(b("React").Component);e.exports=a}),null);
__d("ChatDetailStack.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.topDetail;a=a.bottomDetail;a=a!==null?b("React").jsx("div",{children:a,className:"_4jeh"}):null;return b("React").jsxs("div",{children:[b("React").jsx("div",{children:c,className:"_4jeg"}),a],className:"_2rt2"})}c=a;f.make=c}),null);
__d("ChatTabMenu.bs",["MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerState.bs","bs_js_null_undefined","getPageIDFromThreadID","ChatTabMenuBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=a!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(a).thread_id):void 0;if(p!==void 0){var q=b("bs_caml_option").valFromOption(p);q=[b("MercuryIDs").isGroupChat(q),b("MessengerState.bs").isNewEmptyLocalThread(c,q),b("bs_caml_option").nullable_to_opt(b("getPageIDFromThreadID")(q))!==void 0]}else q=[!1,!0,!1];var r=a!==void 0?b("bs_caml_option").valFromOption(a).message_count===0:!0;return b("ReasonReact.bs").wrapJsForReason(b("ChatTabMenuBootloader.react"),{autoFocus:!1,hasBlockedMessages:h,highlightNewMessage:k,isEmptyChat:q[1],isEmptyConversation:r,isFocused:j,isGroupChat:q[0],isMultiCompany:i,isPageChat:q[2],membershipParticipants:b("bs_js_null_undefined").fromOption(d),pageUnsubscribeStatus:e,participantsMap:b("bs_js_null_undefined").fromOption(f),showMessengerReportNux:g,isNewMessageTab:l,thread:b("bs_js_null_undefined").fromOption(a),threadID:b("bs_js_null_undefined").fromOption(p),uri:m,viewer:c,iconStyle:n},o)}f.make=a}),null);
__d("BadgeHelper",["cx","fbt","DOM","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={xsmall:"_5dzz",small:"_5dz-",medium:"_5dz_",large:"_5d-0",xlarge:"_5d-1"},j={bot:"_64nf",verified:"_56_f",trending:"_1gop",topcommenter:"_59t2",page_gray_check:"_5n3t",page_gray_check_solid:"_6w81",work:"_5d62",game_blue:"_59c6",work_non_coworker:"_2ad7",work_official_badge:"_8b0y",work_official_badge_gray:"_8b-m",interest_community:"_3qcr",subscription:"_4fvy",inactive_user:"_7xv0"};c=h._("Nh\u00f3m ch\u00ednh th\u1ee9c");var k={bot:h._("Bot"),work_non_coworker:h._("Kh\u00f4ng ph\u1ea3i th\u00e0nh vi\u00ean trong c\u00f4ng ty b\u1ea1n"),work_official_badge:c,work_official_badge_gray:c};function l(a,c){return b("joinClasses")(i[a],j[c],"_5dzy")}function m(a){return k[a]}function a(a,c){a=l(a,c);if(a){c=m(c);return b("DOM").create("span",{className:a},c?b("DOM").create("span",{className:"accessible_elem"},c):null)}}e.exports={getClasses:l,getAlt:m,renderBadge:a,sizes:Object.keys(i),types:Object.keys(j)}}),null);
__d("Badge.react",["BadgeHelper","React"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("BadgeHelper").getAlt(this.props.type);a=a?b("React").jsx("span",{className:"accessible_elem",children:a}):null;return b("React").jsx("span",{className:b("BadgeHelper").getClasses(this.props.size,this.props.type),children:a})};return c}(b("React").Component);c.propTypes={size:a.oneOf(b("BadgeHelper").sizes),type:a.oneOf(b("BadgeHelper").types)};c.defaultProps={size:"xsmall",type:"verified"};e.exports=c}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("WorkUserEmojiWithTooltipBootloader.react",["JSResource","lazyLoadComponent","react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("lazyLoadComponent")(b("JSResource")("WorkUserEmojiWithTooltip.react").__setRef("WorkUserEmojiWithTooltipBootloader.react"));function a(a){return(g||(g=b("react"))).jsx(g.Suspense,{fallback:null,children:g.jsx(h,babelHelpers["extends"]({},a))})}e.exports=a}),null);
__d("MercuryThreadTitleReact.bs",["fbt","bs_block","bs_curry","React","bs_js_dict","bs_caml_obj","BadgeReact.bs","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","bs_js_null_undefined","MessengerParticipants.bs","MercuryParticipantListRenderer","MessengerTextWithEmoticonsReact.bs","WorkUserEmojiWithTooltipBootloader.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MercuryThreadTitleReact");function i(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",String(b))])}function a(a,c,d,e,f,g,j,k,l){__p&&__p();var m=f!==void 0?f:!1,n=g!==void 0?g:!1,o=j!==void 0?j:!1,p=k!==void 0?k:!1,q=function(a){__p&&__p();if(d.name===""){b("bs_curry")._1(a[3],[""]);var c=b("MercuryIDs").getParticipantIDFromUserID(e),f=d.participants.length>1?d.participants.filter(function(a){return a!==c}):d.participants;b("MessengerParticipants.bs").getMulti(f,function(c){__p&&__p();if(a[1][2][0]){var e=[];f.forEach(function(a){a=b("bs_js_dict").get(c,a);if(a!==void 0){e.push(b("bs_caml_option").valFromOption(a));return 0}else return 0});var g=b("bs_js_null_undefined").bind(d.custom_nickname,function(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEmoticonsReact.bs").make(!0,!0,a[1],void 0,[]));return 0});return c});g=new(b("MercuryParticipantListRenderer"))().setUseShortName(o).setUseAndSeparator(p).setIsNewThread(m).setNickname(g).renderParticipantList(e);g=n&&d.unread_count>0?i(g,d.unread_count):g;return b("bs_curry")._1(a[3],[g])}else return 0});return 0}else return 0},r=function(a){if(c!==void 0){a=c;a=a===0||a>=d.name.length?d.name:d.name.slice(0,a)+"..."}else a=d.name;a=b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEmoticonsReact.bs").make(!0,!0,a,void 0,[]));if(d.unread_count===0||!n)return a;else return i(a,d.unread_count)};return[h[0],h[1],h[2],h[3],function(a){a[1][2][0]=!0;return q(a)},function(a){a=a[1];if(a[1][0][0]!==d){a[1][0][0]=d;return q(a)}else return 0},function(a){a[1][2][0]=!1;return 0},h[7],function(c){__p&&__p();c=d.name!==""?r(0):c[1][1];var e=d.other_user_fbid;e=e==null?void 0:b("bs_caml_option").some(e);e=b("CurrentUser").isWorkUser()&&e!==void 0?b("React").createElement(b("WorkUserEmojiWithTooltipBootloader.react"),{userID:b("bs_belt_Option").getExn(e),withSpace:!0}):null;var f=b("bs_belt_Option").flatMap(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getParticipantIDFromFromThreadID(d.thread_id)),function(a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(a))});f=f!==void 0&&b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(f).verification_status),"BLUE_VERIFIED")?b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[])):null;var g={};a!==void 0&&(g.className=b("bs_caml_option").valFromOption(a));return b("React").createElement("span",g,c,e,f,l)},function(a){return[[d],"",[!1]]},h[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2]]])},h[12]]}f.component=h;f.renderTitleWithUnreadCount=i;f.make=a}),null);
__d("ChatThreadName.bs",["cx","React","LinkReact.bs","MercuryIDs","bs_caml_option","ReasonReact.bs","MessengerHoverCardLink","MercuryThreadTitleReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.thread,d=a.threadHref,e=a.tooltip,f=a.viewer,g=a.className,h=a.isNewMessageTab;a=a.onHeaderClick;if(c!==void 0){c=b("bs_caml_option").valFromOption(c);var i=c.thread_id;g=b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,e,g,void 0,"tooltip",e,void 0,void 0,d,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTitleReact.bs").make("_1ogo",void 0,c,f,h,void 0,!c.is_canonical,!0,[]))]));if(c.is_canonical){e=b("MessengerHoverCardLink").constructEndpoint({id:b("MercuryIDs").getThreadFBIDFromThreadID(i)});return b("React").cloneElement(g,{"data-hovercard":e,"data-hover":""})}else return g}else return null}c=a;f.make=c}),null);
__d("ChatVideoCallButton.bs",["MercuryIDs","bs_caml_option","ReasonReact.bs","bs_js_null_undefined","ChatVideoCallButtonBootloader.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i,j,k){__p&&__p();a=a!==void 0?a:!0;e=e!==void 0?e:function(a){return 0};f=f!==void 0?f:!1;j=j!==void 0?j:!0;if(h!==void 0){var l=b("bs_caml_option").valFromOption(h);l=[b("bs_caml_option").some(l.thread_id),b("bs_caml_option").nullable_to_opt(l.rtc_call_data)]}else l=[void 0,void 0];var m=l[1];m=m!==void 0?b("bs_caml_option").valFromOption(m):{call_state:"NO_ONGOING_CALL",server_info_data:null,initiator_fbid:null};l=b("bs_js_null_undefined").fromOption(l[0]);var n=b("MercuryIDs").isGroupChat(l);return b("ReasonReact.bs").wrapJsForReason(b("ChatVideoCallButtonBootloader.react"),{isAudio:a,isPageChat:c,isBlocked:d,isGroupChat:n,iconStyle:g,onRTCNuxCloseButtonClick:e,rtcNuxShown:f,threadID:l,thread:b("bs_js_null_undefined").fromOption(h),viewer:i,shown:j,rtcCallData:m},k)}f.make=a}),null);
__d("FantaCloseActionButton.bs",["cx","fbt","bs_curry","React","M4Icon.bs","Link.react","M4IconClose.bs","TrackingNodes","TrackingNodeTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.iconStyle,d=a.onClose;a=a.isFocused;var e=b("TrackingNodes").getTrackingInfo(b("TrackingNodeTypes").CLOSE_BUTTON);c=b("M4Icon.bs").getColor(c);a=a?h._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng"):h._("\u0110\u00f3ng tab");return b("React").createElement(b("Link.react"),{"aria-label":a,"data-ft":e,"data-hover":"tooltip","data-tooltip-content":a,"data-tooltip-position":"above",className:"_7jbw _4vu4 button",onClick:function(a){a.stopPropagation();return b("bs_curry")._1(d,a)},children:b("React").jsx("div",{children:b("React").jsx(b("M4IconClose.bs").make,{color:c}),className:"close"})})}c=a;f.make=c}),null);
__d("ChatMuteIconReact.bs",["cx","fbt","React","bs_js_dict","TooltipData","bs_js_null_undefined"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){a=a.isMuted;if(a){a=b("TooltipData").propsFor(h._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y \u0111\u00e3 b\u1ecb t\u1eaft th\u00f4ng b\u00e1o. C\u00e1c tab tr\u00f2 chuy\u1ec7n s\u1ebd kh\u00f4ng b\u1eadt l\u00ean v\u00e0 th\u00f4ng b\u00e1o \u0111\u1ea9y \u0111\u00e3 t\u1eaft."),"above");return b("React").cloneElement(b("React").jsx("div",{children:b("React").jsx("i",{className:"_7hfn"}),className:"_3a61"}),{"data-tooltip-content":b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(a,"data-tooltip-content")),"data-hover":b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(a,"data-hover")),"data-tooltip-position":b("bs_js_null_undefined").fromOption(b("bs_js_dict").get(a,"data-tooltip-position"))})}else return null}c=a;f.make=c}),null);
__d("FantaM4HeaderBottomDetail.bs",["cx","fbt","React","ChatMuteIconReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();if(a.isNewMessageTab)return null;else{var c=h._("\u0110ang ho\u1ea1t \u0111\u1ed9ng"),d=a.isPage;if(d)d=null;else{var e=a.isActive;d=e?b("React").jsx("div",{children:c,"aria-label":c,role:"presentation"}):null}e=a.isMuted;if(e){c=d!==null&&a.isMuted;return b("React").jsxs("div",{children:[d,c?b("React").jsx("span",{children:"\u30fb","aria-hidden":!0}):null,b("React").createElement(b("ChatMuteIconReact.bs").make,{isMuted:a.isMuted})],className:"_69r-"})}else return d}}f.make=a}),null);
__d("getGroupNameTooltipFromParticipantIDs",["fbt","MercuryViewer","MessengerParticipants.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10,i="\n";function a(a,c){__p&&__p();var d=[],e=b("MercuryViewer").getID();a=a&&a.filter(function(a){return a!==e});if(!a||!a.length){c(null);return}var f=a.length,j=f-h;j>1&&(a=a.slice(0,h));b("MessengerParticipants.bs").getMulti(a,function(a){for(var b in a){var e=a[b];d.push(e.name)}if(j>1){e=g._("v\u00e0 th\u00eam {number of hidden chat participants}.",[g._param("number of hidden chat participants",j)]);d.push(e)}c(d.join(i))})}function c(a){__p&&__p();var c=[],d=b("MercuryViewer").getID();a=a&&a.filter(function(a){return a!==d});if(!a||!a.length)return null;c=a.map(function(a){a=b("MessengerParticipants.bs").getNow(a);return a&&a.name}).filter(function(a){return!!a});a=a.length-(a.length-c.length)-h;if(a>1){c=c.slice(0,h);a=g._("v\u00e0 th\u00eam {number of hidden chat participants}.",[g._param("number of hidden chat participants",a)]);c.push(a)}return c.join(i)}e.exports={getGroupNameTooltipFromParticipantIDs:c,getGroupNameTooltipFromParticipantIDsAsync:a}}),null);
__d("FantaM4Header.bs",["cx","fbt","React","bs_belt_Set","bs_belt_Array","MercuryIDs","bs_belt_Option","bs_caml_option","ChatTabMenu.bs","ReasonReact.bs","ParticipantId.bs","ChatThreadName.bs","ChatDetailStack.bs","MercuryThreadInfo","ChatVideoCallButton.bs","MessageRequestUtils","FantaProfilePresence.bs","MessengerParticipants.bs","getPageIDFromThreadID","FantaCloseActionButton.bs","FantaM4HeaderBottomDetail.bs","MessengerCustomColorUtils.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","ChatGroupMembershipDialogBootloader","getGroupNameTooltipFromParticipantIDs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("FantaM4Header");function j(a,c){__p&&__p();if(a!==void 0){a=b("bs_caml_option").valFromOption(a).valueSeq().filter(function(a){return!(a.image_src==null)}).map(function(a,d,e){d=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(a.image_src));return[d,a.fbId!==c]}).take(4).toArray();var d=a.length>3;d=d?a.filter(function(a){return a[1]}):a;return d.slice(0,3).map(function(a){return a[0]})}else return[]}function k(a,c,d){__p&&__p();if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var e=a.image_src;if(e==null){a=b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);if(a==null)return j(c,d);else{c=b("MessengerParticipants.bs").getNow(a);if(c==null)return[];else{d=c.image_src;if(d==null)return[];else return[d]}}}else return[e]}else return[]}function l(a){__p&&__p();if(a!==void 0){a=b("bs_caml_option").valFromOption(a);if(a.is_canonical)return"";else{a=b("getGroupNameTooltipFromParticipantIDs").getGroupNameTooltipFromParticipantIDs(a.participants);if(a==null)return"";else return a}}else return""}function m(a){if(a!==void 0)return b("MessageRequestUtils").isMessageRequest(b("bs_caml_option").valFromOption(a));else return!1}function n(a,c,d,e,f,g,j,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D=u!==void 0?u:"";return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(i){__p&&__p();var p=k(t,r,v),u=t!==void 0?b("bs_caml_option").nullable_to_opt(b("getPageIDFromThreadID")(b("bs_caml_option").valFromOption(t).thread_id)):void 0;if(t!==void 0){i=b("bs_caml_option").valFromOption(t);i=[i.thread_fbid,i.thread_id,i.is_canonical]}else i=[null,"",!0];var C=i[2],E=i[1],F=i[0],G=l(t);if(t!==void 0){i=b("bs_caml_option").valFromOption(t).header_color;i=i==null?b("MessengerCustomColorUtils.bs").defaultColor(0):i}else i=b("MessengerCustomColorUtils.bs").defaultColor(0);if(c)if(i!==void 0){var H=i;H=[0,H,[H]]}else H=[1,"",1];else if(i!==void 0&&d){i=i;H=[[i],"",[i]]}else H=[1,"",1];var I=H[1];i=H[0];var J="_69pt"+(c?" _2mgn":""),K=function(a){if(C)return 0;else{b("ChatGroupMembershipDialogBootloader").bootload(g,r,E);a.stopPropagation();return 0}},L=C?D:"",M=y?h._("Tin nh\u1eafn m\u1edbi"):b("React").createElement(b("ChatThreadName.bs").make,{thread:t,threadHref:L,tooltip:G,viewer:v,className:"_2mgq",isNewMessageTab:y,onHeaderClick:K});H=u!==void 0;var N=m(t),O=N?b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:i,onClose:j,isFocused:d}))):t!==void 0?y?b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:i,onClose:j,isFocused:d}))):b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5 _1iti"},b("ReasonReact.bs").element(void 0,void 0,b("ChatVideoCallButton.bs").make(!1,H,a,void 0,void 0,i,t,v,void 0,[]))),b("React").createElement("div",{className:"_66n5 _1iti"},b("ReasonReact.bs").element(void 0,void 0,b("ChatVideoCallButton.bs").make(!0,H,a,q,s,i,t,v,void 0,[]))),b("React").createElement("div",{className:"_66n5"},b("ReasonReact.bs").element(void 0,void 0,b("ChatTabMenu.bs").make(t,v,g,w,r,z,a,e,d,c,y,A,i,[]))),b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:i,onClose:j,isFocused:d}))):b("React").createElement("div",{className:"_69ae"},b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:i,onClose:j,isFocused:d})));N=b("bs_belt_Option").map(r,function(a){return b("bs_belt_Set").fromArray(b("bs_belt_Array").map(a.toArray(),function(a){return a[0]}),b("ParticipantId.bs"))});H={children:function(a){a=t!==void 0?!B&&b("MessengerParticipantUtils.bs").findIntersection(v,a,b("bs_caml_option").valFromOption(t)).length!==0:!1;var c=b("FantaM4HeaderBottomDetail.bs").make({isActive:a,isMuted:b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("MercuryThreadInfo").isMuted(a)}),isNewMessageTab:y,isPage:u!==void 0});return b("React").createElement("div",{className:J,style:{backgroundColor:I},onClick:o},b("React").createElement("div",{className:"_66n2",onClick:n},y?null:b("ReasonReact.bs").element(void 0,void 0,b("FantaProfilePresence.bs").make(p,28,x!==void 0?!0:a,!0,L,G,I,e,f,C,F==null?void 0:b("bs_caml_option").some(F),r,K,[])),b("React").createElement("div",{className:"_66n3"+(y?" _6dtv":"")},b("React").createElement(b("ChatDetailStack.bs").make,{topDetail:M,bottomDetail:c}),O)))}};N!==void 0&&(H.subscribeToIDs=b("bs_caml_option").valFromOption(N));return b("React").createElement(b("MessengerPresenceProvider.bs").make,H)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c;return n(a.hasBlockedMessages,a.highlightNewMessage,a.isFocused,a.isMultiCompany,a.isDoNotDisturb,(c=b("bs_caml_option")).nullable_to_opt(a.membershipParticipants),a.onClose,a.focusOnClick,a.onHeaderToggle,a.onMinimizeButtonClick,a.onRTCNuxCloseButtonClick,c.nullable_to_opt(a.participants),a.rtcNuxShown,c.nullable_to_opt(a.thread),a.threadHref,a.viewer,a.pageUnsubscribeStatus,c.nullable_to_opt(a.pageIndicatorDescription),a.isNewMessageTab,a.showMessengerReportNux,a.uri,a.isMessengerOnlyUser,[])});c=28;f.component=i;f.profile_image_size=c;f.getUpTo3Images=j;f.getProfileImages=k;f.getTooltip=l;f.isThreadMessageRequest=m;f.make=n;f.jsComponent=a}),null);
__d("XGroupCallNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/nux/",{action:{type:"String",required:!0}})}),null);
__d("FantaChatHeaderContainer.react",["cx","AsyncRequest","Bootloader","FantaM4Header.bs","FantaTabActions","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","React","ShortProfiles","XGroupCallNuxController","immutable","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("FantaM4Header.bs").jsComponent;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={rtcNuxShown:!1},d.$4=function(a){d.props.onClose&&d.props.onClose(),a.preventDefault()},d.$5=function(a){var c=a.target,e=c&&c.classList&&c.classList.contains("button");c=c&&(c.tagName==="svg"||c.ownerSVGElement!=null);if(e||c)return;a.stopPropagation();b("FantaTabActions").minimizeTab(d.props.threadID)},d.$6=function(a){a.stopPropagation(),b("FantaTabActions").minimizeTab(d.props.threadID)},d.$3=function(){if(d.state.rtcNuxShown&&d.$1){d.setState({rtcNuxShown:!1});var a=b("XGroupCallNuxController").getURIBuilder().setString("action","dismiss").getURI();new(b("AsyncRequest"))(a).send()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.threadHref!==a.threadHref||c.highlightNewMessage!==a.highlightNewMessage||c.isFocused!==a.isFocused||c.viewer!==a.viewer||c.threadID!==a.threadID||c.isLastGroupTab!==a.isLastGroupTab||c.thread!==a.thread||d.rtcNuxShown!==b.rtcNuxShown||c.customColor!==a.customColor||c.blockedIDs!==a.blockedIDs||!c.membershipParticipants&&!!a.membershipParticipants||!!c.membershipParticipants&&!!a.membershipParticipants&&!c.membershipParticipants.equals(a.membershipParticipants)||!c.participants&&!!a.participants||!!c.participants&&!!a.participants&&!c.participants.equals(a.participants)};d.componentDidMount=function(){var a=this,c=(h||(h=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_header",JSON.stringify({isNewMessageTab:a.props.isNewMessageTab,hasThread:!!a.props.thread}),0,c)},"FantaChatHeaderContainer.react");this.$1=!0;this.$2()};d.componentWillUnmount=function(){this.$3(),this.$1=!1};d.render=function(){var a=this.props,c=a.blockedIDs,d=a.highlightNewMessage,e=a.isFocused,f=a.isNewMessageTab,g=a.membershipParticipants,h=a.pageIndicatorDescription,j=a.participants,k=a.thread,l=a.threadHref,m=a.threadID,n=a.uri;a=a.viewer;var o=this.state.rtcNuxShown;c=!!k&&b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(a,c,k);var p=!!k&&k.page_unsubscribe_status,q;m=b("MercuryIDs").getUserIDFromThreadID(m);m&&(q=b("ShortProfiles").getNow(m));m=q&&q.is_messenger_only;return b("React").jsx("div",{className:"clearfix titlebar",children:b("React").jsx(i,{hasBlockedMessages:c,highlightNewMessage:d,isMessengerOnlyUser:m,isFocused:e,isMultiCompany:this.props.isMultiCompany,isDoNotDisturb:this.props.isDoNotDisturb,isNewMessageTab:!!f,membershipParticipants:g,onClose:this.$4,onHeaderToggle:this.$5,onMinimizeButtonClick:this.$6,onRTCNuxCloseButtonClick:this.$3,pageUnsubscribeStatus:p,pageIndicatorDescription:h,participants:j,rtcNuxShown:o,showMessengerReportNux:!0,thread:k,focusOnClick:this.props.focusOnClick,threadHref:l,uri:n,viewer:a})})};d.$2=function(){var a=this;if(this.props.isLastGroupTab){var c=b("XGroupCallNuxController").getURIBuilder().setString("action","should_show").getURI();new(b("AsyncRequest"))(c).setHandler(function(b){b=b.payload.shouldShow;a.$1&&a.setState({rtcNuxShown:b})}).send()}};return c}(b("React").Component);c.propTypes={blockedIDs:a.any,customColor:a.string,highlightNewMessage:a.bool,isFocused:a.bool.isRequired,isLastGroupTab:a.bool.isRequired,onClose:a.func.isRequired,focusOnClick:a.func.isRequired,thread:a.object,threadID:a.string.isRequired,uri:a.string,viewer:a.string.isRequired};e.exports=c}),null);
__d("MessengerLightweightActionUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!!(a&&a.attach_type==="share"&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function b(a){return a.attachments[0].share.title}function c(a){return a[0].share.title}e.exports={isLWAMessage:a,isLWAAttachment:g,getCollapsedLWAText:b,getLWASnippetText:c}}),null);
__d("MercuryMessageGroup",["MercuryAttachmentLayoutTypeHelper","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","MessengerMessage.bs","enumerate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={calculateMessageGroups:function(a,c){__p&&__p();var d=[],e=null,f={value:null};a=b("enumerate")(a);var h;while(!(h=a.next()).done){var i=g.canAppendMessageToLastGroup(f.value,h.value,c);i||(e=[],d.push(e));e.push(h.value);f=h}return d},canAppendMessageToLastGroup:function(a,c,d){var e=b("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!a||h(a,d)||h(c,d)||a.author!=c.author||a.timestamp<c.timestamp-e||a.is_spoof_warning!==c.is_spoof_warning||a.page_admin_notes||c.replied_to_message||c.is_forwarded)return!1;d=b("MessengerMessage.bs").getPersona(a);e=b("MessengerMessage.bs").getPersona(c);return!d&&!e?!0:d===null||e===null?!1:d.id===e.id}};function h(a,c){var d=a.has_attachment;d&&(c===b("MercuryShareAttachmentRenderLocations").MESSENGER||c===b("MercuryShareAttachmentRenderLocations").CHAT)&&(d=i(a));return!!(b("MessengerLightweightActionUtils").isLWAMessage(a)||a.action_type=="ma-type:log-message"||d||a.html_body||a.body&&a.body.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function i(a){a=a.attachments[0];return!a||a.attach_type==="sticker"||a.attach_type==="animated_image"||b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}e.exports=g}),null);
__d("MessengerDomIDs.bs",["uniqueID"],(function(a,b,c,d,e,f){"use strict";c={COMPOSER_INPUT_DESCRIPTION:(a=b("uniqueID"))(),CONVERSATION:a(),MAIN_LABEL:a(),MUTE_DIALOG_TITLE:a(),THREAD_INFO_PANEL:a(),THREAD_TITLE:a()};f.ids=c}),null);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});e.exports=a}),null);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function(a,b,c,d,e,f){"use strict";a={requestGreetingConfig:function(a){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:a})},notifyGreetingConfigReceived:function(a,c){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:a,payload:c})}};e.exports=a}),null);
__d("MessengerDiscoveryEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROWSER_PROFILE_ICON:"browser_profile_icon",FB_STORY:"fb_story",FB_STORY_VIEWER_SHEET_ROW:"fb_story:viewer_sheet_row",FB_STORY_VIEWER_SHEET_MENU:"fb_story:viewer_sheet_menu",FB_STORY_THREAD_VIEW_HEADER:"fb_story:thread_view_header",FB_STORY_THREAD_VIEW_FOOTER:"fb_story:thread_view_footer",FB_STORY_STORIES_PUSH_NOTIFICATION:"fb_story:stories_push_notification",FB_STORY_STORIES_JEWEL_NOTIFICATION:"fb_story:stories_jewel_notification",FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:"fb_story:stories_viewer_consumer_reply",FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:"fb_story:stories_viewer_consumer_artifact",FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:"fb_story:stories_page_story_conversations",FB_TOP_OF_FEED_UNIT:"fb_top_of_feed_unit",ANONYMOUS_MESSAGING:"anonymous_messaging",FIRST_PARTY_BOT:"first_party_bot",FIRST_PARTY_BOT_RECRUITING_BOT:"first_party_bot:recruiting_bot",FIRST_PARTY_BOT_MESSENGER_BOT:"first_party_bot:messenger_bot",FIRST_PARTY_BOT_WORKPLACE_APP:"first_party_bot:workplace_app",FIRST_PARTY_BOT_REPORT_SPAM:"first_party_bot:report_spam",FIRST_PARTY_BOT_MOBILE_BUILDS_BOT:"first_party_bot:mobile_builds_bot",FIRST_PARTY_BOT_FB_TEST_PAGE:"first_party_bot:fb_test_page",FIRST_PARTY_BOT_CALENDAR_BOT:"first_party_bot:calendar_bot",FIRST_PARTY_BOT_ORDER_FOOD:"first_party_bot:order_food",FIRST_PARTY_BOT_BUSINESS_ASSISTANT:"first_party_bot:business_assistant",FIRST_PARTY_BOT_MOBILE_FINANCIAL_SERVICE:"first_party_bot:mobile_financial_service",FIRST_PARTY_BOT_FACEBOOK_BUSINESS:"first_party_bot:facebook_business",FIRST_PARTY_BOT_LEAD_GEN:"first_party_bot:lead_gen",FIRST_PARTY_BOT_MARKETPLACE:"first_party_bot:marketplace",FIRST_PARTY_BOT_INSTANT_EXPERIENCES:"first_party_bot:instant_experiences",FIRST_PARTY_BOT_PRODUCT_SUPPORT_TOOL:"first_party_bot:product_support_tool",FIRST_PARTY_BOT_CTA_ADS:"first_party_bot:cta_ads",FIRST_PARTY_BOT_FB_LOGIN_ALERTS:"first_party_bot:fb_login_alerts",FIRST_PARTY_BOT_M:"first_party_bot:m",FIRST_PARTY_BOT_TOGETHER:"first_party_bot:together",FIRST_PARTY_BOT_MPP_SUPPORT:"first_party_bot:mpp_support",MESSENGER_SEARCH:"messenger_search",MESSENGER_SEARCH_HOME:"messenger_search:home",MESSENGER_SEARCH_PEOPLE:"messenger_search:people",MESSENGER_SEARCH_GAMES:"messenger_search:games",MESSENGER_SEARCH_DISCOVER:"messenger_search:discover",MESSENGER_SEARCH_NULL_STATE:"messenger_search:null_state",MESSENGER_SEARCH_M3:"messenger_search:m3",MESSENGER_SEARCH_M4:"messenger_search:m4",FB_NOTIFICATIONS:"fb_notifications",BEGIN_SHARE_FLOW:"begin_share_flow",APP_INSIGHTS:"app_insights",BRANDED_CAMERA:"branded_camera",SAMPLE_BOTS:"sample_bots",PAGES_COMMS_AUTOMATED_RESPONSES:"pages_comms_automated_responses",PAGES_COMMS_AUTOMATED_RESPONSES_PREVIEW:"pages_comms_automated_responses:preview",PAGES_COMMS_AUTOMATED_RESPONSES_RECOMMENDATIONS:"pages_comms_automated_responses:recommendations",PAGES_COMMS_AUTOMATED_RESPONSES_JOB_APPLICATION:"pages_comms_automated_responses:job_application",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_LOCATION:"pages_comms_automated_responses:smart_reply_location",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_CONTACT:"pages_comms_automated_responses:smart_reply_contact",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_HOURS:"pages_comms_automated_responses:smart_reply_hours",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_POSITIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_positive_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_NEGATIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_negative_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_INSTANT_REPLIES:"pages_comms_automated_responses:instant_replies",PAGES_COMMS_AUTOMATED_RESPONSES_AWAY_MESSAGE:"pages_comms_automated_responses:away_message",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_REMINDER:"pages_comms_automated_responses:appointment_reminder",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_FOLLOWUP:"pages_comms_automated_responses:appointment_followup",PAGES_COMMS_AUTOMATED_RESPONSES_ORGANIC_INTAKE_FORM:"pages_comms_automated_responses:organic_intake_form",CUSTOMER_MATCHING:"customer_matching",CUSTOMER_MATCHING_PHONE_NUMBER:"customer_matching:phone_number",VERTICAL_SERVICES:"vertical_services",VERTICAL_SERVICES_GET_QUOTE:"vertical_services:get_quote",MESSENGER_RTC:"messenger_rtc",MESSENGER_RTC_PHOTO_CAPTURE:"messenger_rtc:photo_capture",MESSENGERDOTCOM:"messengerdotcom",MESSENGERDOTCOM_WEB_SEARCH:"messengerdotcom:web_search",MESSENGERDOTCOM_PAGES_PLUGIN:"messengerdotcom:pages_plugin",FB_PROFILE:"fb_profile",FB_PROFILE_MESSAGE_BUTTON:"fb_profile:message_button",DISCOVER_TAB:"discover_tab",DISCOVER_TAB_M4:"discover_tab:m4",DISCOVER_TAB_M3:"discover_tab:m3",MESSAGING_INBOX_IN_BLUE:"messaging_inbox_in_blue",MESSAGING_INBOX_IN_BLUE_THREAD_LIST:"messaging_inbox_in_blue:thread_list",MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:"messaging_inbox_in_blue:people_picker",BYMM_NULL_STATE:"bymm_null_state",FUNDRAISER_SUPPORT:"fundraiser_support",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_PROACTIVE:"fundraiser_support:proactive",FUNDRAISER_SUPPORT_CHECKLIST:"fundraiser_support:checklist",FB_SEARCH:"fb_search",FB_SEARCH_CHAT_SIDEBAR_TYPEAHEAD:"fb_search:chat_sidebar_typeahead",FB_SEARCH_SEARCH_ENTITY_CARD:"fb_search:search_entity_card",FB_SEARCH_HIGH_CONFIDENCE_CARD:"fb_search:high_confidence_card",SPONSORED_MESSAGES_ADS:"sponsored_messages_ads",INSTANT_ARTICLE:"instant_article",INSTANT_ARTICLE_CTA:"instant_article:cta",INSTANT_ARTICLE_OVERFLOW_MENU:"instant_article:overflow_menu",INSTANT_ARTICLE_TOOLKIT_DISCUSS:"instant_article:toolkit_discuss",FB_FEED:"fb_feed",FB_FEED_PYMM_RHC:"fb_feed:pymm_rhc",FB_FEED_PAGE_HOVER_CARD:"fb_feed:page_hover_card",FB_FEED_ADMIN:"fb_feed:admin",FB_FEED_ORGANIC_POST:"fb_feed:organic_post",FB_FEED_BCF:"fb_feed:bcf",FB_FEED_BCF_OPEN_CHAT_BUTTON:"fb_feed:bcf_open_chat_button",PAGES_MANAGER_APP:"pages_manager_app",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_TEXT:"pages_manager_app:notification_direct_reply_text",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_LIKE:"pages_manager_app:notification_direct_reply_like",PAGES_MANAGER_APP_CRM_SCHEDULED_MESSAGES:"pages_manager_app:crm_scheduled_messages",BUSINESS_ON_MESSENGER:"business_on_messenger",CLICK_TO_MESSENGER_AD:"click_to_messenger_ad",CLICK_TO_MESSENGER_AD_MESSENGER_DEEPLINK_ADS:"click_to_messenger_ad:messenger_deeplink_ads",CLICK_TO_MESSENGER_AD_ADS_WELCOME_ADMIN:"click_to_messenger_ad:ads_welcome_admin",CLICK_TO_MESSENGER_AD_USER_SENT:"click_to_messenger_ad:user_sent",CLICK_TO_MESSENGER_AD_PARTIAL_AUTOMATED:"click_to_messenger_ad:partial_automated",CLICK_TO_MESSENGER_AD_FB_P2B_DEEPLINK:"click_to_messenger_ad:fb_p2b_deeplink",MDOTME:"mdotme",FB_OFFER:"fb_offer",FB_OFFER_OFFER_DETAILS_VIEW:"fb_offer:offer_details_view",ADMIN_MESSAGES:"admin_messages",BUSINESS_TAB_M4:"business_tab_m4",BUSINESS_TAB_M4_BUSINESS_INBOX:"business_tab_m4:business_inbox",BUSINESS_TAB_M4_RECOMMENDATION_CARD:"business_tab_m4:recommendation_card",BUSINESS_TAB_M4_RECOMMENDATION_DETAILS:"business_tab_m4:recommendation_details",FB_PAGE:"fb_page",FB_PAGE_ICEBREAKER_RHC:"fb_page:icebreaker_rhc",FB_PAGE_SEND_AND_POST_FROM_COMPOSER:"fb_page:send_and_post_from_composer",FB_PAGE_ADMIN_TEST_LINK:"fb_page:admin_test_link",FB_PAGE_SHOP_PDP:"fb_page:shop_pdp",FB_PAGE_FREQUENTLY_ASKED_QUESTION_CARD:"fb_page:frequently_asked_question_card",FB_PAGE_ABOUT_CARD_DETAIL_VIEW:"fb_page:about_card_detail_view",FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:"fb_page:responsiveness_context_card",FB_PAGE_ABOUT_CARD:"fb_page:about_card",FB_PAGE_ABOUT_CARD_PQI_MESSAGE_UPSELL:"fb_page:about_card_pqi_message_upsell",FB_PAGE_PAGE_HEADER:"fb_page:page_header",FB_PAGE_PRIMARY_MESSAGE_BUTTON:"fb_page:primary_message_button",FB_PAGE_SECONDARY_MESSAGE_BUTTON:"fb_page:secondary_message_button",FB_PAGE_FB_PAGE_CTA_PAGES_ACTIONS_UNIT:"fb_page:fb_page_cta_pages_actions_unit",FB_PAGE_JEWEL_THREAD:"fb_page:jewel_thread",FB_PAGE_USER_MESSAGE_PROMPT:"fb_page:user_message_prompt",FB_PAGE_PAGES_INFO:"fb_page:pages_info",FB_PAGE_LOADED_FROM_DATA:"fb_page:loaded_from_data",FB_PAGE_CHAT_SIDEBAR_TYPEAHEAD:"fb_page:chat_sidebar_typeahead",FB_PAGE_DYNAMICHOVERCARD:"fb_page:dynamicHoverCard",FB_PAGE_ABOUT_ROW:"fb_page:about_row",FB_PAGE_PYMM_RHC:"fb_page:pymm_rhc",FB_PAGE_GROUPS_RHC:"fb_page:groups_rhc",FB_PAGE_CONTEXT_CARD:"fb_page:context_card",FB_PAGE_CONTEXTUAL_RECOMMENDATIONS:"fb_page:contextual_recommendations",FB_PAGE_SEARCHENTITYCARD:"fb_page:searchEntityCard",FB_PAGE_MESSAGE_RECEIVED:"fb_page:message_received",FB_PAGE_PAGE_HOVERCARD:"fb_page:page_hovercard",FB_PAGE_QUESTION_TRIGGERED_CONVO:"fb_page:question_triggered_convo",FB_PAGE_DEFAULT_NATIVE_TEMPLATES_CTA:"fb_page:default_native_templates_cta",FB_PAGE_LAUNCHPAD_MORE_DRAWER:"fb_page:launchpad_more_drawer",FB_PAGE_LAUNCHPAD_HEADER:"fb_page:launchpad_header",FB_PAGE_LAUNCHPAD_FOOTER:"fb_page:launchpad_footer",FB_PAGE_REPLY_TRIGGERED_CONVO:"fb_page:reply_triggered_convo",FB_PAGE_LOCATIONS_CHILD_PAGE_MESSAGE_CTA:"fb_page:locations_child_page_message_cta",MESSENGER_BUSINESS_SOLUTIONS:"messenger_business_solutions",BROADCAST:"broadcast",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MIB_NOTIFICATION:"mib_notification",MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:"mib_notification:direct_push_notif",MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:"mib_notification:direct_jewel_notif",MIB_NOTIFICATION_SUBSEQUENT_PUSH_NOTIF:"mib_notification:subsequent_push_notif",MIB_NOTIFICATION_SUBSEQUENT_JEWEL_NOTIF:"mib_notification:subsequent_jewel_notif",NULL_STATE_CTA:"null_state_cta",INSTANT_GAMES:"instant_games",INSTANT_GAMES_ADMIN_INTRO:"instant_games:admin_intro",PRIVATE_REPLY:"private_reply",PRIVATE_REPLY_ADMIN:"private_reply:admin",PRIVATE_REPLY_RICH_POST_REPLY:"private_reply:rich_post_reply",PRIVATE_REPLY_RICH_COMMENT_REPLY:"private_reply:rich_comment_reply",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin",MEET_NEW_FRIENDS:"meet_new_friends",FB_GROUPS:"fb_groups",FB_GROUPS_PICKER_EXISTING_CHAT:"fb_groups:picker_existing_chat",FB_GROUPS_PICKER_JOIN_CHAT:"fb_groups:picker_join_chat",FB_GROUPS_PICKER_CREATE_CHAT:"fb_groups:picker_create_chat",FB_GROUPS_MALL_CHATS_TAB:"fb_groups:mall_chats_tab",FB_HEADER_DOCK:"fb_header_dock",FB_HEADER_DOCK_LOADED_FROM_BROWSER_COOKIE:"fb_header_dock:loaded_from_browser_cookie",FB_HEADER_DOCK_JEWEL_THREAD:"fb_header_dock:jewel_thread",FB_HEADER_DOCK_JEWEL_SEE_ALL_MESSAGES:"fb_header_dock:jewel_see_all_messages",PAGES_PLUGIN:"pages_plugin",PAGES_PLUGIN_MESSAGE_TAB:"pages_plugin:message_tab",FB_LOGIN_ALERTS:"fb_login_alerts",WORK_CHAT:"work_chat",WORK_CHAT_WORK_IDS:"work_chat:work_ids",WORK_CHAT_EMAIL:"work_chat:email",CHECKBOX_PLUGIN:"checkbox_plugin",DEPRECATED:"deprecated",DEPRECATED_BUSINESS_ON_MESSENGER:"deprecated:business_on_messenger",DEPRECATED_ADMIN_MESSAGES:"deprecated:admin_messages",DEPRECATED_PIXEL_EVENT:"deprecated:pixel_event",DEPRECATED_NULL_STATE_CTA:"deprecated:null_state_cta",DEPRECATED_SUBSCRIPTIONS:"deprecated:subscriptions",FB_JOB:"fb_job",FB_JOB_JOB_APPLICATION:"fb_job:job_application",FRIENDS_HOME:"friends_home",FRIENDS_HOME_ACTIVE_NOW:"friends_home:active_now",M:"m",LOCAL_DEV_PLATFORM:"local_dev_platform",LOCAL_DEV_PLATFORM_SEND_AVAILABILITY:"local_dev_platform:send_availability",MESSENGER_INBOX:"messenger_inbox",MESSENGER_INBOX_THREAD_LIST:"messenger_inbox:thread_list",MESSENGER_INBOX_IN_THREAD:"messenger_inbox:in_thread",MESSENGER_INBOX_NESTED_FOLDER:"messenger_inbox:nested_folder",FB_EVENT:"fb_event",FB_EVENT_MESSAGE_HOST:"fb_event:message_host",UNKNOWN:"unknown",UNKNOWN_BNP_PSID:"unknown:bnp_psid",UNKNOWN_ORGANIC_POST:"unknown:organic_post",NEARBY_FRIENDS:"nearby_friends",NEARBY_FRIENDS_DASH_LIST:"nearby_friends:dash_list",NEARBY_FRIENDS_DASH_MAP:"nearby_friends:dash_map",NEARBY_FRIENDS_DASH_WAVE:"nearby_friends:dash_wave",NEARBY_FRIENDS_WAVE_INT:"nearby_friends:wave_int",NEARBY_FRIENDS_FEED:"nearby_friends:feed",NEARBY_FRIENDS_SHARE_LIVE_LOC:"nearby_friends:share_live_loc",IG_FEED:"ig_feed",IG_FEED_ORGANIC_POST:"ig_feed:organic_post",DYNAMIC_LOCAL_ADS:"dynamic_local_ads"})}),null);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({pagesGreetingShouldShow:!1,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,icebreakers:null,showOrganicIntakeForm:!1,icebreakerTextForOrganicIntakeForm:null,icebreakerCtas:null}));e.exports=a}),null);
__d("XMercuryChatTabPagesNullStateConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/mercury/greeting/",{entry_point:{type:"Enum",enumType:1}})}),null);
__d("PagesMessagingMercuryChatTabStore",["invariant","AsyncRequest","FluxStore","MercuryIDs","MessengerDiscoveryEntryPoint","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabDispatcher","PagesMessagingMercuryChatTabState","XMercuryChatTabPagesNullStateConfigController","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesMessagingMercuryChatTabDispatcher"))||this;c.$PagesMessagingMercuryChatTabStore1=new Map();return c}var d=c.prototype;d.getStateByThread=function(a){this.$PagesMessagingMercuryChatTabStore1.has(a)||this.$PagesMessagingMercuryChatTabStore1.set(a,new(b("PagesMessagingMercuryChatTabState"))());a=this.$PagesMessagingMercuryChatTabStore1.get(a);a||g(0,2437);return a};d.__onDispatch=function(a){var c=a.actionType,d=a.payload;a=a.threadID;var e=this.getStateByThread(a);e||g(0,2438);switch(c){case b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(a);break;case b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(a,this.$PagesMessagingMercuryChatTabStore4(d,e));break}};d.$PagesMessagingMercuryChatTabStore2=function(a){var c="unknown";b("ifRequired")("FantaAppStore",function(d){d=d.getState().tabGroup.tabs.get(a);d&&d.entryPoint&&d.entryPoint[0]&&Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(d.entryPoint[0])!==-1&&(c=d.entryPoint[0])});var d=b("XMercuryChatTabPagesNullStateConfigController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({page_id:b("MercuryIDs").getUserIDFromThreadID(a),entry_point:c}).setHandler(function(c){return b("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(a,c.payload)}).send()};d.$PagesMessagingMercuryChatTabStore3=function(a,b){this.$PagesMessagingMercuryChatTabStore1.set(a,b),this.__emitChange()};d.$PagesMessagingMercuryChatTabStore4=function(a,b){var c=b.set("pagesGreetingShouldShow",a.pagesGreetingShouldShow).set("pagesGreetingContent",a.pagesGreetingContent).set("pageResponsiveness",a.pageResponsiveness).set("coverPhotoData",a.coverPhotoData).set("connectionContext",a.connectionContext).set("pageOnlineMessage",a.pageOnlineMessage).set("showOrganicIntakeForm",a.showOrganicIntakeForm).set("icebreakerTextForOrganicIntakeForm",a.icebreakerTextForOrganicIntakeForm);(b.icebreakers===null||b.icebreakers===void 0||Object.keys(b.icebreakers).length===0)&&(c=c.set("icebreakers",a.icebreakers));(b.icebreakerCtas===null||b.icebreakerCtas===void 0||b.icebreakerCtas.length===0)&&(c=c.set("icebreakerCtas",a.icebreakerCtas));return c};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesMessageListGreeting.react",["cx","FluxContainer","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesMessagingMercuryChatTabStore")]};c.calculateState=function(a,c){if(c.messageCount>0)return{shouldShowGreeting:!1};a=b("PagesMessagingMercuryChatTabStore").getStateByThread(c.threadID);return{greetingContent:a.pagesGreetingContent,shouldShowGreeting:a.pagesGreetingShouldShow}};var d=c.prototype;d.componentDidMount=function(){b("PagesMessagingMercuryChatTabActions").requestGreetingConfig(this.props.threadID)};d.render=function(){return!this.state.shouldShowGreeting||!this.state.greetingContent||this.state.greetingContent.trim().length===0?null:b("React").jsx("div",{className:"_4fsh _3-8z",children:this.state.greetingContent})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ChatMessageList.react",["cx","requireCond","CurrentUser","MercuryIDs","MercuryMessageGroup","MercuryShareAttachmentRenderLocations","MessengerDomIDs.bs","MessengerLightweightActionUtils","MessengerMessage.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","cr:832269","PagesMessageListGreeting.react","React","ReactDOM","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDomIDs.bs").ids,i=b("MessengerPresenceProvider.bs").jsComponent;a=b("React").PropTypes;var j=2,k=1e3*60*60,l=6,m=function(a){__p&&__p();var b;b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;switch(b){case"group_poll":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.question_id:b:b:b;case"instant_game_update":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.game_id:b:b:b;case"lightweight_event_create":case"lightweight_event_update":case"lightweight_event_delete":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_notify_before_event":case"lightweight_event_notify":case"lightweight_event_rsvp":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.event_id:b:b:b;case"confirm_friend_request":b=((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.friend_request_subtype:b:b:b)||((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.subtype:b:b:b);return!b||b.toLowerCase()!=="icebreaker"?null:p(a);case"messenger_icebreaker_vote_cast":return p(a);default:return null}},n=function(a){return b("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeMessageID:null,messageGroups:[],prevMessages:null,newMessagesGroupIndex:Infinity,lastReadTimestamp:((b=d.props.thread)==null?void 0:b.last_read_timestamp)||Infinity,newMessagesCountForDisplay:0},d.$5=function(a){d.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})},d.$6=function(a){d.setState({activeMessageID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){__p&&__p();if(c.prevMessages!==a.messages)if(b("cr:832269")!==null){var d=c.lastReadTimestamp;c=a.location;var e=a.messages,f=a.thread,g=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());(f==null?void 0:f.snippet_sender)===g&&(d=Infinity);f=e.slice().reverse().find(function(a){return a.author===g});f&&f.timestamp>d&&(d=f.timestamp);f=a.messages.filter(function(a){return a.timestamp<=d});var h=a.messages.filter(function(a){return a.timestamp>d});f=b("MercuryMessageGroup").calculateMessageGroups(f,c);c=b("MercuryMessageGroup").calculateMessageGroups(h,c);h=h.filter(function(a){return a.log_message_type==null}).length;return{messageGroups:[].concat(f,c),prevMessages:e,newMessagesGroupIndex:f.length,newMessagesCountForDisplay:h,lastReadTimestamp:d}}else return{messageGroups:b("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location),prevMessages:a.messages};else return null};var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.DateBreak,e=c.forGameChat,f=c.location,g=c.MessageGroup,p=c.CollapsedLogMessageGroup,u=[],v=[];c=this.props.thread&&this.props.thread.solid_color;var w=c?{backgroundColor:c}:null,x=this.state.activeMessageID,y=this.state.messageGroups,z=y.length,A=this.props.readReceipts;c=A.last();var B=c?c.watermark:0,C=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),D={};for(var c=this.props.messages.length-1;c>=0;c--){var E=this.props.messages[c],F=m(E)||n(E);F&&!D[F]&&(D[F]=E.message_id)}var G=function(h){__p&&__p();var m=h>0?y[h-1]:null;m=m&&m.length>0?m[m.length-1]:null;var G=y[h],I=G[0],J=G[G.length-1],K=!1;b("cr:832269")!=null&&h>0&&h===a.state.newMessagesGroupIndex&&a.state.newMessagesCountForDisplay>0&&u.push(b("React").jsx("div",{ref:"newMessageDivider",children:b("React").jsx(b("cr:832269"),{newMessagesCount:a.state.newMessagesCountForDisplay})},"new-message-divider"));if(!m||I.timestamp-m.timestamp>k){K=!0;m=b("React").jsx(d,{date:new Date(I.timestamp),ref:"db:"+I.message_id},"db:"+I.message_id);v.length===0&&u.push(m)}m=n(I);if(m&&D[m]!==I.message_id){m=a.$1(I,D);u.push(m);return"continue"}if(I.action_type=="ma-type:log-message"){m=(F=I)!=null?(F=F.log_message_data)!=null?F.message_type:F:F;var L=(E=I)!=null?(E=E.log_message_data)!=null?(E=E.untypedData)!=null?E.friend_request_subtype:E:E:E,M=m==="parties_presence",N=m==="instant_game_update",O=m==="group_poll";L=m==="messenger_icebreaker_vote_cast"||m==="confirm_friend_request"&&L&&L.toLowerCase()==="icebreaker";var P=["lightweight_event_create","lightweight_event_update","lightweight_event_delete","lightweight_event_update_time","lightweight_event_update_title","lightweight_event_update_location","lightweight_event_notify_before_event","lightweight_event_notify","lightweight_event_rsvp"].includes(m);if((f===b("MercuryShareAttachmentRenderLocations").CHAT||f===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(I.log_message_type==="log:video-call"||I.log_message_type==="log:phone-call"||m==="messenger_call_log")){m=a.$2(I,C,y,z,h,A,B,J,D);u.push(m)}else{m=a.$3(I,D);c=I.message_id;!N&&!O&&!P&&!L&&v.push(m);if(M&&b("gkx")("678643"))return"continue";(v.length===G.length||N||O||P||L)&&(a.$4(v,u,c,w,p),v=[]);(N||O||P||L)&&u.push(m)}return"continue"}G=b("immutable").List(G);var Q=q(y,z,h,D),R=!s(A,G,Q),S=r(B,J),T=t(a.props.deliveryTimestamp,J),U=G.first().author,V=b("MessengerMessage.bs").getPersona(J),W=C===I.author;M=W?0:l+j;var X=a.props.maxBubbleWidth?a.props.maxBubbleWidth-M:null;u.push(b("React").jsx(i,{subscribeToIDs:U?[U]:null,children:function(c){return b("React").jsx(g,{activeMessageID:o(x,G),author:U,deliveryTimestamp:T,forGameChat:e,hasDateBreak:K,isCanonical:a.props.isCanonical,isFromViewer:W,isPageMessage:a.props.isPageMessage,isOnline:U?b("MessengerParticipantUtils.bs").has(c,U):!1,lastReadTimestamp:S,maxBubbleWidth:X,messages:G,nextTimestamp:Q,onAttachmentLoad:a.props.onAttachmentLoad,onMessageDeselect:a.$5,onMessageSelect:a.$6,onStickerClick:a.props.onStickerClick,onReplyToMessage:a.props.onReplyToMessage,pageID:a.props.isPageMessage===!0?a.props.viewer:null,persona:V,readReceipts:R?A:b("immutable").OrderedMap(),ref:function(b){return a.refs["mg:"+I.message_id]=b},thread:a.props.thread,threadID:a.props.threadID,scrollToRepliedMessage:a.props.scrollToRepliedMessage},"mg:"+I.message_id)}},"pp:"+I.message_id))};for(var H=0;H<z;H++){var I=G(H);if(I==="continue")continue}I=this.props.threadID||this.props.thread&&this.props.thread.thread_id||this.props.thread&&this.props.thread.thread_fbid;G=null;f===b("MercuryShareAttachmentRenderLocations").MESSENGER&&I&&this.props.isPageMessage&&(G=b("React").jsx(b("PagesMessageListGreeting.react"),{messageCount:v.length+z,threadID:I}));return b("React").jsxs("div",{id:f===b("MercuryShareAttachmentRenderLocations").MESSENGER?h.CONVERSATION:null,children:[G,u]})};d.getMessageElement=function(a,c){__p&&__p();if(c===!0){var d=this.refs["db:"+a];if(d)return b("ReactDOM").findDOMNode(d)}d=this.$7(a);if(!d)return null;d=d[0].message_id;var e=this.refs["mg:"+d];if(!e)return null;return c===!0&&d===a?b("ReactDOM").findDOMNode(e):e.getMessageElement(a)};d.getMessageComponent=function(a){var b=this.$7(a);if(!b)return null;b=b[0].message_id;b=this.refs["mg:"+b];return!b?null:b.getMessage(a)};d.$7=function(a){return this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})})};d.$4=function(a,c,d,e,f){a.length!==0&&(a.length>1?c.push(b("React").jsx(f,{style:e,children:a},"mg:"+d)):c.push(b("React").jsx("div",{children:a},"mg:"+d)))};d.$2=function(a,c,d,e,f,g,h,j,k){__p&&__p();var l=this,m,n,o=this.props.MessageGroup;n=((n=a)!=null?(n=n.log_message_data)!=null?n.untypedData:n:n)||{};m=(m=a)!=null?(m=m.log_message_data)!=null?m.message_type:m:m;if(m==="messenger_call_log"){m={message_type:"messenger_call_log",call_capture_attachments:n.call_capture_attachments,caller:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(n.caller_id,"caller id")),callee:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(n.callee_id,"callee id")),server_info_data:n.server_info,thread_id:a.thread_fbid,answered:n.event!=="missed_call",log_message_type:n.video?"log:video-call":"log:phone-call",event:n.event,added_participants:null,removed_participants:null,untypedData:null,image:null,name:null};a=babelHelpers["extends"]({},a,{log_message_data:m})}n={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};m=babelHelpers["extends"]({},a,{attachments:[n],body:""});var p=b("immutable").List([m]),u=q(d,e,f,k),v=!s(g,p,u),w=r(h,j),x=t(this.props.deliveryTimestamp,j),y=p.first().author;return b("React").jsx(i,{subscribeToIDs:y?[y]:null,children:function(d){return b("React").jsx(o,{author:p.first().author,deliveryTimestamp:x,forGameChat:l.props.forGameChat,isCanonical:l.props.isCanonical,isFromViewer:c===a.author,isOnline:y?b("MessengerParticipantUtils.bs").has(d,y):!1,isPageMessage:l.props.isPageMessage,lastReadTimestamp:w,maxBubbleWidth:l.props.maxBubbleWidth,messages:p,nextTimestamp:u,onAttachmentLoad:l.props.onAttachmentLoad,onMessageDeselect:l.$5,onMessageSelect:l.$6,onStickerClick:l.props.onStickerClick,readReceipts:v?g:b("immutable").OrderedMap(),thread:l.props.thread,threadID:l.props.threadID})}},a.message_id)};d.$3=function(a,c){var d=this.props.LogMessage,e=m(a);c=e?c[e]:null;return a.log_message_type!=="log:error-msg"?b("React").jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id):null};d.$1=function(a,c){c=c[b("nullthrows")(n(a),"other group id first message")];var d=this.props.LogMessage;return b("React").jsx(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:c===a.message_id},a.message_id)};return c}(b("React").PureComponent);c.propTypes={CollapsedLogMessageGroup:a.func.isRequired,DateBreak:a.func.isRequired,deliveryTimestamp:a.number.isRequired,forGameChat:a.bool,isCanonical:a.bool,isPageMessage:a.bool,location:a.string.isRequired,LogMessage:a.func.isRequired,loadMoreMessages:a.func,MessageGroup:a.func.isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,onReplyToMessage:a.func,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired,viewer:a.string.isRequired,thread:a.object,threadID:a.string,scrollToRepliedMessage:a.func};function o(a,b){return b.find(function(b){return b.message_id===a})?a:null}function p(a){return(a=a)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.icebreaker_type:a:a:a}function q(a,b,c,d){if(c>=b-1)return Infinity;var e=a[c+1][0],f=n(e);if(f&&d[f]!==e.message_id||((f=e)!=null?f.action_type:f)=="ma-type:log-message")return q(a,b,c+1,d);else return e.timestamp}function r(a,b){return b.timestamp>a?a:Infinity}function s(a,b,c){return b.isEmpty()||!a.isEmpty()&&(a.last().action<b.first().timestamp||a.first().action>=c)}function t(a,b){return b.timestamp>a?a:Infinity}e.exports=c}),null);
__d("XEventReminderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/",{event_reminder_id:{type:"Int",required:!0}})}),null);
__d("PhotoStoreCore",[],(function(a,b,c,d,e,f){__p&&__p();var g={actions:{UPDATE:"update"},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(a){if(!this._photoCache[a])throw new Error("Photo cache requested for unknown set ID");return this._photoCache[a]},hasBeenCreated:function(a){return!!this._photoCache[a]},clearSetCache:function(a){delete this._photoCache[a],delete this._postCreateCallbacks[a]},getByIndex:function(a,b,c){this.getPhotoCache(a).getItemAtIndex(b,c)},getByIndexImmediate:function(a,b){return this._photoCache[a]?this._photoCache[a].getItemAtIndexImmediate(b):void 0},getItemsInAvailableRange:function(a){var b=this.getAvailableRange(a),c=[];for(var d=b.offset;d<b.length;d++)c.push(this.getByIndexImmediate(a,d));return c},getItemsAfterIndex:function(a,b,c,d){b=this.getCursorByIndexImmediate(a,b);this.fetchForward(a,b,c,d)},getAllByIDImmediate:function(a){var b=this,c=Object.keys(this._photoCache);return c.map(function(c){return b.getByIndexImmediate(c,b.getIndexForID(c,a))}).filter(function(a){return!!a})},getIndexForID:function(a,b){return this._photoCache[a]?this._photoCache[a].getIndexForID(b):void 0},getEndIndex:function(a){a=this.getAvailableRange(a);return a.offset+a.length-1},getCursorByIndexImmediate:function(a,b){b=this.getByIndexImmediate(a,b);return b?this._photoCache[a].getCursorForID(b.id):void 0},hasNextPage:function(a){var b=this.getCursorByIndexImmediate(a,this.getEndIndex(a));return this.getPhotoCache(a).hasNextPage(b)},getAvailableRange:function(a){return this.getPhotoCache(a).getAvailableRange()},hasLooped:function(a){return this.getPhotoCache(a).hasLooped()},fetchForward:function(a,b,c,d){this.getPhotoCache(a).getItemsAfterCursor(b,c,d)},fetchBackward:function(a,b,c,d){this.getPhotoCache(a).getItemsBeforeCursor(b,c,d)},executePostCreate:function(a,b){this._photoCache[a]?b&&b():this._postCreateCallbacks[a]=b},runPostCreateCallback:function(a){var b=this._postCreateCallbacks[a];b&&(b(),delete this._postCreateCallbacks[a])},setPreFetchCallback:function(a,b){this.getPhotoCache(a).setPreFetchCallback(b)},updateData:function(a){var b=a.set_id;!this._photoCache[b]?(this._photoCache[b]=new a.cache_class(a),this.runPostCreateCallback(b)):a.query_metadata.action==g.actions.UPDATE?this._photoCache[b].updateData(a):this._photoCache[b].addData(a)},updateFeedbackData:function(a){var b=Object.keys(a);b.forEach(function(b){return g.getAllByIDImmediate(b).forEach(function(c){c.feedback=a[b].feedback})})},reset:function(){var a=this;Object.keys(this._photoCache).forEach(function(b){return a.clearSetCache(b)})}};e.exports=g}),null);
__d("PhotoStore",["Arbiter","PhotoStoreCore"],(function(a,b,c,d,e,f){b("Arbiter").subscribe("update-photos",function(a,c){b("PhotoStoreCore").updateData(c)}),e.exports=b("PhotoStoreCore")}),null);
__d("MessagesViewer",["AsyncRequest","DOM","PhotoStore","React","ReactDOM","ge"],(function(a,b,c,d,e,f){__p&&__p();a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f="messages");g(b("React").jsx(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){g(a)}};function g(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MercuryMessageRendererUtils",["cx","invariant","HovercardLink","MercuryViewer","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={getLinkToParticipant:function(a,c){var d=a.fbid,e=b("HovercardLink").constructEndpoint({id:d});c=c&&c.custom_nickname&&c.custom_nickname[d];c&&(c=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}));d=c?c:a.name;return a.href?b("React").jsx("a",{className:"_5wzt",href:a.href,"data-hovercard":e,children:d}):d},moveCurrentUserToFront:function(a){a===void 0&&(a=[]);a||h(0,2427);var c=a.indexOf(b("MercuryViewer").getID());if(c>0){c=a.filter(function(a){return a!==b("MercuryViewer").getID()});return[b("MercuryViewer").getID()].concat(c)}return a}};e.exports=a}),null);
__d("MercuryLogMessageRenderer",["cx","fbt","invariant","ix","Bootloader","CSS","CurrentUser","Image.react","MercuryAttachmentViewer","MercuryLogMessageType","MercuryMessageRendererUtils","MercuryViewer","MessagingSourceEnum","MessengerAdminGroupUtils","MessengerLightweightActionUtils","MessengerParticipants.bs","MessengerState.bs","MessengerTextWithEmoticons.react","React","ReactDOM","TooltipLink.react","UserAgent","convertMIGColorToFIGColor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a={renderText:function(a,c,d,e){__p&&__p();c=c||b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),a.thread_id);if(b("MessengerLightweightActionUtils").isLWAMessage(a)){e(b("MessengerLightweightActionUtils").getCollapsedLWAText(a));return}switch(a.log_message_type){case b("MercuryLogMessageType").SUBSCRIBE:var f=a.author;a.log_message_data||i(0,2425);var g=a.log_message_data.added_participants;g||i(0,2426);f=g.length===1&&f===g[0];g=c&&b("MessengerAdminGroupUtils").isWorkFroup(c)&&b("MessengerAdminGroupUtils").isWorkSyncedChatThreadMemberSyncMessage(a);f||g?b("Bootloader").loadModules(["MercuryJoinableMessageRenderer"],function(b){b.renderText(a,c,e)},"MercuryLogMessageRenderer"):m(a,e);break;case b("MercuryLogMessageType").UNSUBSCRIBE:b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?A(a,e):s(a,e):r(a,e);break;case b("MercuryLogMessageType").THREAD_NAME:c&&b("MessengerAdminGroupUtils").isWorkFroup(c)&&b("MessengerAdminGroupUtils").isWorkSyncedChatThreadCreationMessage(a)?v(a,e):c&&b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?B(a,c,e):t(a,c,e):w(a,c,e);break;case b("MercuryLogMessageType").THREAD_IMAGE:c&&b("MessengerAdminGroupUtils").isJoinableThread(c)?b("MessengerAdminGroupUtils").isGroupChat(c)?C(a,c,e):x(a,c,e):y(a,c,e);break;case b("MercuryLogMessageType").WALLPAPER:z(a,e);break;case b("MercuryLogMessageType").GENERIC_ADMIN_TEXT:var h=b("convertMIGColorToFIGColor")(c&&c.solid_color);b("Bootloader").loadModules(["MercuryXMATRenderer"],function(b){e(b.renderText(h,a,d))},"MercuryLogMessageRenderer");break;default:b("Bootloader").loadModules(["MercurySpecialLogMessageRenderer"],function(b){b.renderText(a,e)},"MercuryLogMessageRenderer");break}},renderIcon:function(a){return b("React").jsx(b("Image.react"),{className:k(a.log_message_type,a.log_message_data),src:j("99239")})},renderLegacy:function(a,c,d,e){k(e.log_message_type,e.log_message_data).split(" ").forEach(function(c){return c&&b("CSS").addClass(a,c)}),this.renderText(e,null,!1,function(a){b("ReactDOM").render(b("React").jsx("span",{children:a}),c)}),this.renderAttachmentLegacy(d,e)},renderAttachmentLegacy:function(a,c){if(c.log_message_type===b("MercuryLogMessageType").THREAD_IMAGE){c.log_message_data||i(0,2425);var d=c.log_message_data.image;d&&d.preview_url&&(b("ReactDOM").render(b("React").jsx(b("Image.react"),{className:"_z6a",onClick:function(){return l(d)},src:d.preview_url}),a),b("CSS").show(a))}}};e.exports=a;function k(a,c){c=!!(c&&c.answered);var d=!a||a===b("MercuryLogMessageType").GENERIC_ADMIN_TEXT;return"_5wzu"+(a===b("MercuryLogMessageType").SUBSCRIBE?" _5wzj":"")+(a===b("MercuryLogMessageType").UNSUBSCRIBE?" _5wzk":"")+(a===b("MercuryLogMessageType").THREAD_NAME?" _5wzl":"")+(a===b("MercuryLogMessageType").THREAD_IMAGE?" _5wzm":"")+(a===b("MercuryLogMessageType").VIDEO_CALL&&c?" _5wzn":"")+(a===b("MercuryLogMessageType").VIDEO_CALL&&!c?" _5wzo":"")+(a===b("MercuryLogMessageType").PHONE_CALL&&c?" _5wzp":"")+(a===b("MercuryLogMessageType").PHONE_CALL&&!c?" _5wzq":"")+(a===b("MercuryLogMessageType").SERVER_ERROR?" _5wzr":"")+(d?" _2r5l":"")}function l(a){b("MercuryAttachmentViewer").bootstrapWithConfig({src:a.preview_url,endpoint:a.url,fbid:a.metadata.fbid,dimensions:a.metadata.dimensions,disablePaging:!0},null)}function m(a,c){__p&&__p();a.log_message_data||i(0,1204);var d=b("MercuryMessageRendererUtils").moveCurrentUserToFront(a.log_message_data.added_participants);d||i(0,1205);switch(d.length){case 1:n(a,c,d);break;case 2:o(a,c,d);break;case 3:p(a,c,d);break;default:q(a,c,d);break}}function n(a,c,d){var e=[a.author,d[0]];b("MessengerParticipants.bs").getMulti(e,function(e){a.author===b("MercuryViewer").getID()?c(h._("B\u1ea1n \u0111\u00e3 th\u00eam {subscriber1}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]]))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} \u0111\u00e3 th\u00eam b\u1ea1n.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author]))])):c(h._("{actor} \u0111\u00e3 th\u00eam {subscriber1}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]]))]))})}function o(a,c,d){var e=[a.author].concat(d);b("MessengerParticipants.bs").getMulti(e,function(e){a.author===b("MercuryViewer").getID()?c(h._("B\u1ea1n \u0111\u00e3 th\u00eam {subscriber1} v\u00e0 {subscriber2}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} \u0111\u00e3 th\u00eam b\u1ea1n v\u00e0 {subscriber2}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))])):c(h._("{actor} \u0111\u00e3 th\u00eam {subscriber1} v\u00e0 {subscriber2}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]]))]))})}function p(a,c,d){var e=[a.author].concat(d);b("MessengerParticipants.bs").getMulti(e,function(e){if(a.author===b("MercuryViewer").getID())c(h._("B\u1ea1n \u0111\u00e3 th\u00eam {subscriber1}, {subscriber2} v\u00e0 {subscriber3}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[0]])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]])),h._param("subscriber3",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[2]]))]));else if(d[0]===b("MercuryViewer").getID())c(h._("{actor} \u0111\u00e3 th\u00eam b\u1ea1n, {subscriber2} v\u00e0 {subscriber3}",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[1]])),h._param("subscriber3",b("MercuryMessageRendererUtils").getLinkToParticipant(e[d[2]]))]));else{var f;c(h._("{actor} \u0111\u00e3 th\u00eam {subscriber1}, {subscriber2} v\u00e0 {subscriber3}.",[h._param("actor",(f=b("MercuryMessageRendererUtils")).getLinkToParticipant(e[a.author])),h._param("subscriber1",f.getLinkToParticipant(e[d[0]])),h._param("subscriber2",f.getLinkToParticipant(e[d[1]])),h._param("subscriber3",f.getLinkToParticipant(e[d[2]]))]))}})}function q(a,c,d){var e=[a.author].concat(d);b("MessengerParticipants.bs").getMulti(e,function(e){function f(a){var c=b("React").jsx("div",{children:a.map(function(a){return b("React").jsx("div",{children:a.name})})});return b("React").jsx(b("TooltipLink.react"),{alignH:"center",position:"above",tooltip:c,children:h._({"*":"{num} ng\u01b0\u1eddi kh\u00e1c"},[h._param("num",a.length,[0])])})}var g=d.map(function(a){return e[a]});a.author===b("MercuryViewer").getID()?c(h._("B\u1ea1n \u0111\u00e3 th\u00eam {subscriber1}, {subscriber2} v\u00e0 {more_people}.",[h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(g[0])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))])):d[0]===b("MercuryViewer").getID()?c(h._("{actor} \u0111\u00e3 th\u00eam b\u1ea1n, {subscriber2} v\u00e0 {more_people}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))])):c(h._("{actor} \u0111\u00e3 th\u00eam {subscriber1}, {subscriber2} v\u00e0 {more_people}.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e[a.author])),h._param("subscriber1",b("MercuryMessageRendererUtils").getLinkToParticipant(g[0])),h._param("subscriber2",b("MercuryMessageRendererUtils").getLinkToParticipant(g[1])),h._param("more_people",f(g.slice(2)))]))})}function r(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0,2425);var e=a.log_message_data.removed_participants;e||i(0,2427);var f;e.length===1&&(f=e[0],d.push(f));b("MessengerParticipants.bs").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("B\u1ea1n \u0111\u00e3 r\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.")):c(h._("B\u1ea1n \u0111\u00e3 x\u00f3a {name} kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} \u0111\u00e3 r\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} \u0111\u00e3 x\u00f3a b\u1ea1n kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} \u0111\u00e3 x\u00f3a {name} kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function s(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0,2425);var e=a.log_message_data.removed_participants;e||i(0,2427);var f;e.length===1&&(f=e[0],d.push(f));b("MessengerParticipants.bs").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("You left the room.")):c(h._("You removed {name} from the room.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} left the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} removed you from the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} removed {name} from the room.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function t(a,c,d){__p&&__p();a.log_message_data||i(0,2425);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("B\u1ea1n \u0111\u00e3 \u0111\u1eb7t t\u00ean ph\u00f2ng: {name}.",[h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 t\u00ean ph\u00f2ng."));else b("MessengerParticipants.bs").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} \u0111\u00e3 \u0111\u1eb7t t\u00ean ph\u00f2ng: {name}.",[h._param("actor",a),h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("{actor} \u0111\u00e3 g\u1ee1 t\u00ean ph\u00f2ng.",[h._param("actor",a)]))})}function u(a,c,d,e,f){a.author===b("MercuryViewer").getID()?f(h._("B\u1ea1n \u0111\u00e3 \u0111\u1eb7t t\u00ean nh\u00f3m l\u00e0 {thread_name}. Nh\u00f3m c\u1ee7a b\u1ea1n c\u0169ng c\u00f3 tr\u00ean Facebook.",[h._param("thread_name",b("React").jsx("span",{className:e,children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:d})}))])):b("MessengerParticipants.bs").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);f(h._("{actor} \u0111\u00e3 \u0111\u1eb7t t\u00ean nh\u00f3m l\u00e0 {thread_name}. Nh\u00f3m c\u1ee7a b\u1ea1n c\u0169ng c\u00f3 tr\u00ean Facebook.",[h._param("actor",a),h._param("thread_name",b("React").jsx("span",{className:e,children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:d})}))]))})}function v(a,c){a.log_message_data||i(0,2425);var d=a.log_message_data.name,e="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(d){a.source===b("MessagingSourceEnum").WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION?c(h._("B\u1ea1n hi\u1ec7n c\u00f3 th\u1ec3 chat v\u1edbi nh\u00f3m n\u00e0y trong Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace.")):c(h._("B\u1ea1n hi\u1ec7n c\u00f3 th\u1ec3 tr\u00f2 chuy\u1ec7n v\u1edbi {name} trong \u1ee9ng d\u1ee5ng Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace.",[h._param("name",b("React").jsx("span",{className:e,children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:d})}))]));return}}function w(a,c,d){__p&&__p();a.log_message_data||i(0,2425);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(e&&a.tags&&a.tags.indexOf(b("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1)d(h._("Nh\u00f3m \u0111\u00e3 \u0111\u01b0\u1ee3c \u0111\u1eb7t t\u00ean l\u00e0 {name}.",[h._param("name",b("React").jsx("span",{className:f,children:b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e})}))]));else if(e&&a.tags&&a.tags.indexOf(b("MessagingSourceEnum").GROUPSYNC_NAMING)!==-1)u(a,c,e,f,d);else if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("B\u1ea1n \u0111\u00e3 \u0111\u1eb7t t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n: {name}.",[h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n."));else b("MessengerParticipants.bs").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} \u0111\u00e3 \u0111\u1eb7t t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n: {name}.",[h._param("actor",a),h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("{actor} \u0111\u00e3 g\u1ee1 t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",a)]))})}function x(a,c,d){a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0,2425),a.log_message_data.image?d(h._("B\u1ea1n \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh ph\u00f2ng.")):d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 \u1ea3nh ph\u00f2ng."))):b("MessengerParticipants.bs").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0,2425);a.log_message_data.image?d(h._("{actor} \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh ph\u00f2ng.",[h._param("actor",e)])):d(h._("{actor} \u0111\u00e3 g\u1ee1 \u1ea3nh ph\u00f2ng.",[h._param("actor",e)]))})}function y(a,c,d){a.tags!==void 0&&a.tags.indexOf(b("MessagingSourceEnum").EVENT_UPCOMING_BUMP)!==-1?d(h._("\u0110\u00e3 \u0111\u1eb7t \u1ea3nh c\u1ee7a cu\u1ed9c tr\u00f2 chuy\u1ec7n.")):a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0,2425),a.log_message_data.image?d(h._("B\u1ea1n \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n.")):d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n."))):b("MessengerParticipants.bs").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0,2425);a.log_message_data.image?d(h._("{actor} \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",e)])):d(h._("{actor} \u0111\u00e3 g\u1ee1 \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",e)]))})}function z(a,c){a.author===b("MercuryViewer").getID()?c(h._("B\u1ea1n \u0111\u00e3 thay \u0111\u1ed5i h\u00ecnh n\u1ec1n.")):b("MessengerParticipants.bs").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a);c(h._("{actor} \u0111\u00e3 thay \u0111\u1ed5i h\u00ecnh n\u1ec1n.",[h._param("actor",a)]))})}function A(a,c){__p&&__p();var d=[a.author];a.log_message_data||i(0,2425);var e=a.log_message_data.removed_participants;e||i(0,2427);var f;e.length===1&&(f=e[0],d.push(f));b("MessengerParticipants.bs").getMulti(d,function(d){var e=d[a.author];d=d[f];a.author===b("MercuryViewer").getID()?!f||f===a.author?c(h._("B\u1ea1n \u0111\u00e3 r\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.")):c(h._("B\u1ea1n \u0111\u00e3 x\u00f3a {name} kh\u1ecfi \u0111o\u1ea1n chat.",[h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))])):!f||f===a.author?c(h._("{actor} \u0111\u00e3 r\u1eddi kh\u1ecfi cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):f===b("MercuryViewer").getID()?c(h._("{actor} \u0111\u00e3 x\u00f3a b\u1ea1n kh\u1ecfi \u0111o\u1ea1n chat.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e))])):c(h._("{actor} \u0111\u00e3 x\u00f3a {name} kh\u1ecfi \u0111o\u1ea1n chat.",[h._param("actor",b("MercuryMessageRendererUtils").getLinkToParticipant(e)),h._param("name",b("MercuryMessageRendererUtils").getLinkToParticipant(d))]))})}function B(a,c,d){__p&&__p();a.log_message_data||i(0,2425);var e=a.log_message_data.name,f="_5wzs"+(b("UserAgent").isBrowser("Chrome")?" _4fbd":"");if(a.author===b("MercuryViewer").getID())if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("B\u1ea1n \u0111\u00e3 \u0111\u1eb7t t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n l\u00e0: {name}.",[h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 t\u00ean \u0111o\u1ea1n chat."));else b("MessengerParticipants.bs").get(a.author,function(a){a=b("MercuryMessageRendererUtils").getLinkToParticipant(a,c);if(e){var g=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:e});d(h._("{actor} \u0111\u00e3 \u0111\u1eb7t t\u00ean cu\u1ed9c tr\u00f2 chuy\u1ec7n l\u00e0: {name}.",[h._param("actor",a),h._param("name",b("React").jsx("span",{className:f,children:g}))]))}else d(h._("{actor} \u0111\u00e3 g\u1ee1 t\u00ean \u0111o\u1ea1n chat.",[h._param("actor",a)]))})}function C(a,c,d){a.author===b("MercuryViewer").getID()?(a.log_message_data||i(0,2425),a.log_message_data.image?d(h._("B\u1ea1n \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n.")):d(h._("B\u1ea1n \u0111\u00e3 g\u1ee1 \u1ea3nh \u0111o\u1ea1n chat."))):b("MessengerParticipants.bs").get(a.author,function(e){e=b("MercuryMessageRendererUtils").getLinkToParticipant(e,c);a.log_message_data||i(0,2425);a.log_message_data.image?d(h._("{actor} \u0111\u00e3 thay \u0111\u1ed5i \u1ea3nh cu\u1ed9c tr\u00f2 chuy\u1ec7n.",[h._param("actor",e)])):d(h._("{actor} \u0111\u00e3 g\u1ee1 \u1ea3nh \u0111o\u1ea1n chat.",[h._param("actor",e)]))})}}),null);
__d("MercuryLogMessage.react",["cx","fbt","DOM","DOMDimensions","Event","EventReminderRequestHelper","MercuryLogMessageRenderer","MercuryLogMessageType","React","ReactDOM","ShimButton.react","cancelAnimationFrame","emptyFunction","formatDate","joinClasses","requestAnimationFrame","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=266;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={messageText:null,showEventReminderFlyout:!1},d.$4=function(){d.$5()},d.$9=function(){var a;a=(a=d.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_id:a:a:a;!d.state.showEventReminderFlyout&&a?b("EventReminderRequestHelper").fetchEventReminder(d.props.thread.thread_id,a,function(){d.$1&&d.setState({showEventReminderFlyout:!0})}):d.setState({showEventReminderFlyout:!1})},d.$11=function(a){a!==d.state.showEventReminderFlyout&&d.setState({showEventReminderFlyout:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.UNSAFE_componentWillReceiveProps(this.props)};d.componentWillUnmount=function(){this.$1=!1,this.$2&&b("cancelAnimationFrame")(this.$2)};d.$3=function(){return b("React").jsx(b("ShimButton.react"),{form:"link",onClick:this.$4,children:h._("Hi\u1ec3n th\u1ecb tin nh\u1eafn tr\u01b0\u1edbc \u0111\u00f3.")})};d.$5=function(){var a=this.props.loadMoreMessages&&this.props.loadMoreMessages();if(!this.$1)return;if(a)this.setState({messageText:this.$3()});else{a=h._("Kh\u00f4ng th\u1ec3 t\u00ecm \u0111\u01b0\u1ee3c tin nh\u1eafn tr\u01b0\u1edbc \u0111\u00f3.");this.setState({messageText:a})}};d.UNSAFE_componentWillReceiveProps=function(a){if(a.message.log_message_type===b("MercuryLogMessageType").SERVER_ERROR)return;b("MercuryLogMessageRenderer").renderText(a.message,a.thread,a.isLastOfType,function(a){this.$1&&this.setState({messageText:a})}.bind(this))};d.shouldComponentUpdate=function(a,b){return this.state.messageText!=b.messageText||a.maxWidth!==this.props.maxWidth||this.state.showEventReminderFlyout!==b.showEventReminderFlyout};d.componentDidUpdate=function(){var a=this;this.$6();if(!this.refs.attachment)return;b("MercuryLogMessageRenderer").renderAttachmentLegacy(this.refs.attachment,this.props.message);b("DOM").scry(this.refs.wrap,"img").forEach(function(c){var d=b("Event").listen(c,"load",function(){a.$6(),d.remove()})})};d.render=function(){var a;return(a=b("React")).jsxs("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5ye6"),ref:"wrap",style:babelHelpers["extends"]({},this.props.style,this.$7()),title:b("formatDate")(new Date(this.props.message.timestamp),"g:ia"),children:[a.jsxs("div",{className:"_5ye7",children:[b("MercuryLogMessageRenderer").renderIcon(this.props.message),a.jsx("span",{"data-testid":"log_message_text",children:this.state.messageText})]}),a.jsx("div",{className:"_5ye8",ref:"attachment",children:this.$8()})]}))};d.$8=function(){__p&&__p();var a;if(this.props.thread&&!this.props.thread.lightweight_event||!this.props.message.log_message_data)return null;if(!this.props.event||!this.props.event.exists)return null;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_time:a:a:a;if(!a)return null;typeof a==="string"&&(a=parseInt(a,10));if(a<=Math.floor(Date.now()/1e3))return null;var c;b("requireWeak")("Link.react",function(a){c=a});var d;switch(this.props.message.log_message_data.message_type){case"lightweight_event_create":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_update":d=h._("Thay \u0111\u1ed5i");break;default:d=null}a=b("React").jsx(c,{href:"#",onClick:this.$9,title:h._("Ch\u1ec9nh s\u1eeda s\u1ef1 ki\u1ec7n"),ref:"event_rem_link",children:d});this.props.displayItems&&(a=null);return b("React").jsxs("span",{children:[a,this.$10()]})};d.$10=function(){__p&&__p();var a=this,c;if(!this.state.showEventReminderFlyout)return null;var d="right",e=b("ReactDOM").findDOMNode(this.refs.wrap);e&&e instanceof Element&&e.getBoundingClientRect().left<i&&(d="left");e={alignment:d,position:"above",contextRef:function(){return a.refs.event_rem_link},shown:this.state.showEventReminderFlyout,onToggle:this.$11};var f;b("requireWeak")("EventsActionsLogger",function(a){f=a});d={action_history:[{surface:f.Surface.MESSENGER_CHAT_TAB,mechanism:f.Mechanism.REMINDER_ADMIN_TEXT}]};c=(c=this.props.message)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event_id:c:c:c;c={threadID:this.props.thread.thread_id,eventID:c,dialogProps:e,flyoutNoSheet:!0,isEditing:!0,actionContext:d};var g;b("requireWeak")("ChatEventReminderContainer.react",function(a){g=a});return b("React").jsx(g,babelHelpers["extends"]({},c))};d.$7=function(){return this.props.maxWidth?{maxWidth:this.props.maxWidth}:null};d.$6=function(){var a=this;this.$2&&b("cancelAnimationFrame")(this.$2);if(!this.$1)return;this.$2=b("requestAnimationFrame")(function(){a.props.onImageLoad&&a.props.onImageLoad(b("DOMDimensions").getElementDimensions(a.refs.wrap).height),delete a.$2})};return c}(b("React").Component);c.propTypes={loadMoreMessages:a.func,maxWidth:a.number,message:a.object.isRequired,onImageLoad:a.func,thread:a.object,isLastOfType:a.bool.isRequired,event:a.object};c.defaultProps={onImageLoad:b("emptyFunction")};e.exports=c}),null);
__d("MercuryLogMessageContainer.react",["EventReminderStateStore","FluxContainer","MercuryLogMessage.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("EventReminderStateStore")]};c.calculateState=function(a,c){a=(a=c.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_id:a:a:a;return{event:b("EventReminderStateStore").getEvent(c.thread?c.thread.thread_id:"",a)}};var d=c.prototype;d.render=function(){return b("React").jsx(b("MercuryLogMessage.react"),{className:this.props.className,onLogMessageExpanded:this.props.onLogMessageExpanded,loadMoreMessages:this.props.loadMoreMessages,message:this.props.message,onImageLoad:this.props.onImageLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:this.props.isLastOfType,event:this.state.event})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FantaConversation.react",["Bootloader","ChatConversation.react","CurrentUser","EventProfiler","MercuryIDs","MessengerHotLikePreviewEvents","React","StickersTypedLogger","SubscriptionsHandler","emptyFunction","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(a){d.props.threadID===a&&d.setState({likePreview:null})};d.$5=function(a,c){if(!a)return;new(b("StickersTypedLogger"))().setEvent("click_sticker").setPackid(a).setStickerid(c).log();b("Bootloader").loadModules(["StickersPackInTrayQuery","StickersActions","StickersStoreController"],function(b,c,e){b.onIsPackInTray(a,"messages",function(b){b.in_sticker_tray?(c.selectTrayPack(a),c.showStickerFlyout(d.props.threadID)):e.showStore(a)})},"FantaConversation.react")};d.state={likePreview:null};d.$1=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){var d=this.props,e=this.state;return!b("shallowArrayEqual")(d.messages,a.messages)||d.threadID!==a.threadID||d.thread!==a.thread||e.likePreview!==c.likePreview};d.componentDidMount=function(){this.$2(),this.$3()};d.componentDidUpdate=function(){this.$3()};d.componentWillUnmount=function(){this.$1.release()};d.$3=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};d.$2=function(){var a=this,c;this.$1.addSubscriptions((c=b("MessengerHotLikePreviewEvents")).addListener(c.START,function(b,c){a.props.threadID===c&&a.setState({likePreview:b})}),c.addListener(c.STOP,this.$4),c.addListener(c.STOP_EMOJI,this.$4),c.addListener(c.REMOVE,this.$4))};d.render=function(){var a=this,c=this.props.messages,d=this.props,e=d.forGameChat,f=d.onLoadMoreMessages,g=d.thread;d=d.threadID;var h=this.state.likePreview,i=b("CurrentUser").getID();h&&(c=[].concat(c,[h]));return g?b("React").jsx(b("ChatConversation.react"),{forGameChat:e,isCanonical:b("MercuryIDs").isCanonical(d),loadMoreMessages:f,maxBubbleWidth:181-this.props.scrollbarPadding,messages:c,onAttachmentLoad:function(){return a.props.onAttachmentLoad()},onMount:b("emptyFunction"),onStickerClick:this.$5,readReceipts:this.props.readReceipts,ref:"conversation",thread:g,threadID:d,viewer:i}):b("React").jsx("div",{})};d.getMessageList=function(){return this.refs.conversation&&this.refs.conversation.getMessageList()};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,onLoadMoreMessages:a.func.isRequired,scrollbarPadding:a.number,thread:a.object,threadID:a.string.isRequired};e.exports=c}),null);
__d("ChatTypingIndicatorsWrapper.bs",["React","ReasonReact.bs","bs_belt_MapString","MessengerState.bs","ChatTypingIndicators.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("ChatTypingIndicatorsWrapper");function h(a,c,d,e,f,h,i){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(g){return b("React").jsx(b("MessengerState.bs").Provider.make,{fbid:e,children:function(g){return b("React").jsx(b("ChatTypingIndicators.react"),{indicatorClass:a,indicatorsDidShow:d,indicatorsDidHide:c,rootClassName:f,threadID:h,viewer:e,typingUserIDs:b("bs_belt_MapString").get(g[6],h)},h)}})},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(a.indicatorClass,a.indicatorsDidHide,a.indicatorsDidShow,a.viewer,a.rootClassName,a.threadID,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.thread;a=a.threadID;if(c!=null){c=((c=c)!=null?c.is_canonical_neo_user:c)||!1;if(c)return null}else return null;return b("getPageIDFromThreadID")(a)?b("React").jsx("div",{className:"_7bl4",children:b("React").jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MercuryPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:b("React").jsx("div",{}),component:b("React").jsx(b("LazyComponent.react"),{threadID:a})})}):null};e.exports=a}),null);
__d("M4ThreadFillDetect.bs",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a.style}function c(a,b){a.appendChild(b);return 0}try{d=document.createElement("div");e=document.createElement("div");var g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("table");d.appendChild(e);d.appendChild(k);e.appendChild(g);k.appendChild(l);g.appendChild(h);h.appendChild(i);h.appendChild(j);d.style.position="absolute";d.style.marginLeft="-999px";d.style.contain="layout";e.style.height="200px";e.style.display="flex";e.style.visibility="hidden";e.style.flexDirection="column";e.style.position="relative";g.style.flexBasis="0px";g.style.flexGrow="1";g.style.flexShrink="0";g.style.position="relative";h.style.display="flex";h.style.flexDirection="column";h.style.minHeight="100%";i.style.flexGrow="1";j.style.height="50px";k.style.height="200px";k.style.visibility="hidden";k.style.position="relative";l.style.minHeight="100%";e=document.body;e.appendChild(d);g=i.clientHeight===150;h=l.clientHeight===200;document.body.removeChild(d);j=g?0:h?1:2}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)j=3;else throw a}k=j===2||j===1?1:0;e=k?"TABLE":"FLEX";f.getStylesheet=a;f.appendChild=c;f.measuredTechnique=j;f.technique=k;f.forJS=e}),null);
__d("FantaThread.react",["cx","M4ThreadFillDetect.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("M4ThreadFillDetect.bs").forJS;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.setRef=function(a){c.$1=a,typeof c.props.scrollRef==="function"&&c.props.scrollRef(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children;a=a.spacerContent;return b("React").jsx("div",{className:"_1i6a",onClick:this.props.onClick,children:b("React").jsx("div",{className:"_4po3"+(h==="FLEX"?" _4poa":"")+(h==="TABLE"?" _4po4":""),ref:this.setRef,children:b("React").jsxs("div",{className:"_4po5",children:[b("React").jsx("div",{className:"_4po6",children:b("React").jsx("div",{className:"_4po7",children:a})}),b("React").jsx("div",{className:"_4po8",children:b("React").jsx("div",{className:"_4po9",children:c})})]})})})};return c}(b("React").Component);e.exports=a}),null);
__d("XWorkplaceMarketingDefaultController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/workplace/{?*path}/",{path:{type:"String",defaultValue:""},ref:{type:"String"}})}),null);
__d("MercuryLastMessageIndicator.react",["cx","fbt","CurrentUser","MercuryIDs","MercuryViewer","MessengerParticipants.bs","MessengerReadReceipt.bs","MessengerTextWithEmoticons.react","React","TooltipData","XWorkplaceMarketingDefaultController","emptyFunction","formatDate","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("immutable").Set;a=b("React").PropTypes;var j=function(a,c,d){a=b("MessengerReadReceipt.bs").getSeenTimestamp(a,d,c[0]);d=a.action*.001;return{seenTimestamp:d,seenByData:null}},k=function(a,c,d){__p&&__p();var e={};for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;e[i]=b("MessengerParticipants.bs").getNow(i)}i=null;c&&c.custom_nickname&&(i=c.custom_nickname);h={};g=Object.keys(e);for(var f=0;f<g.length;f++){var j=g[f],k=e[j],l;!k?l=b("MessengerParticipants.bs").getDefaultName():(l=k.short_name,i&&i[k.fbid]&&(l=i[k.fbid]));h[j]=l}var n;k=!1;j=!1;m(a,d,c)?j=!0:a.length==1?n=" "+h[a[0]]:a.length==2?n=" "+h[a[0]]+", "+h[a[1]]:a.length==3?n=" "+h[a[0]]+", "+h[a[1]]+", "+h[a[2]]:a.length>3&&(n=" "+h[a[0]]+", "+h[a[1]]+", ",k=!0);return{seenTimestamp:null,seenByData:{seenByAll:j,text:n,showTooltip:k,seenBy:a}}},l=function(a,c,d,e){e=b("MessengerReadReceipt.bs").getSeenBy(a,e,!0);if(e.length===0)return{seenTimestamp:null,seenByData:null};var f=b("MercuryIDs").getUserIDFromThreadID(d);if(f)return j(a,e,d);else return k(e,c)},m=function(a,c,d){var e=d?d.participants.length:0;a=a.length;c&&c.author!=b("MercuryViewer").getID()&&(!d||d.participants.indexOf(c.author)>-1)&&a++;return e>2&&a>=e-1};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={seenTimestamp:null,seenByData:null},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){return l(a.readReceipts,a.thread,a.threadID,a.lastMessage)};var d=c.prototype;d.shouldComponentUpdate=function(a,b){__p&&__p();if(a.thread!==this.props.thread||a.threadID!==this.props.threadID||a.lastMessage!==this.props.lastMessage||a.isTyping!==this.props.isTyping||a.readReceipts!==this.props.readReceipts||b.seenTimestamp!==this.state.seenTimestamp)return!0;a=this.state.seenByData;b=b.seenByData;if(!a&&!b)return!1;if(!a||!b)return!0;if(a.seenByAll!==b.seenByAll||a.showTooltip!==b.showTooltip||a.text!==b.text)return!0;return!i(a.seenBy).equals(i(b.seenBy))?!0:!1};d.componentDidUpdate=function(){if(!this.isVisible())return;this.props.indicatorDidShow&&this.props.indicatorDidShow()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){return!this.props.lastMessage?[]:this.props.lastMessage.source_tags||this.props.lastMessage.tags||[]};d.$3=function(){if(this.props.isTyping)return b("React").jsxs("div",{className:this.$4([]),children:[b("React").jsx("div",{className:"_510h"}),b("React").jsx("span",{className:"_510f",ref:"text",children:"\xa0"})]});var a=this.$2(),c=this.state.seenByData,d=this.state.seenTimestamp;if(c)return b("React").jsxs("div",{className:this.$4(a),children:[b("React").jsx("div",{className:"_510h"}),b("React").jsx("span",{className:"_510f",children:this.$5(c)})]});else if(d)return b("React").jsxs("div",{className:this.$4(a),children:[b("React").jsx("div",{className:"_510h"}),b("React").jsx("span",{className:"_510f",ref:"text",children:this.$6(d)})]});else return b("React").jsx("div",{className:this.$4(a),children:b("CurrentUser").isWorkUser()?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{className:"_510h"}),b("React").jsx("span",{className:"_510f",ref:"text",children:this.$7(a)})]}):null})};d.render=function(){return b("React").jsx("div",{className:"_4gd0",children:this.$3()})};d.$6=function(a){var c=Date.now()*.001,d;a<c-518400?d="M j":a<c-86400?d="D g:ia":d="g:ia";return h._("\u0110\u00e3 xem l\u00fac {timestamp}",[h._param("timestamp",b("formatDate")(a,d))])};d.$7=function(a){__p&&__p();if(a.includes("source:messenger"))return b("React").jsx("a",{href:"https://www.facebook.com/workplace/features/workplace-chat",className:"fcg",target:"_blank",children:h._("\u0110\u01b0\u1ee3c g\u1eedi t\u1eeb Tr\u00f2 chuy\u1ec7n tr\u00ean Workplace")});else if(a.includes("source:mobile")){var c="/workplace/mobile";return b("React").jsx("a",{href:c,className:"fcg",target:"_blank",children:h._("G\u1eedi t\u1eeb \u0111i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng")})}else if(a.includes("source:email"))return b("React").jsx("span",{children:h._("G\u1eedi t\u1eeb email")});else if(a.includes("source:workchat:desktop")){c=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","last-message-indicator").getURI();return b("React").jsx("a",{href:c,className:"fcg",target:"_blank",children:h._("Sent from the desktop app")})}return null};d.$4=function(a){var c=this.props.lastMessage&&this.props.lastMessage.author&&b("MercuryViewer").isViewer(this.props.lastMessage.author);c="_510g"+(c?" _510e":"");var d=null;this.props.isTyping?d=null:this.state.seenByData!==null||this.state.seenTimestamp!==null?d="seen":a.includes("source:messenger")||a.includes("source:mobile")?d="sentFromMobile":a.includes("source:workchat:desktop")?d="sentFromDesktop":a.includes("source:email")&&(d="sentFromEmail");return b("joinClasses")(c,d)};d.isVisible=function(){var a=this.$2();return a.includes("source:messenger")||a.includes("source:mobile")||a.includes("source:email")||a.includes("source:workchat:desktop")?!0:this.state.seenTimestamp!==null||this.state.seenByData!==null};d.$5=function(a){__p&&__p();var c=a.seenByAll;if(c)return h._("M\u1ecdi ng\u01b0\u1eddi \u0111\u00e3 xem");c=a.text;if(!c)return null;c=b("React").jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:c});var d=a.showTooltip;if(!d)return h._("{names} \u0111\u00e3 xem",[h._param("names",c)]);else{d=this.$8(a);return h._("{names}{=num more link} \u0111\u00e3 xem",[h._param("names",c),h._param("=num more link",d)])}};d.$8=function(a){if(!a.text||!a.showTooltip)return null;var c={},d=0,e=null;b("MessengerParticipants.bs").getMulti(a.seenBy,function(b){e=a.seenBy.map(function(a){return b[a].name}).join("\r\n"),d=Object.keys(b).length-2});c=Object.assign({"data-tooltip-alignh":"center"},b("TooltipData").propsFor(e,"above"));var f=h._({"*":"{num} kh\u00e1c"},[h._param("num",d,[0])]);return b("React").jsx("span",babelHelpers["extends"]({className:"more"},c,{children:f}))};return c}(b("React").Component);c.propTypes={indicatorDidShow:a.func,lastMessage:a.object,readReceipts:a.any,threadID:a.string.isRequired,isTyping:a.bool.isRequired};c.defaultProps={indicatorDidShow:b("emptyFunction")};e.exports=c}),null);
__d("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2269337216466106"};b.getQueryID=function(){return"489792994894664"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerBusinessUserProfileLocationQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2776744292399856"};b.getQueryID=function(){return"2548924041807873"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerQuickReplyUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1;a={localizeTitleIfNecessary:function(a){return a.map(function(a){return a.content_type==="location"?Object.assign(a,{title:g._("G\u1eedi v\u1ecb tr\u00ed")}):a})},birthdayDataToString:function(a){var b=a.month,c=a.day;a=a.year;b=b+"/"+c+"/"+a;return b},parseStateFromCityAddress:function(a){a=a.split(",");if(a.length>h)return a[h]}};e.exports=a}),null);
__d("relay-experimental/EntryPointContainer.react",["react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=a.entryPointReference;a=a.props;var d=c.getComponent,e=c.queries,f=c.entryPoints;c=c.extraProps;d=d();return(g||(g=b("react"))).jsx(d,{entryPoints:f,extraProps:c,props:a,queries:e})}e.exports=a}),null);
__d("relay-experimental/RelayEnvironmentProvider",["react","react-relay/ReactRelayContext"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||(g=b("react"))).useMemo;function a(a){var c=a.children,d=a.environment;a=h(function(){return{environment:d}},[d]);return(g||(g=b("react"))).jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:c})}e.exports=a}),null);
__d("relay-experimental/fetchQuery",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").getRequest;function a(a,b,c,d){b=j(b);b.params.operationKind==="query"||g(0,13332);var e=i(b,c);return h.fetchQuery(a,e,d).map(function(){return a.lookup(e.fragment).data})}e.exports=a}),null);
__d("relay-experimental/preloadQuery_DEPRECATED",["invariant","fbjs/lib/ExecutionEnvironment","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(c=b("relay-runtime")).createOperationDescriptor,i=c.Environment,j=c.getRequest,k=c.getRequestIdentifier,l=c.Observable,m=c.ReplaySubject,n=30*1e3;d=typeof WeakMap==="function";var o="store-or-network",p=d?new WeakMap():new Map();function a(a,b,c,d,e){a instanceof i||g(0,17071);var f=p.get(a);f==null&&(f=new Map(),p.set(a,f));var h=f,j=q(a,h,b,c,d);f=j.kind==="network"?l.create(function(a){var b=j.subject.subscribe(a);return function(){b.unsubscribe(),r(h,j)}}):null;return{environment:a,environmentProviderOptions:e,fetchKey:j.fetchKey,fetchPolicy:j.fetchPolicy,name:j.name,source:f,variables:c}}function q(a,c,d,e,f){__p&&__p();var g,i;if(d.queryResource!=null){var l=d;i=l.params;l=l.queryResource.getModuleIfRequired()}else l=j(d),i=l.params;d=a.getNetwork();g=(g=f==null?void 0:f.fetchPolicy)!=null?g:o;var p=f==null?void 0:f.fetchKey;f=(f=f==null?void 0:f.networkCacheConfig)!=null?f:{};var q=""+k(i,e)+(p!=null?"-"+p:""),s=c.get(q);l=g===o&&l!=null&&((s==null?void 0:s.kind)==="cache"||a.check(h(l,e))==="available");var t;if(l)t=s&&s.kind==="cache"?s:{cacheKey:q,fetchKey:p,fetchPolicy:g,kind:"cache",name:i.name},b("fbjs/lib/ExecutionEnvironment").canUseDOM&&s==null&&setTimeout(function(){t!=null&&r(c,t)},n);else if(s==null||s.kind!=="network"){l=a.__createLogObserver(i,e);a=l[0];l=l[1];d=d.execute(i,e,f,null,l);var u=new m();t={cacheKey:q,fetchKey:p,fetchPolicy:g,kind:"network",name:i.name,subject:u,subscription:d["finally"](function(){if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM)return;setTimeout(function(){t!=null&&r(c,t)},n)})["do"](a).subscribe({complete:function(){u.complete()},error:function(a){u.error(a)},next:function(a){u.next(a)}})}}else t=s;c.set(q,t);return t}function r(a,b){var c=a.get(b.cacheKey);c!=null&&c===b&&(c.kind==="network"&&c.subscription.unsubscribe(),a["delete"](c.cacheKey))}e.exports=a}),null);
__d("relay-experimental/loadQuery",["react","relay-experimental/preloadQuery_DEPRECATED","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=null;function a(){if(h===null){var a;h=(a=(g||(g=b("react"))).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:(a=a.ReactCurrentDispatcher)==null?void 0:a.current}}function c(a,c,d,e,f){var i;i=(i=(g||(g=b("react"))).__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:(i=i.ReactCurrentDispatcher)==null?void 0:i.current;b("warning")(h==null||i!==h,"Relay: `preloadQuery` (or `prepareEntryPoint`) should not be called inside a React render function.");return b("relay-experimental/preloadQuery_DEPRECATED")(a,c,d,e,f)}e.exports={loadQuery:c,useTrackLoadQueryInRender:a}}),null);
__d("relay-experimental/prepareEntryPoint",["relay-experimental/loadQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-experimental/loadQuery").loadQuery;function h(a,b,c){__p&&__p();var d=null;b.root.getModuleIfRequired()==null&&(d=b.root.load());c=b.getPreloadProps(c);var e=c.queries,f=c.entryPoints;c=c.extraProps;var i={},j={};if(e!=null){var k=Object.keys(e);k.forEach(function(b){var c=e[b],d=c.environmentProviderOptions,f=c.options,h=c.parameters;c=c.variables;var j=a.getEnvironment(d);i[b]=g(j,h,c,f,d)})}if(f!=null){k=Object.keys(f);k.forEach(function(b){var c=f[b];if(c==null)return;var d=c.entryPoint;c=c.entryPointParams;j[b]=h(a,d,c)})}return{entryPoints:j,extraProps:(k=c)!=null?k:null,getComponent:function(){var a=b.root.getModuleIfRequired();if(a==null){var c;d=(c=d)!=null?c:b.root.load();throw d}return a},queries:i}}e.exports=h}),null);
__d("relay-experimental/LRUCache",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(){__p&&__p();function a(a){this.$1=a,this.$1>0||g(0,11399),this.$2=new Map()}var b=a.prototype;b.set=function(a,b){this.$2["delete"](a);this.$2.set(a,b);if(this.$2.size>this.$1){a=this.$2.keys().next();a.done||this.$2["delete"](a.value)}};b.get=function(a){var b=this.$2.get(a);b!=null&&(this.$2["delete"](a),this.$2.set(a,b));return b};b.has=function(a){return this.$2.has(a)};b["delete"]=function(a){this.$2["delete"](a)};b.size=function(){return this.$2.size};b.capacity=function(){return this.$1-this.$2.size};b.clear=function(){this.$2.clear()};return a}();function a(a){return new h(a)}e.exports={create:a}}),null);
__d("relay-experimental/FragmentResource",["invariant","relay-experimental/LRUCache","mapObject","warning","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=(c=b("relay-runtime")).__internal.getPromiseForRequestInFlight,j=c.getFragmentIdentifier,k=c.getSelector,l=c.isPromise,m=c.recycleNodesInto,n=1e6;function o(a){return Array.isArray(a)?a.some(function(a){return a.isMissingData}):a.isMissingData}function p(a,b){return Array.isArray(b)?{cacheKey:a,snapshot:b,data:b.map(function(a){return a.data})}:{cacheKey:a,snapshot:b,data:b.data}}function q(a,b){return a.getOperationTracker().getPromiseForPendingOperationsAffectingOwner(b)}var r=function(){__p&&__p();function a(a){this.$1=a,this.$2=b("relay-experimental/LRUCache").create(n)}var c=a.prototype;c.read=function(a,b,c,d){return this.readWithIdentifier(a,b,j(a,b),c,d)};c.readWithIdentifier=function(a,c,d,e,f){__p&&__p();var h,i=this.$1;if(c==null)return{cacheKey:d,data:null,snapshot:null};if((a==null?void 0:(h=a.metadata)==null?void 0:h.plural)===!0){Array.isArray(c)||g(0,13793,f!=null?" for key `"+f+"`":"",a.name,typeof c,a.name);if(c.length===0)return{cacheKey:d,data:[],snapshot:[]}}h=this.$2.get(d);if(h!=null){if(l(h)||h instanceof Error)throw h;return p(d,h)}f=k(a,c);f!=null||g(0,14389,a.name,e,e);h=f.kind==="PluralReaderSelector"?f.selectors.map(function(a){return i.lookup(a)}):i.lookup(f);c=f.kind==="PluralReaderSelector"?f.selectors[0].owner:f.owner;f=(f=c.node.params.name)!=null?f:"Unknown Parent Query";if(!o(h)){this.$2.set(d,h);return p(d,h)}c=this.$3(d,c);if(c!=null)throw c;b("warning")(!1,"Relay: Tried reading fragment `%s` declared in `%s`, but it has missing data and its parent query `%s` is not being fetched.\nThis might be fixed by by re-running the Relay Compiler.  Otherwise, make sure of the following:\n* You are correctly fetching `%s` if you are using a \"store-only\" `fetchPolicy`.\n* Other queries aren't accidentally fetching and overwriting the data for this fragment.\n* Any related mutations or subscriptions are fetching all of the data for this fragment.\n* Any related store updaters aren't accidentally deleting data for this fragment.",a.name,e,f,f);return p(d,h)};c.readSpec=function(a,c,d){var e=this;return(h||(h=b("mapObject")))(a,function(a,b){var f=c[b];return e.read(a,f,d,b)})};c.subscribe=function(a,b){__p&&__p();var c=this,d=this.$1,e=a.cacheKey,f=a.snapshot;if(!f)return{dispose:function(){}};a=this.checkMissedUpdates(a);var h=a[0];a=a[1];h&&b();var i=[];Array.isArray(f)?(Array.isArray(a)||g(0,18208),a.forEach(function(a,f){i.push(d.subscribe(a,function(a){c.$4(e,a,f),b()}))})):(a!=null&&!Array.isArray(a)||g(0,18209),i.push(d.subscribe(a,function(a){c.$2.set(e,a),b()})));return{dispose:function(){i.map(function(a){return a.dispose()}),c.$2["delete"](e)}}};c.subscribeSpec=function(a,b){var c=this,d=Object.keys(a).map(function(d){return c.subscribe(a[d],b)});return{dispose:function(){d.forEach(function(a){a.dispose()})}}};c.checkMissedUpdates=function(a){__p&&__p();var b=this.$1,c=a.cacheKey;a=a.snapshot;if(!a)return[!1,null];var d=!1;if(Array.isArray(a)){var e=[];a.forEach(function(f,g){var a=b.lookup(f.selector);f=f.data;var c=a.data;c=m(f,c);c!==f&&(a=babelHelpers["extends"]({},a,{data:c}),d=!0);e[g]=a});d&&this.$2.set(c,e);return[d,e]}var f=b.lookup(a.selector);a=a.data;var g=f.data;g=m(a,g);g!==a&&(f=babelHelpers["extends"]({},f,{data:g}),this.$2.set(c,f),d=!0);return[d,f]};c.checkMissedUpdatesSpec=function(a){var b=this;return Object.keys(a).some(function(c){return b.checkMissedUpdates(a[c])[0]})};c.$3=function(a,b){__p&&__p();var c=this,d,e=this.$1;d=(d=i(e,b))!=null?d:q(e,b);if(!d)return null;e=d.then(function(){c.$2["delete"](a)})["catch"](function(b){c.$2.set(a,b)});this.$2.set(a,e);e.displayName="Relay("+b.node.params.name+")";return e};c.$4=function(a,b,c){var d=this.$2.get(a);Array.isArray(d)||g(0,13921);d=[].concat(d);d[c]=b;this.$2.set(a,d)};return a}();function s(a){return new r(a)}var t=new Map();function a(a){var b=t.get(a);if(b)return b;b=s(a);t.set(a,b);return b}e.exports={createFragmentResource:s,getFragmentResourceForEnvironment:a}}),null);
__d("relay-experimental/useRelayEnvironment",["invariant","react-relay/ReactRelayContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||b("react")).useContext;function a(){var a=i(b("react-relay/ReactRelayContext"));a!=null||g(0,18635);return a.environment}e.exports=a}),null);
__d("relay-experimental/useFragmentNode",["relay-experimental/useRelayEnvironment","warning","relay-experimental/FragmentResource","react","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("relay-experimental/FragmentResource").getFragmentResourceForEnvironment,i=(g||(g=b("react"))).useEffect,j=g.useRef,k=g.useState,l=b("relay-runtime").getFragmentIdentifier;function a(a,c,d){__p&&__p();var e=b("relay-experimental/useRelayEnvironment")(),f=h(e),g=j(!1),n=k(0),o=n[1];n=l(a,c);var p=j(0),q=j(0);e=m(e);var r=m(n);e=e||r;e&&(q.current++,p.current++);var s=f.readWithIdentifier(a,c,n,d),t=j(!0);function u(){t.current=!0;var a=f.checkMissedUpdates(s)[0];a&&w()}function v(){t.current=!1}function w(){if(g.current===!1||t.current===!1)return;q.current++;o(function(a){return a+1})}i(function(){g.current=!0;var a=f.subscribe(s,w);return function(){g.current=!1,a.dispose()}},[p.current]);return{data:s.data,disableStoreUpdates:v,enableStoreUpdates:u,shouldUpdateGeneration:q.current}}function m(a){var b=k(a),c=b[0];b=b[1];c=c!==a;c&&b(a);return c}e.exports=a}),null);
__d("relay-experimental/useStaticFragmentNodeWarning",["warning","react"],(function(a,b,c,d,e,f){"use strict";var g;c=(g||b("react")).useRef;function a(a,b){}e.exports=a}),null);
__d("relay-experimental/useFragment",["relay-experimental/useFragmentNode","relay-experimental/useStaticFragmentNodeWarning","relay-experimental/loadQuery","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-experimental/loadQuery").useTrackLoadQueryInRender,h=b("relay-runtime").getFragment;function a(a,c){g();a=h(a);b("relay-experimental/useStaticFragmentNodeWarning")(a,"first argument of useFragment()");a=b("relay-experimental/useFragmentNode")(a,c,"useFragment()");c=a.data;return c}e.exports=a}),null);
__d("relay-experimental/ProfilerContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=(g||b("react")).createContext({wrapPrepareQueryResource:function(a){return a()}});e.exports=a}),null);
__d("relay-experimental/QueryResource",["invariant","Promise","fbjs/lib/ExecutionEnvironment","relay-experimental/LRUCache","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("relay-runtime").isPromise;c=b("relay-runtime").RelayFeatureFlags;var i=1e3,j="store-or-network",k=c.ENABLE_PARTIAL_RENDERING_DEFAULT===!0?"partial":"full",l=30*1e3;function m(a,b,c){return b+"-"+c+"-"+a.request.identifier}function n(a,b){var c;c={__id:a.fragment.dataID,__fragments:(c={},c[a.fragment.node.name]=a.request.variables,c),__fragmentOwner:a.request};return{cacheKey:b,fragmentNode:a.request.node.fragment,fragmentRef:c,operation:a}}function o(a,c,d,e,f){__p&&__p();var h=d,i=0,j=!1,k=null,m=null,n=e,o=function(a){i++;i===1&&(k=a.retain(c));return{dispose:function(){i=Math.max(0,i-1),i===0&&(k!=null||g(0,14187),k.dispose(),k=null),f(p)}}},p={cacheKey:a,getValue:function(){return h},setValue:function(a){h=a},getRetainCount:function(){return i},getNetworkSubscription:function(){return n},setNetworkSubscription:function(a){n!=null&&n.unsubscribe(),n=a},temporaryRetain:function(a){__p&&__p();if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM)return{dispose:function(){}};if(j===!0)return{dispose:function(){}};var c=o(a),d=null;a=function(){clearTimeout(d),d=null,m=null,c.dispose()};d=setTimeout(a,l);m!=null&&m();m=a;return{dispose:function(){if(j===!0)return;m&&m()}}},permanentRetain:function(a){var b=o(a);m!=null&&(m(),m=null);j=!0;return{dispose:function(){b.dispose(),i<=0&&n!=null&&n.unsubscribe(),j=!1}}}};return p}var p=function(){__p&&__p();function a(a){var c=this;this.$5=function(a){a.getRetainCount()<=0&&c.$2["delete"](a.cacheKey)};this.$1=a;this.$2=b("relay-experimental/LRUCache").create(i)}var c=a.prototype;c.prepare=function(a,b,c,d,e,f){__p&&__p();var g=this.$1;c=(c=c)!=null?c:j;d=(d=d)!=null?d:k;var i=m(a,c,d);f!=null&&(i+="-"+f);f=this.$2.get(i);var l=null;f==null&&(f=this.$3(i,a,b,c,d,babelHelpers["extends"]({},e,{unsubscribe:function(a){l!=null&&l.dispose();var b=e==null?void 0:e.unsubscribe;b&&b(a)}})));l=f.temporaryRetain(g);i=f.getValue();if(h(i)||i instanceof Error)throw i;return i};c.retain=function(a){var b=this.$1,c=a.cacheKey,d=a.operation;c=this.$4(c,d,a,null);var e=c.permanentRetain(b);return{dispose:function(){e.dispose()}}};c.getCacheEntry=function(a,b,c){c=(c=c)!=null?c:k;a=m(a,b,c);return this.$2.get(a)};c.$4=function(a,b,c,d){var e=this.$2.get(a);e==null&&(e=o(a,b,c,d,this.$5),this.$2.set(a,e));return e};c.$3=function(a,c,d,e,f,h){__p&&__p();var i=this,j=this.$1,k=j.check(c),l=k==="available",m=l||f==="partial"&&k!=="stale",p,q,r=function(){};switch(e){case"store-only":p=!1;q=!0;break;case"store-or-network":p=!l;q=m;break;case"store-and-network":p=!0;q=m;break;case"network-only":default:p=!0;q=!1;break}if(q){l=n(c,a);m=o(a,c,l,null,this.$5);this.$2.set(a,m)}j.__log({name:"queryresource.fetch",operation:c,fetchPolicy:e,renderPolicy:f,queryAvailability:k,shouldFetch:p});if(p){var s=n(c,a),t;d.subscribe({start:function(b){t=b;var c=i.$2.get(a);c&&c.setNetworkSubscription(t);c=h==null?void 0:h.start;c&&c(b)},next:function(){var b=j.lookup(c.fragment),d=i.$4(a,c,s,t);d.setValue(s);r();d=h==null?void 0:h.next;d&&d(b)},error:function(b){var d=i.$4(a,c,b,t);d.setValue(b);r();t=null;d.setNetworkSubscription(null);d=h==null?void 0:h.error;d&&d(b)},complete:function(){r();t=null;var b=i.$2.get(a);b&&b.setNetworkSubscription(null);b=h==null?void 0:h.complete;b&&b()},unsubscribe:h==null?void 0:h.unsubscribe});l=this.$2.get(a);if(!l){m=new(b("Promise"))(function(a){r=a});m.displayName="Relay("+c.fragment.node.name+")";l=o(a,c,m,t,this.$5);this.$2.set(a,l)}}else{e=h==null?void 0:h.complete;e&&e()}f=this.$2.get(a);f!=null||g(0,13816);return f};return a}();function q(a){return new p(a)}var r=new Map();function a(a){var b=r.get(a);if(b)return b;b=q(a);r.set(a,b);return b}e.exports={createQueryResource:q,getQueryResourceForEnvironment:a}}),null);
__d("relay-experimental/useFetchTrackingRef",["react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g||(g=b("react"))).useCallback,i=g.useEffect,j=g.useRef;function a(){var a=j(null),b=j(!1),c=h(function(){a.current!=null&&(a.current.unsubscribe(),a.current=null),b.current=!1},[]),d=h(function(d){c(),a.current=d,b.current=!0},[c]),e=h(function(){a.current=null,b.current=!1},[]);i(function(){return c},[c]);return{isFetchingRef:b,startFetch:d,disposeFetch:c,completeFetch:e}}e.exports=a}),null);
__d("relay-experimental/useLazyLoadQueryNode",["relay-experimental/ProfilerContext","react","relay-experimental/useFetchTrackingRef","relay-experimental/useFragmentNode","relay-experimental/useRelayEnvironment","relay-experimental/QueryResource","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("relay-experimental/QueryResource").getQueryResourceForEnvironment,i=b("relay-runtime").__internal.fetchQuery,j=(g||(g=b("react"))).useContext,k=g.useEffect;function a(a){__p&&__p();var c,d=b("relay-experimental/useRelayEnvironment")(),e=j(b("relay-experimental/ProfilerContext")),f=h(d),g=a.query,l=a.componentDisplayName,m=a.fetchKey,n=a.fetchPolicy,o=a.renderPolicy,p=(c=a.fetchObservable)!=null?c:i(d,g,{networkCacheConfig:a.networkCacheConfig});c=b("relay-experimental/useFetchTrackingRef")();var q=c.startFetch,r=c.completeFetch,s=e.wrapPrepareQueryResource(function(){return f.prepare(g,p,n,o,{start:q,complete:r,error:r},m)});k(function(){var a=f.retain(s);return function(){a.dispose()}},[d,g]);a=s.fragmentNode;c=s.fragmentRef;e=b("relay-experimental/useFragmentNode")(a,c,l);d=e.data;return d}e.exports=a}),null);
__d("relay-experimental/useMemoVariables",["react","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=(g||(g=b("react"))).useMemo,j=g.useRef,k=g.useState;function a(a){__p&&__p();var c=j(0),d=k(a),e=d[0];d=d[1];e=!(h||(h=b("areEqual")))(a,e);if(e){c.current=((e=c.current)!=null?e:0)+1;d(a)}e=i(function(){return a},[c.current]);return[e,(d=c.current)!=null?d:0]}e.exports=a}),null);
__d("relay-experimental/useMemoOperationDescriptor",["react","relay-experimental/useMemoVariables","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h=b("relay-runtime").createOperationDescriptor,i=b("relay-runtime").getRequest,j=(g||(g=b("react"))).useMemo;function a(a,c){c=b("relay-experimental/useMemoVariables")(c);var d=c[0];return j(function(){return h(i(a),d)},[a,d])}e.exports=a}),null);
__d("relay-experimental/useLazyLoadQuery",["relay-experimental/useLazyLoadQueryNode","relay-experimental/useMemoOperationDescriptor","relay-experimental/loadQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-experimental/loadQuery").useTrackLoadQueryInRender;function a(a,c,d){g();a=b("relay-experimental/useMemoOperationDescriptor")(a,c);c=b("relay-experimental/useLazyLoadQueryNode")({componentDisplayName:"useLazyLoadQuery()",fetchKey:d==null?void 0:d.fetchKey,fetchPolicy:d==null?void 0:d.fetchPolicy,networkCacheConfig:d==null?void 0:d.networkCacheConfig,query:a,renderPolicy:d==null?void 0:d.renderPolicy_UNSTABLE});return c}e.exports=a}),null);
__d("relay-experimental/getRefetchMetadata",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){var c;((c=a.metadata)==null?void 0:c.plural)!==!0||g(0,14163,a.name,b,a.name,b);c=(c=a.metadata)==null?void 0:c.refetch;c!=null||g(0,14164,b,a.name);a=c.operation["default"]?c.operation["default"]:c.operation;var d=c.fragmentPathInResult;typeof a!=="string"||g(0,14165,b);return{refetchableRequest:a,fragmentRefPathInResponse:d,refetchMetadata:c}}e.exports=a}),null);
__d("relay-experimental/getPaginationMetadata",["invariant","relay-experimental/getRefetchMetadata"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){var d,e=b("relay-experimental/getRefetchMetadata")(a,c),f=e.refetchableRequest,h=e.fragmentRefPathInResponse;e=e.refetchMetadata;e=e.connection;e!=null||g(0,14162,c,a.name);var i=e.path;d=((d=(d=a.metadata)==null?void 0:d.connection)!=null?d:[])[0];d!=null||g(0,14162,c,a.name);return{connectionPathInFragmentData:i,fragmentRefPathInResponse:h,paginationRequest:f,paginationMetadata:e,stream:d.stream===!0}}e.exports=a}),null);
__d("relay-experimental/getPaginationVariables",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b,c,d,e){__p&&__p();var f=e.backward;e=e.forward;if(a==="backward"){f!=null&&f.count!=null&&f.cursor!=null||g(0,19801);a=babelHelpers["extends"]({},d,(a={},a[f.cursor]=c,a[f.count]=b,a));e&&e.cursor&&(a[e.cursor]=null);e&&e.count&&(a[e.count]=null);return a}e!=null&&e.count!=null&&e.cursor!=null||g(0,19802);d=babelHelpers["extends"]({},d,(a={},a[e.cursor]=c,a[e.count]=b,a));f&&f.cursor&&(d[f.cursor]=null);f&&f.count&&(d[f.count]=null);return d}e.exports=a}),null);
__d("relay-experimental/getValueAtPath",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){__p&&__p();a=a;for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(a==null)return null;typeof e==="number"?(Array.isArray(a)||g(0,14107),a=a[e]):(typeof a==="object"&&!Array.isArray(a)||g(0,14106),a=a[e])}return a}e.exports=a}),null);
__d("relay-experimental/useIsMountedRef",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=(g||(g=b("react"))).useEffect,i=g.useRef;function a(){var a=i(!0);h(function(){return function(){a.current=!1}},[]);return a}e.exports=a}),null);
__d("relay-experimental/useLoadMoreFunction",["invariant","scheduler","relay-experimental/getPaginationVariables","relay-experimental/getValueAtPath","relay-experimental/useFetchTrackingRef","relay-experimental/useIsMountedRef","relay-experimental/useRelayEnvironment","warning","react","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=(h||(h=b("react"))).useCallback,j=h.useEffect,k=h.useState,l=b("relay-runtime").ConnectionInterface;c=b("relay-runtime").__internal;var m=c.fetchQuery,n=c.hasRequestInFlight,o=b("relay-runtime").createOperationDescriptor,p=b("relay-runtime").getSelector;function a(a){__p&&__p();var c=a.direction,d=a.fragmentNode,e=a.fragmentRef,f=a.fragmentIdentifier,h=a.fragmentData,l=a.connectionPathInFragmentData,r=a.fragmentRefPathInResponse,s=a.paginationRequest,t=a.paginationMetadata,u=a.componentDisplayName,v=a.observer;a=a.onReset;var w=b("relay-experimental/useRelayEnvironment")(),x=b("relay-experimental/useFetchTrackingRef")(),y=x.isFetchingRef,z=x.startFetch,A=x.disposeFetch,B=x.completeFetch,C=h==null?void 0:h.id,D=b("relay-experimental/useIsMountedRef")();x=k(w);var E=x[0];x=x[1];var F=k(f),G=F[0];F=F[1];E=w!==E||f!==G;E&&(A(),a(),x(w),F(f));G=q(c,d,h,l);var H=G.cursor;E=G.hasMore;j(function(){return function(){A()}},[A]);a=i(function(a,f){__p&&__p();var i=f==null?void 0:f.onComplete;if(D.current!==!0){b("warning")(!1,"Relay: Unexpected fetch on unmounted component for fragment `%s` in `%s`. It looks like some instances of your component are still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger a fetch.",d.name,u);return{dispose:function(){}}}f=p(d,e);var j=f!=null&&f.kind!=="PluralReaderSelector"&&n(w,f.owner);if(y.current===!0||h==null||j){f==null&&b("warning")(!1,"Relay: Unexpected fetch while using a null fragment ref for fragment `%s` in `%s`. When fetching more items, we expect initial fragment data to be non-null. Please make sure you're passing a valid fragment ref to `%s` before paginating.",d.name,u,u);i&&b("scheduler").unstable_next(function(){return i(null)});return{dispose:function(){}}}f!=null&&f.kind!=="PluralReaderSelector"||g(0,14120,d.name,u);j=f.owner.variables;f=f.variables;j=babelHelpers["extends"]({},j,f);f=b("relay-experimental/getPaginationVariables")(c,a,H,j,t);r.includes("node")&&(typeof C!=="string"&&b("warning")(!1,"Relay: Expected result to have a string  `id` in order to refetch/paginate, got `%s`.",C),f.id=C);a=o(s,f);m(w,a,{networkCacheConfig:{force:!0}}).subscribe(babelHelpers["extends"]({},v,{start:function(a){z(a),v.start&&v.start(a)},complete:function(){B(),v.complete&&v.complete(),i&&i(null)},error:function(a){B(),v.error&&v.error(a),i&&i(a)}}));return{dispose:A}},[w,C,c,H,z,A,B,y,h,d.name,e,u]);return[a,E,A]}function q(a,c,d,e){__p&&__p();var f=l.get(),h=f.EDGES,i=f.PAGE_INFO,j=f.HAS_NEXT_PAGE,k=f.HAS_PREV_PAGE,m=f.END_CURSOR;f=f.START_CURSOR;d=b("relay-experimental/getValueAtPath")(d,e);if(d==null)return{cursor:null,hasMore:!1};typeof d==="object"||g(0,14137,c.name,h,i,d);e=d[h];d=d[i];if(e==null||d==null)return{cursor:null,hasMore:!1};Array.isArray(e)||g(0,14138,c.name,h,e);typeof d==="object"||g(0,14139,c.name,i,d);i=a==="forward"?(h=d[m])!=null?h:null:(e=d[f])!=null?e:null;i===null||typeof i==="string"||g(0,14140,c.name,f,i);a==="forward"?m=i!=null&&d[j]===!0:m=i!=null&&d[k]===!0;return{cursor:i,hasMore:m}}e.exports=a}),null);
__d("relay-experimental/useRefetchableFragmentNode",["invariant","relay-experimental/ProfilerContext","scheduler","relay-experimental/getRefetchMetadata","relay-experimental/getValueAtPath","relay-experimental/useFetchTrackingRef","relay-experimental/useFragmentNode","relay-experimental/useIsMountedRef","relay-experimental/useMemoVariables","relay-experimental/useRelayEnvironment","warning","relay-experimental/FragmentResource","relay-experimental/QueryResource","react","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("relay-experimental/FragmentResource").getFragmentResourceForEnvironment,j=b("relay-experimental/QueryResource").getQueryResourceForEnvironment,k=(h||(h=b("react"))).useCallback,l=h.useContext,m=h.useEffect,n=h.useMemo,o=h.useReducer,p=h.useRef,q=b("relay-runtime").__internal.fetchQuery,r=b("relay-runtime").createOperationDescriptor,s=b("relay-runtime").getFragmentIdentifier,t=b("relay-runtime").getSelector;function u(a,b){switch(b.type){case"refetch":var c;return babelHelpers["extends"]({},a,{refetchVariables:b.refetchVariables,fetchPolicy:b.fetchPolicy,renderPolicy:b.renderPolicy,onComplete:b.onComplete,refetchEnvironment:b.environment,mirroredEnvironment:(c=b.environment)!=null?c:a.mirroredEnvironment});case"reset":return{fetchPolicy:void 0,renderPolicy:void 0,onComplete:void 0,refetchVariables:null,mirroredEnvironment:b.environment,mirroredFragmentIdentifier:b.fragmentIdentifier};default:b.type;throw new Error("useRefetchableFragmentNode: Unexpected action type")}}function a(a,c,d){__p&&__p();var e=b("relay-experimental/useRelayEnvironment")(),f=b("relay-experimental/getRefetchMetadata")(a,d),g=f.refetchableRequest;f=f.fragmentRefPathInResponse;var h=s(a,c),i=o(u,{fetchPolicy:void 0,renderPolicy:void 0,onComplete:void 0,refetchVariables:null,refetchEnvironment:null,mirroredEnvironment:e,mirroredFragmentIdentifier:h}),k=i[0];i=i[1];var q=b("relay-experimental/useFetchTrackingRef")(),t=q.startFetch,x=q.disposeFetch,y=q.completeFetch;q=p(0);var z=k.refetchVariables,A=k.refetchEnvironment,B=k.fetchPolicy,C=k.renderPolicy,D=k.onComplete,E=k.mirroredEnvironment;k=k.mirroredFragmentIdentifier;A=(A=A)!=null?A:e;var F=j(A);e=l(b("relay-experimental/ProfilerContext"));E=A!==E||h!==k;k=b("relay-experimental/useMemoVariables")(z);var G=k[0];z=n(function(){return G!=null?r(g,G):null},[G,g]);var H;k=c;if(E)i({type:"reset",environment:A,fragmentIdentifier:h});else if(z!=null){var I;A=w(A,z,B,C,(E=q.current)!=null?E:0,d,{start:t,complete:function(a){y();D&&D((a=a)!=null?a:null)}},e);B=A[0];C=A[1];H=B;E=b("relay-experimental/getValueAtPath")(C,f);k=E}t=b("relay-experimental/useFragmentNode")(a,k,d);e=t.data;A=t.disableStoreUpdates;B=t.enableStoreUpdates;m(function(){var a=H!=null?F.retain(H):null;return function(){a&&a.dispose()}},[F,h,z]);C=v(a,c,h,f,e,q,i,x,d);return{fragmentData:e,fragmentRef:k,refetch:C,disableStoreUpdates:A,enableStoreUpdates:B}}function v(a,c,d,e,f,g,h,i,j){__p&&__p();var l=b("relay-experimental/useIsMountedRef")(),m=f==null?void 0:f.id;return k(function(d,f){__p&&__p();var k;if(l.current!==!0){b("warning")(!1,"Relay: Unexpected call to `refetch` on unmounted component for fragment `%s` in `%s`. It looks like some instances of your component are still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger a fetch.",a.name,j);return{dispose:function(){}}}b("scheduler").unstable_getCurrentPriorityLevel()<b("scheduler").unstable_NormalPriority&&b("warning")(!1,"Relay: Unexpected call to `refetch` at a priority higher than expected on fragment `%s` in `%s`. It looks like you tried to call `refetch` under a high priority update, but updates that can cause the component to suspend should be scheduled at normal priority. Make sure you are calling `refetch` inside `startTransition()` from the `useSuspenseTransition()` hook.",a.name,j);c==null&&b("warning")(!1,"Relay: Unexpected call to `refetch` while using a null fragment ref for fragment `%s` in `%s`. When calling `refetch`, we expect initial fragment data to be non-null. Please make sure you're passing a valid fragment ref to `%s` before calling `refetch`, or make sure you pass all required variables to `refetch`.",a.name,j,j);g.current=((k=g.current)!=null?k:0)+1;k=f==null?void 0:f.__environment;var n=f==null?void 0:f.fetchPolicy,o=f==null?void 0:f.renderPolicy_UNSTABLE;f=f==null?void 0:f.onComplete;var p=t(a,c),q,r;if(p==null)q={},r={};else if(p.kind==="PluralReaderSelector"){var s;q=(s=(s=p.selectors[0])==null?void 0:s.owner.variables)!=null?s:{};r=(s=(s=p.selectors[0])==null?void 0:s.variables)!=null?s:{}}else q=p.owner.variables,r=p.variables;s=babelHelpers["extends"]({},q,r,d);e.includes("node")&&!Object.prototype.hasOwnProperty.call(d,"id")&&(typeof m!=="string"&&b("warning")(!1,"Relay: Expected result to have a string  `id` in order to refetch, got `%s`.",m),s.id=m);h({type:"refetch",refetchVariables:s,fetchPolicy:n,renderPolicy:o,onComplete:f,environment:k});return{dispose:i}},[d,m,h,i])}function w(a,b,c,d,e,f,h,k){var l=h.start,m=h.complete,n=j(a);h=i(a);k=k.wrapPrepareQueryResource(function(){return n.prepare(b,q(a,b,{networkCacheConfig:{force:!0}}),c,d,{start:l,error:m,complete:m},e)});h=h.read(k.fragmentNode,k.fragmentRef,f).data;h!=null||g(0,13942);return[k,h]}var x;e.exports=a}),null);
__d("relay-experimental/useLegacyPaginationFragment",["relay-experimental/getPaginationMetadata","relay-experimental/useLoadMoreFunction","relay-experimental/useRefetchableFragmentNode","relay-experimental/useStaticFragmentNodeWarning","react","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g||(g=b("react"))).useCallback,i=g.useState,j=b("relay-runtime").getFragment,k=b("relay-runtime").getFragmentIdentifier;function a(a,c){__p&&__p();a=j(a);b("relay-experimental/useStaticFragmentNodeWarning")(a,"first argument of useLegacyPaginationFragment()");var d="useLegacyPaginationFragment()",e=b("relay-experimental/getPaginationMetadata")(a,d),f=e.connectionPathInFragmentData,g=e.fragmentRefPathInResponse,i=e.paginationRequest;e=e.paginationMetadata;c=b("relay-experimental/useRefetchableFragmentNode")(a,c,d);var m=c.fragmentData,n=c.fragmentRef,o=c.refetch;c=k(a,n);var p=l({direction:"backward",fragmentNode:a,fragmentRef:n,fragmentIdentifier:c,fragmentData:m,connectionPathInFragmentData:f,fragmentRefPathInResponse:g,paginationRequest:i,paginationMetadata:e,componentDisplayName:d}),q=p[0],r=p[1],s=p[2],t=p[3];p=l({direction:"forward",fragmentNode:a,fragmentRef:n,fragmentIdentifier:c,fragmentData:m,connectionPathInFragmentData:f,fragmentRefPathInResponse:g,paginationRequest:i,paginationMetadata:e,componentDisplayName:d});a=p[0];n=p[1];c=p[2];var u=p[3];f=h(function(a,b){u();t();return o(a,babelHelpers["extends"]({},b,{__environment:void 0}))},[u,t,o]);return{data:m,loadNext:a,loadPrevious:q,hasNext:n,hasPrevious:r,isLoadingNext:c,isLoadingPrevious:s,refetch:f}}function l(a){__p&&__p();var c=i(!1),d=c[0],e=c[1];c={start:function(){return e(!0)},complete:function(){return e(!1)},error:function(){return e(!1)}};var f=function(){return e(!1)};a=b("relay-experimental/useLoadMoreFunction")(babelHelpers["extends"]({},a,{observer:c,onReset:f}));c=a[0];f=a[1];a=a[2];return[c,f,d,a]}e.exports=a}),null);
__d("relay-experimental/usePreloadedQuery",["invariant","relay-experimental/useLazyLoadQueryNode","relay-experimental/useMemoOperationDescriptor","relay-experimental/useRelayEnvironment","relay-experimental/loadQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("relay-experimental/loadQuery").useTrackLoadQueryInRender,i=b("relay-runtime").__internal.fetchQueryDeduped;function a(a,c){h();var d=b("relay-experimental/useRelayEnvironment")(),e=c.fetchPolicy,f=c.fetchKey,j=c.source,k=c.variables,l=b("relay-experimental/useMemoOperationDescriptor")(a,k);l.request.node.params.name===c.name||g(0,15566,l.request.node.params.name,c.name);a=b("relay-experimental/useLazyLoadQueryNode")({componentDisplayName:"usePreloadedQuery()",fetchKey:f,fetchObservable:i(d,l.request,function(){if(d===c.environment&&j!=null)return d.executeWithSource({operation:l,source:j});else return d.execute({operation:l})}),fetchPolicy:e,query:l});return a}e.exports=a}),null);
__d("relay-experimental/useRefetchableFragment",["relay-experimental/useRefetchableFragmentNode","relay-experimental/useStaticFragmentNodeWarning","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").getFragment;function a(a,c){a=g(a);b("relay-experimental/useStaticFragmentNodeWarning")(a,"first argument of useRefetchableFragment()");a=b("relay-experimental/useRefetchableFragmentNode")(a,c,"useRefetchableFragment()");c=a.fragmentData;a=a.refetch;return[c,a]}e.exports=a}),null);
__d("RelayHooks",["relay-experimental/EntryPointContainer.react","relay-experimental/fetchQuery","relay-experimental/loadQuery","relay-experimental/prepareEntryPoint","relay-experimental/RelayEnvironmentProvider","relay-experimental/useFragment","relay-experimental/useLazyLoadQuery","relay-experimental/useLegacyPaginationFragment","relay-experimental/usePreloadedQuery","relay-experimental/useRefetchableFragment","relay-experimental/useRelayEnvironment","relay-runtime","configureRelayForWWW"],(function(a,b,c,d,e,f){"use strict";a=b("relay-runtime").graphql;b("configureRelayForWWW")();e.exports={EntryPointContainer:b("relay-experimental/EntryPointContainer.react"),RelayEnvironmentProvider:b("relay-experimental/RelayEnvironmentProvider"),fetchQuery:b("relay-experimental/fetchQuery"),graphql:a,preloadQuery:b("relay-experimental/loadQuery"),prepareEntryPoint:b("relay-experimental/prepareEntryPoint"),useFragment:b("relay-experimental/useFragment"),useLazyLoadQuery:b("relay-experimental/useLazyLoadQuery"),useLegacyPaginationFragment:b("relay-experimental/useLegacyPaginationFragment"),usePreloadedQuery:b("relay-experimental/usePreloadedQuery"),useRefetchableFragment:b("relay-experimental/useRefetchableFragment"),useRelayEnvironment:b("relay-experimental/useRelayEnvironment")}}),null);
__d("MessengerUserProfileLocationUtils",["MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery","RelayFBEnvironment","RelayHooks","WebGraphQL","gkx","MessengerUserProfileLocationUtilsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayHooks").fetchQuery;b("RelayHooks").graphql;function i(){return h(b("RelayFBEnvironment"),g||(g=function(){return b("MessengerUserProfileLocationUtilsQuery.graphql")}),{}).toPromise()}function a(){return b("gkx")("1173731")}function c(){__p&&__p();return i().then(function(a){__p&&__p();var c=null,d=null;a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.address;a!==null&&(c=(a==null?void 0:a.region)===""?null:a==null?void 0:a.region,d=(a==null?void 0:a.postal_code)===""?null:a==null?void 0:a.postal_code);if(c!==null&&d!==null)return{region:c,postal_code:d};else return b("WebGraphQL").exec(new(b("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery"))({})).then(function(a){a=(a=a)!=null?a.in_thread_user_fuzzy_location_search:a;if(a!==null){var b;c=c===null?(b=a)!=null?b.state:b:c;d=d===null?(b=a)!=null?b.zip_code:b:d}return{region:c,postal_code:d}})})}e.exports={FetchMessengerUserRegionAndPostalCode:c,PassesGlobalizationGK:a}}),null);
__d("MessengerViewBirthdayQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2274663492615448"};b.getQueryID=function(){return"471345946953742"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerViewerContactMethodsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1868889766468115"};b.getQueryID=function(){return"177554543035925"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MercuryQuickReply.react",["cx","BootloadedComponent.react","JSResource","MercuryIDs","MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery","MessengerBusinessUserProfileLocationQueryWebGraphQLQuery","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerUserProfileLocationUtils","MessengerViewBirthdayQueryWebGraphQLQuery","MessengerViewerContactMethodsWebGraphQLQuery","React","WebGraphQL","XUISpinner.react","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerUserProfileLocationUtils").FetchMessengerUserRegionAndPostalCode,i=b("MessengerUserProfileLocationUtils").PassesGlobalizationGK;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={viewerBirthday:null,viewerEmail:null,viewerPhone:null,viewerState:null,viewerZipCode:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.lastMessage)!==null&&this.props.quickReplyDidShow()};d.componentDidUpdate=function(a){this.$1(this.props.lastMessage)!==null&&this.$1(a.lastMessage)===null&&this.props.quickReplyDidShow(),this.$2(this.props.lastMessage)};d.render=function(){__p&&__p();var a=this,c=this.props.lastMessage,d=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer);if(!c||c.author===d)return null;d=this.$1(c);if(Array.isArray(d)){var e=d.every(function(b){return b.content_type==="user_birthday"&&a.state.viewerBirthday===null||b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null||b.content_type==="user_state"&&a.state.viewerState===null||b.content_type==="user_zip_code"&&a.state.viewerZipCode===null});if(!e){e=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(d);return b("React").jsx("div",{className:"_419m",children:b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MercuryQuickReply.react"),bootloadPlaceholder:b("React").jsx(b("XUISpinner.react"),{className:"_5h-9"}),isSponsored:c.is_sponsored,messageId:c.message_id,options:e,pageId:b("MercuryIDs").getUserIDFromParticipantID(c.author),threadID:c.thread_id,quickCamOriginLocation:this.props.quickCamOriginLocation,viewer:this.props.viewer,viewerBirthday:this.state.viewerBirthday,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone,viewerState:this.state.viewerState,viewerZipCode:this.state.viewerZipCode})})}}return null};d.$1=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};d.$2=function(a){__p&&__p();var c=this;a=this.$1(a);if(!a||a.length===0)return;var d=b("gkx")("953755");d&&a.some(function(a){return a.content_type==="user_birthday"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewBirthdayQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.birthdate:a:a:a;if(a!==null){var b,d;d=(d=a)!=null?d.month:d;b=(b=a)!=null?b.day:b;a=(a=a)!=null?a.year:a;d&&b&&a&&c.setState({viewerBirthday:{day:b,month:d,year:a}})}});d=b("gkx")("989256");d&&a.some(function(a){return a.content_type==="user_state"||a.content_type==="user_zip_code"})&&(!this.state.viewerState||!this.state.viewerZipCode)&&(i()?b("promiseDone")(h(),function(a){var b=a==null?void 0:a.region;a=a==null?void 0:a.postal_code;c.setState({viewerState:b,viewerZipCode:a})}):(b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessUserProfileLocationQueryWebGraphQLQuery"))({})),function(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.user)!=null?a.address:a:a:a;if(a!=null){var d,e;e=(e=a)!=null?e.city:e;d=(d=a)!=null?d.country:d;e&&d==="US"&&c.setState({viewerState:b("MessengerQuickReplyUtils").parseStateFromCityAddress(e)});c.setState({viewerZipCode:(d=a)!=null?d.postal_code:d})}}),(!this.state.viewerState||!this.state.viewerZipCode)&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerBusinessQuickReplyLocationQueryWebGraphQLQuery"))({})),function(a){__p&&__p();a=(a=a)!=null?a.in_thread_user_fuzzy_location_search:a;if(a!==null){if(!c.state.viewerState){var b;c.setState({viewerState:(b=a)!=null?b.state:b})}if(!c.state.viewerZipCode){c.setState({viewerZipCode:(b=a)!=null?b.zip_code:b})}}})));a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var d=b?b.find(function(a){return a.is_preferred}):null;!d&&b&&(d=b[0]);b=a?a.find(function(a){return a.is_primary}):null;c.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=d)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})})};return c}(b("React").PureComponent);c.propTypes={quickReplyDidShow:a.func.isRequired,lastMessage:a.object,quickCamOriginLocation:a.oneOf(b("MessengerQuickCamOrigins").getValues()).isRequired,threadID:a.string.isRequired,viewer:a.string.isRequired};e.exports=c}),null);
__d("ScrollBoundaryContain",["Event","Scroll","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a,c){c.deliberateSync=!0;if(c.axis!==void 0&&c.axis===c.HORIZONTAL_AXIS||c.wheelDeltaX&&!c.wheelDeltaY||c.deltaX&&!c.deltaY)return;var d=c.wheelDelta||-c.deltaY||-c.detail,e=a.scrollHeight,f=a.clientHeight;if(e>f){c.stopPropagation();a=b("Scroll").getTop(a);(d>0&&a===0||d<0&&a>=e-f-1)&&c.preventDefault()}},h=void 0,i=function(){if(h)return h;h=b("UserAgent").isBrowser("Firefox")?"WheelEvent"in window?"wheel":"DOMMouseScroll":"mousewheel";return h},j=function(a){__p&&__p();var c=g.bind(null,a),d=i(),e,f=b("Event").listen(a,"mouseenter",function(){e==null&&(e=b("Event").listen(a,d,c))}),h=b("Event").listen(a,"mouseleave",function(){e&&(e.remove(),e=null)}),j=!1;return{remove:function(){if(j)return;e&&(e.remove(),e=null);f.remove();h.remove();j=!0}}},k=function(a){a.deliberateSync=!0,this.scrollHeight>this.clientHeight&&a.stopPropagation()},l=function(a){var c=b("Event").listen(a,i(),k,null,{passive:!0}),d=!1;return{remove:function(){if(d)return;c.remove();d=!0}}};a={applyToElem:function(a){if("overscrollBehavior"in a.style){a.style.overscrollBehavior="contain";return l(a)}else{a.style.msScrollChaining!==void 0&&(a.style.msScrollChaining="none");return j(a)}}};e.exports=a}),null);
__d("WorkBotLandingPageHelper",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;function a(a){__p&&__p();var b;if(a.length===0)return!0;if(a.length>1)return!1;a=a[a.length-1];b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}function c(a){__p&&__p();var b;if(a.size===0)return!0;if(a.size>1)return!1;a=a.last();b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}e.exports={shouldShowBotLandingPage:c,shouldShowBotLandingPageArray:a}}),null);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a(a,c){__p&&__p();if(!b("fbjs/lib/ExecutionEnvironment").canUseDOM||c&&!("addEventListener"in document))return!1;c="on"+a;var d=c in document;if(!d){var e=document.createElement("div");e.setAttribute(c,"return;");d=typeof e[c]==="function"}!d&&g&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}e.exports=a}),null);
__d("FantaConversationScroller.react",["ix","csx","cx","fbt","Animation","Arbiter","BootloadedComponent.react","Bootloader","ChatTypingIndicatorsWrapper.bs","CurrentUser","Event","FantaAppStore","FantaConversation.react","FantaMessageActions","FantaPageGreetingLoader.react","FantaTabActions","FantaThread.react","Image.react","JSResource","Link.react","MercuryAttachment","MercuryConfig","MercuryIDs","MercuryLastMessageIndicator.react","MercuryQuickReply.react","MercuryShareAttachmentRenderLocations","MessengerHotLikePreviewEvents","MessengerParticipants.bs","MessengerQuickCamOrigins","MessengerTabsThreadSearchLoader","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","Parent","QE2Logger","React","ReactDOM","Scroll","ScrollBoundaryContain","Style","SubscriptionsHandler","TimeSlice","WebMessengerConstants","WorkBotLandingPageHelper","XUIButton.react","XUISpinner.react","asset","clearImmediate","emptyFunction","getElementPosition","getPageIDFromThreadID","gkx","immutable","isEventSupported","joinClasses","performanceAbsoluteNow","promiseDone","setImmediate","shallowArrayEqual","shallowEqual","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("ChatTypingIndicatorsWrapper.bs").jsComponent,m=b("WorkBotLandingPageHelper").shouldShowBotLandingPageArray;a=b("React").PropTypes;var n=0,o=15,p=null,q=20,r=1e3;function s(a){__p&&__p();if(p===null){var c=a.firstElementChild;if(c){b("Style").set(a,"overflow","scroll");var d=c.clientWidth;b("Style").set(a,"overflow","hidden");c=c.clientWidth;p=Math.max(c-d,0);b("Style").set(a,"overflow","")}else p=0}return p}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$8=[];d.state={loadingMessages:!d.props.isEmptyLocalThread,scrollbarPadding:p===null?o:p,hideLastMessageIndicator:!1,searchResults:null};d.$19=function(a){a=b("ReactDOM").findDOMNode(d.refs.scrollContainer);a&&(d.$20(),d.$21()&&!d.$22()&&!d.$2&&!d.props.hasFetchedAll&&!(d.state.searchResults&&d.state.searchResults.mid)&&(d.setState({loadingMessages:!0}),d.props.onLoadMoreMessages()),d.$23(),d.$9())};d.$15=function(){__p&&__p();if(!d.refs||d.state.loadingMessages||!d.props.thread){d.$8=[];return}var a=b("ReactDOM").findDOMNode(d.refs.scrollContainer),c=b("getPageIDFromThreadID")(d.props.threadID);if(!a||!c){d.$8=[];return}var e=10,f,g;try{f=a.getBoundingClientRect(),g=d.refs.conversation?d.refs.conversation.getMessageList():null}catch(a){return}if(!g||!f)return;var h=[];d.$7.forEach(function(a){if(!g)return;var i=a.message_id,j=g.getMessageElement(i);if(j){j=j.getBoundingClientRect();j.top>f.top-e&&j.bottom<f.bottom+e&&(h.push(i),d.$8.includes(i)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,i,c)},"FantaConversationScroller.react"))}},babelHelpers.assertThisInitialized(d));d.$8=h};d.$25=function(){d.$1=null,b("FantaTabActions").scrollBottomChanged(d.props.threadID,d.$5,d.$26)};d.$26=function(){d.$27(!1),d.$17()};d.$29=function(){var a=(k||(k=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){return b.markerEnd(c.FIRSTCHATTABOPEN_WWW,"SUCCESS",0,a)},"FantaConversationScroller.react")};d.$32=function(a){a=b("Parent").byClass(a.target,"._1dlq");a||d.props.onFocus&&d.props.onFocus()};d.$5=!0;return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){var d=this.props,e=this.state;return d.hasFetchedAll!==a.hasFetchedAll||d.isFocused!==a.isFocused||!b("shallowArrayEqual")(d.messages,a.messages)||d.showContextBanner!==a.showContextBanner||d.readReceipts!==a.readReceipts||d.thread!==a.thread||d.threadID!==a.threadID||e.loadingMessages!==c.loadingMessages||e.hideLastMessageIndicator!==c.hideLastMessageIndicator||!b("shallowEqual")(e.searchResults,c.searchResults)||d.jumpToMessage!==a.jumpToMessage};d.componentDidMount=function(){__p&&__p();var a=this,c=(k||(k=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_conversation_scroller",JSON.stringify({messageSize:a.props.messages.length,hasThread:!!a.props.thread}),0,c)},"FantaConversationScroller.react");this.$6=new(b("SubscriptionsHandler"))();this.$10();this.$11();this.$12();b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$13());this.setState({scrollbarPadding:s(this.refs.scrollContainer),searchResults:this.$14()});this.$9=b("throttle")(this.$15,r);this.$7=this.props.messages.filter(function(a){return a.is_sponsored});this.$9();this.$16()};d.componentDidUpdate=function(a){__p&&__p();this.$12();if(this.$2){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(c){var d=this.$2||0;c=c.scrollHeight-d;this.scrollToPosition(c,!1)}this.$2=null}if(!b("shallowArrayEqual")(a.messages,this.props.messages)){b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$13());d=a.messages[a.messages.length-1];c=this.props.messages[this.props.messages.length-1];if(d!==c&&c&&c.author){a=b("MercuryIDs").getUserIDFromParticipantID(c.author);a===b("CurrentUser").getID()&&(this.scrollToBottom(!1),this.$17())}}this.$18();this.$9()};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1),this.$6.release(),b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(this.props.threadID,null)};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this.state.loadingMessages&&a.messages.length>0&&!b("shallowArrayEqual")(a.messages,this.props.messages);if(c||a.hasFetchedAll||a.showContextBanner){this.setState({loadingMessages:!1});c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(c){var d=c.scrollHeight;c=b("Scroll").getTop(c);this.$2=d-c}}this.$7=a.messages.filter(function(a){return a.is_sponsored})};d.$14=function(){return b("MessengerTabsThreadSearchLoader").isLoaded()?b("MessengerTabsThreadSearchLoader").getStoreEnforce().getThreadState(this.props.threadID):null};d.$16=function(){var a=this;b("MercuryConfig").M3CRE&&b("promiseDone")(b("MessengerTabsThreadSearchLoader").load(),function(b){var c=b.store;b.actions;a.$6.addSubscriptions(c.get().addListener("change",function(){return a.setState({searchResults:a.$14(),loadingMessages:!1})}))})};d.$12=function(a){var c=this;a===void 0&&(a=!1);this.$5&&b("TimeSlice").guard(function(){c.scrollToBottom(a)},"post load chat animations",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};d.renderGroupWave=function(){var a=this.props.thread;return b("MercuryIDs").isLocalThread(this.props.threadID)&&a&&!a.associated_object&&!a.is_canonical&&!a.thread_fbid?b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"}),bootloadLoader:b("JSResource")("ChatWaveImage.react").__setRef("FantaConversationScroller.react"),thread:a}):null};d.maybeRenderNullStateWave=function(){__p&&__p();var a=this.props,c=a.thread;a=a.threadID;if(!c||!c.is_canonical||c.timestamp)return null;b("QE2Logger").logExposureForUser("wave_in_www_null_state");if(!b("MercuryConfig").MNWNS)return null;c=b("MercuryIDs").getParticipantIDFromFromThreadID(a);c=c?b("MessengerParticipants.bs").getNow(c):null;c=c?c.short_name:null;return b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerNewWavePrompt.react").__setRef("FantaConversationScroller.react"),threadID:a,recipientName:c,entrypoint:"canonical_null_state"})};d.$23=function(){__p&&__p();var a=this.props.threadID,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;var d;try{c=c.getBoundingClientRect(),d=this.refs.conversation?this.refs.conversation.getMessageList():null}catch(a){return}if(!d||!c)return;var e=[],f=b("MessengerVideoAutoplayStore").getMessageIDs(a),g=f||this.$13()||b("immutable").List();g.map(function(a){var c=b("MercuryAttachment").getVideoElem(a,d);c&&e.push([a,c.getBoundingClientRect()])});e.length&&b("MessengerVideoAutoplayActions").onScroll(a,f?null:g,b("immutable").Map(e),c)};d.$13=function(){var a=this.props.messages.filter(function(a){return b("MercuryAttachment").isSingleVideoAttachment(a)||b("MercuryAttachment").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id});return b("immutable").List(a)};d.$24=function(a,c){__p&&__p();var d=this.refs.conversation?this.refs.conversation.getMessageList():null;if(!d)return;var e=b("ReactDOM").findDOMNode(this.refs.scrollContainer),f=b("ReactDOM").findDOMNode(this.refs.conversation);d=d.getMessageComponent(a);a=b("ReactDOM").findDOMNode(d);if(!a||!f||!e)return;f=f.getBoundingClientRect().top;a=a.getBoundingClientRect().top;a=Math.abs(a-f)-e.getBoundingClientRect().height/2;this.$5=!1;this.scrollToPosition(Math.max(a,0),!1);b("CurrentUser").isWorkUser()&&d.highlightMessage();var g=c;g&&b("setImmediate")(function(){return g()})};d.scrollToBottom=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.scrollToPosition(c.scrollHeight,a)};d.scrollToPosition=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!d)return;this.$4&&this.$4.stop();c?this.$4=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};d.$22=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return!1;a=a===0?0:a||q;return b("Scroll").getTop(c)+c.clientHeight>=c.scrollHeight-a};d.$21=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);return!a?!1:b("Scroll").getTop(a)<a.clientHeight};d.$17=function(){var a=this.$5;this.$22()?this.$5=!0:this.$5=!1;a!==this.$5&&(this.$1=b("setImmediate")(this.$25))};d.$10=function(){__p&&__p();var a=this,c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!c)return;var d=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",e=function(){a.$17()},f=function(){c.addEventListener(d,e,{passive:!0})},g=function(){c.removeEventListener(d,e,{passive:!0})};this.$6.addSubscriptions(b("Arbiter").subscribe("overflow-applied-to-body",function(){return a.$12()}),b("Event").listen(c,"mousedown",e),b("Event").listen(c,"mouseup",e),b("Event").listen(c,"mouseenter",f),b("Event").listen(c,"mouseleave",g),{cancel:g},b("Event").listen(c,"scroll",b("throttle")(this.$19,50)));f=b("ScrollBoundaryContain").applyToElem(c);f&&this.$6.addSubscriptions(f)};d.$11=function(){var a=this,c;this.$6.addSubscriptions((c=b("MessengerHotLikePreviewEvents")).addListener(c.START,function(b,c){a.props.threadID===c&&(a.$27(!1),window.clearInterval(a.$3),a.$3=window.setInterval(function(){a.$27(!1)},50))}),c.addListener(c.FINISH_ANIMATION,function(b){window.clearInterval(a.$3)}),c.addListener(c.FINISH_EMOJI_ANIMATION,function(b){window.clearInterval(a.$3)}),c.addListener(c.REMOVE,function(b){a.props.threadID===b&&window.clearInterval(a.$3)}))};d.$28=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return a&&a.user_input};d.$30=function(a){var c=b("gkx")("964442");if(c){c=this.$28(a);a=b("FantaAppStore").getState().mercury.userInputRequest.isUserInputRequested;c&&!a?b("FantaMessageActions").updateUserInputRequested(!0,c.data.num_results,c.type):!c&&!!a&&b("FantaMessageActions").updateUserInputRequested(!1,n,null)}return};d.$31=function(){return b("CurrentUser").isWorkUser()?m(this.props.messages):this.props.messages.length===0};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.forGameChat,e=c.hasFetchedAll,f=c.isEmptyLocalThread,g=c.messages,h=c.showContextBanner,i=c.thread;c=c.threadID;var k=b("CurrentUser").getID();f=f||e||h;e=this.state.loadingMessages||!i?b("React").jsx("div",{className:"_1xdl",children:b("React").jsx(b("XUISpinner.react"),{background:"light",className:"loading",size:"small"})}):null;e||(this.$29(),this.$29=b("emptyFunction"));h=function(){return a.$12()};var m=this.$31()?b("React").jsx(b("FantaPageGreetingLoader.react"),{thread:i,threadID:c}):null;f=f?b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("div",{}),bootloadLoader:b("JSResource")("MessengerContextBannerContainer.react").__setRef("FantaConversationScroller.react"),isContinuation:!1,location:b("MercuryShareAttachmentRenderLocations").CHAT,viewer:k,thread:i,threadID:c}):null;var n=b("React").jsx("div",{className:b("joinClasses")("accessible_elem","_2kwv"),children:j._("B\u1eaft \u0111\u1ea7u cu\u1ed9c tr\u00f2 chuy\u1ec7n")}),o=b("React").jsx("div",{className:b("joinClasses")("accessible_elem","_2kwv"),children:j._("K\u1ebft th\u00fac cu\u1ed9c tr\u00f2 chuy\u1ec7n")});this.$30(g[g.length-1]);var p=null,q=this.state.searchResults;if(q&&q.messages){var r=j._("T\u1ea3i th\u00eam...");p=b("React").jsxs(b("React").Fragment,{children:[q.upExhausted?null:b("React").jsx("div",{className:"_7fim",children:b("React").jsx(b("XUIButton.react"),{className:"_41jf",label:r,onClick:function(){return b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,a.props.threadID)},type:"primary",use:"default"})}),b("React").jsx(b("FantaConversation.react"),{forGameChat:d,onAttachmentLoad:h,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation",messages:q.messages,onLoadMoreMessages:b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext,hasFetchedAll:this.props.hasFetchedAll,isFocused:this.props.isFocused,onFocus:this.props.onFocus,readReceipts:this.props.readReceipts,showContextBanner:this.props.showContextBanner,thread:this.props.thread,threadID:this.props.threadID}),q.downExhausted?null:b("React").jsx("div",{className:"_7fim",children:b("React").jsx(b("XUIButton.react"),{className:"_41jf",label:r,onClick:function(){return b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().getMoreSearchContext(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN,a.props.threadID)},type:"primary",use:"default"})}),b("React").jsx(l,{threadID:c,indicatorClass:void 0,indicatorsWillShow:b("emptyFunction"),indicatorsDidShow:function(){return a.setState({hideLastMessageIndicator:!0},function(){a.$12(!0)})},indicatorsDidHide:function(){return a.setState({hideLastMessageIndicator:!1})},rootClassName:void 0,viewer:k})]})}else{p=(q=b("React")).jsxs(q.Fragment,{children:[q.jsx(b("FantaConversation.react"),babelHelpers["extends"]({forGameChat:d,onAttachmentLoad:h,scrollbarPadding:this.state.scrollbarPadding,ref:"conversation"},this.props)),q.jsx(b("MercuryQuickReply.react"),{lastMessage:g.length>0?g[g.length-1]:void 0,threadID:c,quickReplyDidShow:function(){return a.$12(!0)},viewer:k,quickCamOriginLocation:b("MessengerQuickCamOrigins").CHAT_TAB}),b("React").jsx(l,{threadID:c,indicatorClass:void 0,indicatorsWillShow:b("emptyFunction"),indicatorsDidShow:function(){return a.setState({hideLastMessageIndicator:!0},function(){a.$12(!0)})},indicatorsDidHide:function(){return a.setState({hideLastMessageIndicator:!1})},rootClassName:void 0,viewer:k}),this.renderGroupWave(),this.maybeRenderNullStateWave(),b("React").jsx(b("MercuryLastMessageIndicator.react"),{isTyping:this.state.hideLastMessageIndicator,indicatorDidShow:function(){a.$12(!0)},indicatorWillShow:b("emptyFunction"),lastMessage:g.length>0?g[g.length-1]:null,readReceipts:this.props.readReceipts,thread:i,threadID:c})]})}return b("React").jsxs(b("FantaThread.react"),{onClick:this.$32,spacerContent:b("React").jsxs(b("React").Fragment,{children:[n,f,m,e]}),scrollRef:function(b){a.refs.scrollContainer=b},children:[p,o,this.$33()]})};d.$33=function(){var a=this;return this.state.searchResults&&this.state.searchResults.messages?b("React").jsx(b("Link.react"),{className:"_2llh",onClick:function(){b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(a.props.threadID,null),a.$5=!0},children:b("React").jsx(b("Image.react"),{className:"_2llt",src:g("415098")})}):null};d.$18=function(){var a=this,c=this.props.jumpToMessage;if(!c)return;this.props.messages.some(function(a){return a.message_id===c})||this.state.searchResults&&this.state.searchResults.messages&&this.state.searchResults.messages.some(function(a){return a.message_id===c})?this.$24(c,function(){return b("FantaTabActions").wipeJumpToMessage(a.props.threadID)}):b("MessengerTabsThreadSearchLoader").isLoaded()&&b("MessengerTabsThreadSearchLoader").getActionsEnforce().updateThreadState(this.props.threadID,c)};d.$20=function(){var a=b("ReactDOM").findDOMNode(this.refs.scrollContainer);if(!a)return;var c=b("getElementPosition")(a);b("Arbiter").inform("chatScrolled/"+this.props.threadID,{scrollTop:b("Scroll").getTop(a),top:c.y,viewHeight:c.height})};d.$27=function(a){var c=b("ReactDOM").findDOMNode(this.refs.scrollContainer);c&&this.$34(c.scrollHeight,a)};d.$34=function(a,c){var d=b("ReactDOM").findDOMNode(this.refs.scrollContainer);this.$4&&this.$4.stop();if(!d)return;c===!0?this.$4=new(b("Animation"))(d).to("scrollTop",a).ease(b("Animation").ease.end).duration(400).go():b("Scroll").setTop(d,a)};return c}(b("React").Component);c.propTypes={forGameChat:a.bool.isRequired,hasFetchedAll:a.bool.isRequired,isEmptyLocalThread:a.bool.isRequired,isFocused:a.bool.isRequired,onFocus:a.func,onLoadMoreMessages:a.func.isRequired,showContextBanner:a.bool,thread:a.object,threadID:a.string.isRequired,jumpToMessage:a.string};e.exports=c}),null);
__d("FantaCookieUtil",["CurrentUser","FantaConst","MercuryIDs","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={convertCookieData:function(a,c,d){__p&&__p();var e={tabs:[],focusedTabID:null,updatedTime:0,interstitialData:d};d=[];var f=this._getCookieKeys();a=a||{};a[f.tabs]&&(d=a[f.tabs]);d.forEach(function(a){var d=!b("CurrentUser").isWorkUser()&&!c?!0:!a.r;e.tabs.push({id:a.i,isMinimized:d,openCounter:a.o,focusCounter:a.f})});if(c)for(var d=c.tabs.values(),g=Array.isArray(d),h=0,d=g?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=d.length)break;i=d[h++]}else{h=d.next();if(h.done)break;i=h.value}i=i;b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),i.id)&&e.tabs.push({id:i.id,isMinimized:i.isMinimized,openCounter:i.openCounter,focusCounter:i.focusCounter})}e.focusedTabID=a[f.focusedTabID];e.updatedTime=a[f.updatedTime];return e},createCookieData:function(a,c){__p&&__p();var d=[],e=this._getCookieKeys();if(c[e.updatedTime]>a.updatedTime)return c;for(var f=a.tabs.values(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;!b("MercuryIDs").isLocalThread(i.id)&&!this._shouldDisableForCookie(i.id,i.entryPoint)&&d.push({i:i.id,r:i.isMinimized?void 0:1,o:i.openCounter,f:i.focusCounter})}c[e.tabs]=d;c[e.focusedTabID]=a.focusedTabID;c[e.updatedTime]=a.updatedTime;return c},_shouldDisableForCookie:function(a,c){if(!c.includes("fb_page:user_message_prompt"))return!1;c=b("MessengerState.bs").getThreadMessagesRangeNow(b("CurrentUser").getID(),a,0,1)[0];return c===void 0},_getCookieKeys:function(){var a=b("CurrentUser").isWorkUser();return{tabs:a?b("FantaConst").cookieIDs.WORK_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_COOKIE_ID,focusedTabID:a?b("FantaConst").cookieIDs.WORK_FOCUS_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_FOCUS_COOKIE_ID,updatedTime:a?b("FantaConst").cookieIDs.WORK_TIME_COOKIE_ID:b("FantaConst").cookieIDs.PERSONAL_TIME_COOKIE_ID}}};e.exports=a}),null);
__d("FantaDragAndDrop.react",["Bootloader","JSResource","MercuryShareAttachmentRenderLocations","MessengerEnvironment","React","emptyFunction","ifRequired","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=144;a=b("React").PropTypes;var h=b("lazyLoadComponent")(b("JSResource")("MercurySharePreview.react").__setRef("FantaDragAndDrop.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.composer;c.$4(function(c){c.removeSharePreview(a,b)})},c.$2=function(a,b){var d=c.props.composer;c.$4(function(c){c.loadedShareData(a,b,d)})},c.$3=function(a){var b=c.props.composer;c.$4(function(c){c.loadingShareData(a,b)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("MessengerEnvironment").messengerui?b("Bootloader").loadModules(["MessengerActions"],b("emptyFunction"),"FantaDragAndDrop.react"):b("Bootloader").loadModules(["FantaMessageActions"],b("emptyFunction"),"FantaDragAndDrop.react")};d.shouldComponentUpdate=function(a){var b=this.props,c=b.composer,d=a.composer;c=c.sharePreview;d=d.sharePreview;return b.threadID!==a.threadID||!!(!c&&d)||!!(c&&d&&!c.equals(d))};d.render=function(){var a=this.props,c=a.composer;a=a.threadID;c=c.sharePreview;var d=c.share;c=c.uri;return b("React").jsx("div",{className:"fbNubFlyoutAttachments",children:b("React").jsx("div",{className:"chatAttachmentShelf",children:d||c?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{onClose:this.$1,onLoaded:this.$2,onLoading:this.$3,threadID:a,imageSize:{width:g,height:g},location:b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW,share:d,uri:c})}):null})})};d.$4=function(a){b("MessengerEnvironment").messengerui?b("ifRequired")("MessengerActions",function(b){a(b)},function(){b("Bootloader").loadModules(["MessengerActions"],function(b){a(b)},"FantaDragAndDrop.react")}):b("ifRequired")("FantaMessageActions",function(b){a(b)},function(){b("Bootloader").loadModules(["FantaMessageActions"],function(b){a(b)},"FantaDragAndDrop.react")})};return c}(b("React").Component);c.propTypes={composer:a.object.isRequired,threadID:a.string.isRequired};e.exports=c}),null);
__d("FantaMercuryTabOverflowBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("JSResource")("FantaM4TabOverflow.react").__setRef("FantaMercuryTabOverflowBootloader.react");return b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{items:this.props.items,tabContents:this.props.tabContents}),loader:a,placeholder:b("React").jsx("div",{})})};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTab.react",["cx","CurrentUser","EventProfiler","FantaTabActions","JSResource","LoadingDialog.react","MercuryIgnoredBlockedParticipants.bs","MessengerState.bs","React","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ChatGroupBlockedEntranceWarning.react").__setRef("FantaTab.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("EventProfiler").informManualInteractionTimestamp(["MessageJewelListItem","ChatSideBarLink"],!0,"click")};d.render=function(){__p&&__p();var a=this.props,c=a.isFocused,d=a.isLastTab,e=a.isLastTabOfType,f=a.MainComponent,g=a.messengerState,i=a.MinimizedComponent,j=a.nonMinimizedRaisedTabCount,k=a.tab,l=a.tabContent,m=a.messages,n=a.forGameChat;a=a.hasFetchedAll;i=k.isMinimized?i:f;f=k.id+(k.isMinimized?"-minimized":"-maximized");var o=this.$1&&!k.isMinimized;this.$1=k.isMinimized;var p=l==null?void 0:l.participants;return b("React").jsxs("div",{className:"_5qi9 _5qib"+(this.props.isFocused?" _5qic":"")+(k.isMinimized?" _3001":""),children:[b("React").jsx(i,{isFocused:c,isHovered:k.isHovered||o,isLastTab:d,isLastTabOfType:e,messengerState:g,nonMinimizedRaisedTabCount:j,tab:k,tabContent:l,messages:m,forGameChat:n,hasFetchedAll:a},f),k.showWarningForThreadWithBlockees&&l!=null&&p!=null?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx(b("LoadingDialog.react"),{}),children:b("React").jsx(h,{allParticipants:Array.from(p.values()),isShown:!0,blockees:b("MercuryIgnoredBlockedParticipants.bs").participantsInGroupThread(b("CurrentUser").getID(),b("MessengerState.bs").blockedIds(g),l.thread).map(function(a){return p.get(a)}).filter(function(a){return a!=null}),onHide:function(){return b("FantaTabActions").closeGroupEntranceWarningDialog(k.id)},threadID:k.id})}):null]})};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTabGroup.react",["cx","CurrentUser","FantaTab.react","MessengerState.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return!this.props.tabGroup.equals(a.tabGroup)||this.props.messengerState!==a.messengerState||!!(!this.props.tabContents&&a.tabContents)||!!(this.props.tabContents&&a.tabContents&&!this.props.tabContents.equals(a.tabContents))};d.render=function(){__p&&__p();var a=this.props,c=a.isLastOfTypeChecker,d=a.MainComponent,e=a.messengerState,f=a.MinimizedComponent,g=a.OverflowComponent,h=a.tabContents;a=a.tabGroup;var i=a.focusedTabID,j=a.getRaisedandUnraisedTabs(),k=j.raisedTabs;j=j.unraisedTabs;var l;c&&(l=k.findLastKey(function(a){return c(a)&&a.id}));a=a.allowedRaisedTabs===0?null:this.$1(j,g);var m=k.filter(function(a){return!a.isMinimized}).count();return b("React").jsxs("div",{className:"_59v1",children:[a,k.map(function(a){var c=h&&h.get(a.id),g=c&&c.threadPreviewID||a.id;return b("React").jsx(b("FantaTab.react"),{forGameChat:!1,isFocused:a.id===i,isLastTab:a===k.last(),isLastTabOfType:a.id===l,messengerState:e,MainComponent:d,MinimizedComponent:f,nonMinimizedRaisedTabCount:m,tab:a,tabContent:c,messages:b("MessengerState.bs").getCurrentlyLoadedMessages(b("CurrentUser").getID(),g),hasFetchedAll:b("MessengerState.bs").hasLoadedAllMessages(b("CurrentUser").getID(),g)},a.id)}).toArray()]})};d.$1=function(a,c){return!a.isEmpty()?b("React").jsx("div",{className:"_1kws",children:b("React").jsx(c,{items:a,tabContents:this.props.tabContents})}):null};return c}(b("React").Component);c.propTypes={MainComponent:a.func.isRequired,messengerState:a.array,MinimizedComponent:a.func.isRequired,OverflowComponent:a.func.isRequired,tabContents:a.object,tabGroup:a.object.isRequired};e.exports=c}),null);
__d("CoworkerThreadContextBanner.react",["ix","cx","fbt","FlexLayout.react","Image.react","MessengerEnvironment","React","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){a=b("MessengerEnvironment").messengerui;return b("React").jsx("div",{className:(a?"":"_80n8")+(a?" _1li-":""),children:b("React").jsxs(b("FlexLayout.react"),{className:(a?"":"_80n9")+(a?" _80nc":""),align:"center",children:[b("React").jsx("div",{className:"_80nd"+(a?"":" _80ne")+(a?" _80nf":""),children:b("React").jsx(b("Image.react"),{src:g("558200")})}),b("React").jsxs("div",{className:"_80ng",children:[b("React").jsx(b("XUIText.react"),{className:"_80nh",children:i._("Th\u00e0nh vi\u00ean Nh\u00f3m \u0111\u1ed3ng nghi\u1ec7p")}),b("React").jsx(b("XUIText.react"),{className:"_80ni",children:i._("Cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi \u0111\u1ed3ng nghi\u1ec7p")})]})]})})}e.exports=a}),null);
__d("FantaPendingActions.react",["Bootloader","BootloadOnRender.react","FantaTabActions","JSResource","LazyComponent.react","MercuryThreadActions","MessengerMessageRequestsTypedLogger","MessageRequestUtils","MessagingTag","React","MercuryIDs","CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadActions").get();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_delete_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()},d.$4=function(a){var c=d.props.thread;c=!!c&&b("MessageRequestUtils").isFiltered(c);var e=b("CurrentUser").getID();e=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,e);a==="hide"&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_cancel").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(c?"other":"pending").setThreadKey(e).setEntryPoint("inbox_banner").log()},d.$1=function(){__p&&__p();var a=d.props,c=a.thread,e=a.threadID;a=!!c&&b("MessageRequestUtils").isFiltered(c);var f=b("CurrentUser").getID();f=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,f);if(a)b("Bootloader").loadModules(["WebMessengerDeleteThreadDialog"],function(a){a.show(e,d.$3,d.$4,function(){return b("FantaTabActions").closeTab(e)})},"FantaPendingActions.react");else{var g=b("MercuryIDs").isGroupChat(e);b("Bootloader").loadModules(["WebMessengerDeclineMRDialog"],function(a){a.show(c.folder,e,function(){return b("FantaTabActions").closeTab(e)},g)},"FantaPendingActions.react")}new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(f).setEntryPoint(null).log()},d.$2=function(){var a=d.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);var c=b("CurrentUser").getID();c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(d.props.threadID,c);g.changeFolder(d.props.threadID,b("MessagingTag").INBOX);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)).setSurface("thread").setFolderType(a?"other":"pending").setThreadKey(c).setEntryPoint(null).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.thread;a=!!a&&b("MessageRequestUtils").isFiltered(a);return b("React").jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatPendingActions.react").__setRef("FantaPendingActions.react"),placeholder:b("React").jsx("div",{style:{height:27}}),component:b("React").jsx(b("LazyComponent.react"),{isFiltered:a,onDeleteClick:this.$1,onReplyClick:this.$2})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FantaTabComposer.react",["ChatTabComposerContainer.react","MessengerState.bs","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$1=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.participants;this.props.isFocused&&a.length>0&&!this.props.isEmptyLocalThread&&this.focusInput()};d.componentDidUpdate=function(a){this.props.isFocused&&this.props.isFocused!==a.isFocused&&!this.props.isEmptyLocalThread&&this.focusInput()};d.shouldComponentUpdate=function(a){var b=this.props;return!b.composer.equals(a.composer)||b.disableInput!==a.disableInput||!b.fileUploader&&!!a.fileUploader||b.fileUploader&&!b.fileUploader.equals(a.fileUploader)||b.isEmptyLocalThread!==a.isEmptyLocalThread||b.isFocused!==a.isFocused||b.isNewEmptyLocalThread!==a.isNewEmptyLocalThread||b.threadID!==a.threadID||b.viewer!==a.viewer||b.forGameChat!==a.forGameChat||b.participants.length!==a.participants.length};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.threadID,f=c.viewer,g=c.isFocused;return d.length===0?b("React").jsx("div",{}):b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:f,children:function(c){return b("React").jsx(b("ChatTabComposerContainer.react"),{blockedIDs:a.props.blockedIDs,composer:a.props.composer,disableInput:a.props.disableInput,fileUploader:a.props.fileUploader,isFocused:g,onEscape:a.props.onEscape,onSelectSticker:a.props.onSelectSticker,onSendHotLike:a.props.onSendHotLike,onSendPhoto:a.props.onSendPhoto,onTab:a.props.onTab,onSendMessage:a.props.onSendMessage,isNewEmptyLocalThread:a.props.isNewEmptyLocalThread,ref:a.$2,thread:b("MessengerState.bs").threads(c)[e],threadID:e,viewer:f,forGameChat:a.props.forGameChat})}})};d.focusInput=function(){this.$1&&this.$1.focusInput()};d.hasEmptyInput=function(){var a=this.$1;return!a?!1:a.hasEmptyInput()};return c}(b("React").Component);e.exports=a}),null);
__d("FantaTabSheetPlaceholder.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("React").jsx("div",{className:"_w_z",children:b("React").jsx(b("XUISpinner.react"),{})})};e.exports=a}),null);
__d("FantaTabSheet.react",["cx","BootloadedComponent.react","FantaTabSheetPlaceholder.react","JSResource","LazyComponent.react","MercuryIDs","MercurySheetPolicy","MessengerParticipants.bs","React","ReasonBootloadOnRender.react","ReasonResource","emptyFunction","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("ChatGroupsSyncTabSheet.react").__setRef("FantaTabSheet.react")),i=b("lazyLoadComponent")(b("JSResource")("ChatGroupNameComposerTabSheet.react").__setRef("FantaTabSheet.react")),j=b("lazyLoadComponent")(b("JSResource")("ChatIntegrityLandingScreenSheet.react").__setRef("FantaTabSheet.react"));a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props;return b.threadID!==a.threadID||!b.tabContent.equals(a.tabContent)};d.maybeRenderMontage=function(){var a=this.props,c=a.threadID;a=a.tabContent;return a.isMontageOpen?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatMontageSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),threadID:c,onResize:b("emptyFunction")},"Montage"):null};d.render=function(){__p&&__p();var a=this.props,c=a.threadID,d=a.tabContent,e=a.composerComponent,f=a.pageUser;a=a.isGroupChat;var g=d.loggingID,k=d.openSheet,l=d.privacyController,m=d.thread,n=d.typeahead,o,p;switch(k){case b("MercurySheetPolicy").sheets.ChatThreadIsMutedTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetChatThreadIsMuted.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatNameConversationTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetNameConversation.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx(b("FantaTabSheetPlaceholder.react"),{}),thread:m,threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatUserBlockedTabSheet:p=b("MercuryIDs").getUserIDFromThreadID(c);if(p){var q=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(p));q&&l&&(o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserBlockedTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),gender:q.gender,privacyActionController:l,shortName:q.short_name},k))}break;case b("MercurySheetPolicy").sheets.ChatOfflineTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetOffline.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),privacyController:l,threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatReadOnlyTabSheet:case b("MercurySheetPolicy").sheets.ChatReadOnlyPermanentTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetReadOnly.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),threadID:c},k);break;case b("MercurySheetPolicy").sheets.FantaAddFriendsSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx(b("FantaTabSheetPlaceholder.react"),{}),loggingID:g,thread:m,threadID:c,typeahead:n,composerComponent:e,tabContent:d},k);break;case b("MercurySheetPolicy").sheets.FantaAddMoreFriendsSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetAddMoreFriends.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx(b("FantaTabSheetPlaceholder.react"),{}),loggingID:g,thread:m,threadID:c,typeahead:n},k);break;case b("MercurySheetPolicy").sheets.ChatThreadIsMessageBlockedSheet:p=b("MercuryIDs").getUserIDFromThreadID(c);if(p){q=b("MercuryIDs").getParticipantIDFromUserID(p);l=b("MessengerParticipants.bs").getNow(q);l&&(o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaTabSheetMessageBlocked.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),isGroupChat:a,pageUser:f,participants:d.participants,shortName:l.short_name,threadID:c},k))}break;case b("MercurySheetPolicy").sheets.ChatUserFocusSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),thread:m,threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatUserFocusBypassSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUserFocusBypassSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{})},k);break;case b("MercurySheetPolicy").sheets.ChatUploadWarningTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatUploadWarningTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{})},k);break;case b("MercurySheetPolicy").sheets.ChatNoRecipientsTabSheet:b("MercuryIDs").isCanonical(c)||(o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatNoRecipientsTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{})},k));break;case b("MercurySheetPolicy").sheets.ChatNewMessagesTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaNewMessagesTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatEmployeeAwaySheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEmployeeAwaySheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{})},k);break;case b("MercurySheetPolicy").sheets.ChatEventReminderTabSheet:o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FantaEventReminderTabSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),threadID:c},k);break;case b("MercurySheetPolicy").sheets.ChatJoinCallSheet:if(m){g=m.rtc_call_data;n=m.thread_fbid;o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatJoinCallSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),rtcCallData:g,threadFBID:n},k)}break;case b("MercurySheetPolicy").sheets.ChatRoomAssociatedObjectSheet:if(m){p=m.associated_object;o=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatRoomAssociatedObjectSheet.react").__setRef("FantaTabSheet.react"),bootloadPlaceholder:b("React").jsx("div",{}),associatedObject:p},k)}break;case b("MercurySheetPolicy").sheets.ChatMentorshipProgramSheet:m&&(o=b("React").jsx(b("ReasonBootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{thread:m}),loader:b("ReasonResource")(b("JSResource")("MentorshipProgramSheet.bs").__setRef("FantaTabSheet.react")),placeholder:b("React").jsx("div",{})}));break;case b("MercurySheetPolicy").sheets.ChatGroupsSyncTabSheet:if(m&&m.work_associated_group){o=(q=b("React")).jsx(q.Suspense,{fallback:q.jsx("div",{}),children:q.jsx(h,{group:m.work_associated_group,imageURL:m.image_src,name:m.name})},k)}break;case b("MercurySheetPolicy").sheets.ChatGroupNameComposerTabSheet:o=b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(i,{threadID:c,composerComponent:e})},k);break;case b("MercurySheetPolicy").sheets.ChatIntegrityLandingScreenSheet:if(f){o=(q=b("React")).jsx(q.Suspense,{fallback:q.jsx("div",{}),children:q.jsx(j,{pageUser:f,threadID:c})},k)}break}a=this.maybeRenderMontage();if(o)return b("React").jsx("div",{className:"_1sk5",children:b("React").jsx("div",{className:"_1sk6",children:o})});else if(a)return a;return null};return c}(b("React").Component);c.propTypes={threadID:a.string.isRequired,tabContent:a.object.isRequired};e.exports=c}),null);
__d("FantaTabMain.react",["cx","fbt","invariant","Bootloader","ChatConfig","CoworkerThreadContextBanner.react","CurrentUser","DragDropTarget","FantaChatHeaderContainer.react","FantaConversationScroller.react","FantaDispatcher","FantaDragAndDrop.react","FantaMessageActions","FantaPendingActions.react","FantaTabActions","FantaTabComposer.react","FantaTabSheet.react","FBIDCheck","JSResource","Keys","MercuryIDs","MercurySheetPolicy","MessageRequestUtils","MessagingTagConstants","MessengerBotMenuDataFetcher","MessengerColors","MessengerCustomColorUtils.bs","MessengerParticipants.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","MessengerState.bs","MNCommercePageSetting","Parent","React","ReactDOM","ShortProfiles","SimpleXUIDialog","TrackingNodes","WorkBotLandingPageHelper","WorkChatAvailabilityStatusLoader","WorkFileUploadsGating","XUISpinner.react","clearTimeout","convertMIGColorToFIGColor","getPageIDFromThreadID","immutable","joinClasses","lazyLoadComponent","performanceAbsoluteNow","promiseDone","setTimeout","throttle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerPresenceProvider.bs").jsComponent,l=b("WorkBotLandingPageHelper").shouldShowBotLandingPageArray,m=(a=b("lazyLoadComponent"))((c=b("JSResource"))("MarketplaceMessengerContextBanner.react").__setRef("FantaTabMain.react")),n=a(c("ChatJoinableInterstitialPreview.react").__setRef("FantaTabMain.react")),o=a(c("P2PChatThreadBannerContainer.react").__setRef("FantaTabMain.react")),p=a(c("MessengerGameBotPlayButton.react").__setRef("FantaTabMain.react")),q=a(c("FantaPageComposerNullState.react").__setRef("FantaTabMain.react"));d=b("React").PropTypes;var r=function(a){a=b("MercuryIDs").getUserIDFromThreadID(a.tab.id);return a&&b("CurrentUser").isWorkUser()&&b("WorkChatAvailabilityStatusLoader").isLoaded()?b("WorkChatAvailabilityStatusLoader").getStoreEnforce().getIsDoNotDisturb(a):!1};f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$9=null,d.state={closing:!1,disableInput:!1,isDoNotDisturb:r(d.props)},d.$23=function(a){__p&&__p();var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id);a=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);if(!c||!a){if(d.$8){b("clearTimeout")(d.$8);d.$8=null;return}b("FantaTabActions").hoveredTab(d.props.tab.id)}},d.$24=function(a){var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id);a=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);(!c||!a)&&(d.$8&&b("clearTimeout")(d.$8),d.$8=b("setTimeout")(function(){d.$8=null,b("FantaTabActions").unhoveredTab(d.props.tab.id)},500))},d.$22=function(a){var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id),e=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);(!c||!e)&&(!a.relatedTarget||!a.target?d.$6=b("setTimeout")(function(){d.$6=null,d.$25(d.props.tab.id)},100):d.$25(d.props.tab.id))},d.$21=function(a){if(d.$6){b("clearTimeout")(d.$6);d.$6=null;return}var c=!!b("Parent").byClass(a.target,"fantaTabMain-"+d.props.tab.id),e=!!b("Parent").byClass(a.relatedTarget,"fantaTabMain-"+d.props.tab.id);a=a.target;a&&a.classList&&(a.classList.contains("_3olu")||a.classList.contains("_61td")||a.classList.contains("_7jbw")||a.classList.contains("_4zs3"))||(!c||!e)&&(b("FantaDispatcher").isDispatching()||b("FantaTabActions").focusTab(d.props.tab.id))},d.$27=function(a){b("FantaMessageActions").linkPreview(d.props.tab.id,a)},d.$26=function(a){var c=d.props.tabContent;c=c||{};c=c.composer;var e=d.props.tab.id;c&&b("FantaMessageActions").prepareFilesForSend(e,a,c)},d.$17=function(a){a.keyCode===b("Keys").ESC&&(d.$1(!0),a.preventDefault(),a.stopPropagation())},d.$18=function(a){a.keyCode===b("Keys").TAB&&d.$19(a)},d.$19=function(a){var b=d.props.nonMinimizedRaisedTabCount;b>1&&(a.preventDefault(),d.$2(a.ctrlKey,a.shiftKey))},d.$1=function(a){var c=d.props,e=c.tab;c=c.tabContent;!c||c&&c.composer.text.length===0&&!d.$28()?(d.$29(),a?b("FantaTabActions").closeAndTabNext(e.id):b("FantaTabActions").closeTab(e.id)):d.$30();d.$31()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("throttle")(this.$1,100),this.$2=b("throttle")(this.$2,100)};d.componentDidMount=function(){var a=this,c=(j||(j=b("performanceAbsoluteNow")))();b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,d){b.markerPoint(d.FIRSTCHATTABOPEN_WWW,"mount_fanta_main",JSON.stringify({messageSize:a.props.messages?a.props.messages.length:0,hasThread:!!a.props.thread}),0,c)},"FantaTabMain.react");this.$10();this.$11();this.$12(this.props.tab.id);this.$13();this.$14();this.$15()};d.componentDidUpdate=function(a){this.$11();if(b("CurrentUser").isWorkUser()&&b("WorkChatAvailabilityStatusLoader").isLoaded()&&a.thread!==this.props.thread){var c=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);a=b("MercuryIDs").getUserIDFromThreadID(a.tab.id);var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();a&&d.unsubscribeUser(a,this);c&&(d.subscribeUser(c,this),d.fetchUsers([c]))}};d.componentWillUnmount=function(){this.$3&&this.$3.disable();this.$9&&this.$9.remove();var a=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);a&&b("WorkChatAvailabilityStatusLoader").isLoaded()&&b("WorkChatAvailabilityStatusLoader").getStoreEnforce().unsubscribeUser(a,this)};d.shouldComponentUpdate=function(a,b){var c=this.props,d=this.state;return c.hasFetchedAll!==a.hasFetchedAll||c.isFocused!==a.isFocused||c.isHovered!==a.isHovered||c.isLastGroupTab!==a.isLastGroupTab||!c.tab.equals(a.tab)||!c.tabContent&&!!a.tabContent||c.tabContent&&!c.tabContent.equals(a.tabContent)||c.thread!==a.thread||c.fbid!==a.fbid||c.blockedIDs!==a.blockedIDs||c.readReceipts!==a.readReceipts||c.ignoredIds!==a.ignoredIds||d.closing!==b.closing||d.disableInput!==b.disableInput||d.isDoNotDisturb!==b.isDoNotDisturb||c.messages&&a.messages&&(c.messages.length!==a.messages.length||!c.messages.every(function(b,c){return b===a.messages[c]}))};d.$11=function(){return};d.$16=function(){var a=this.props.tabContent&&this.props.tabContent.nullStateCTA;if(!a)return!1;if(this.props.thread&&this.props.thread.message_count===0)return!0;return b("CurrentUser").isWorkUser()?l(this.props.messages):!1};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.blockedIDs,e=c.forGameChat,f=c.hasFetchedAll,g=c.isFocused,j=c.isHovered,l=c.isLastGroupTab,r=c.messages,s=c.onLoadMoreMessages,t=c.onSelectSticker,u=c.onSendHotLike,v=c.onSendMessage,w=c.onSendPhoto,x=c.readReceipts,y=c.showContextBanner,z=c.tab,A=c.tabContent,B=c.thread,C=z.id,D=b("CurrentUser").getID();c=A&&A.composer.fileUploader;z=B&&b("convertMIGColorToFIGColor")(B.header_color);var E=A&&A.nullStateCTA,F=this.$16(),G=B&&B.participants||[],H=A&&A.threadPreviewRecipients||b("immutable").List();G=G.length>0?G:H.toArray();H=(H=this.props)!=null?(H=H.thread)!=null?H.other_user_fbid:H:H;H=H?b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(H)):null;var I=b("getPageIDFromThreadID")(this.props.tab.id),J=b("MessengerState.bs").isEmptyLocalThread(D,C),K=b("MessengerState.bs").isNewEmptyLocalThread(D,C);F=B&&b("MessageRequestUtils").shouldShowComposerPendingActions(B)?b("React").jsx(b("FantaPendingActions.react"),{thread:B,threadID:C}):F&&E?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{className:"_2xh0",children:b("React").jsx("div",{className:"_2xh4 _59w_",children:b("React").jsx(b("XUISpinner.react"),{size:"small"})})}),children:b("React").jsx(q,{threadID:C,nullStateCTA:E,pageName:H&&H.short_name})}):A?b("React").jsx("div",{className:"fbNubFlyoutFooter"+(this.state.disableInput?" fbNubFlyoutComposerDisabled":""),"data-testid":"composer_root",children:b("React").jsx(b("FantaTabComposer.react"),{blockedIDs:d,composer:A.composer,disableInput:this.state.disableInput,fileUploader:c,forGameChat:e,isEmptyLocalThread:J,isFocused:g,isNewEmptyLocalThread:K,onEscape:this.$17,onKeyDown:this.$17,onKeyPress:this.$18,onSelectSticker:t,onSendHotLike:u,onSendMessage:v,onSendPhoto:w,onTab:this.$19,participants:G,ref:"composer",threadID:C,viewer:D})}):null;var L;E=b("MercuryIDs").getUserIDFromThreadID(C);E&&(L=b("ShortProfiles").getNow(E));var M=L&&L.is_messenger_only;!A&&i(0,6156);H=this.$20();c=!1;if(C){c=A.isNewMessageTab?((B==null?void 0:(K=B.participants)==null?void 0:K.length)||0)>2:b("MercuryIDs").isGroupChat(C)}var N;t=b("React").jsx(b("FantaTabSheet.react"),{tabContent:A,threadID:C,composerComponent:this.refs.composer,pageUser:H,isGroupChat:c});H&&A.openSheet===b("MercurySheetPolicy").sheets.ChatIntegrityLandingScreenSheet&&(N=b("React").jsxs("div",{className:"fbNubFlyoutFooter",children:[t,F]}));v=(u=B)!=null?u.marketplace_thread_data:u;G=(w=v)!=null?w.for_sale_item:w;c=(K=v)!=null?K.buyer_fbid:K;u=(H=v)!=null?H.seller_fbid:H;var O;if(G&&c&&u){O=(w=b("React")).jsx(w.Suspense,{fallback:w.jsx("div",{}),children:w.jsx(m,{buyerID:c,forSaleItem:G,renderLocation:"chat",sellerID:u,threadFBID:(K=this.props)!=null?(K=K.thread)!=null?K.thread_fbid:K:K})})}H=(v=B)!=null?v.group_thread_subtype:v;var P;H===13&&(P=b("React").jsx(b("CoworkerThreadContextBanner.react"),{}));w=B&&b("ChatConfig").getBool("chat_tab_has_gradients")?b("MessengerColors").makeLinearGradient(B.gradient_colors,B.solid_color,b("MessengerCustomColorUtils.bs").defaultColor()):void 0;c=A&&A.isMultiCompany;G=!!A&&!!A.openSheet;var Q=A&&A.joinableInterstitialData?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(n,{data:A.joinableInterstitialData,isActive:g,onClose:this.$1})}):b("React").jsxs("div",{className:(G?"_6vu4":"")+" _6vu5 _6z9d fbNubFlyoutInner _6vu1",children:[b("React").jsx(b("FantaChatHeaderContainer.react"),{blockedIDs:d,composer:A.composer,customColor:z,highlightNewMessage:A&&A.highlightNewMessage,isDoNotDisturb:this.state.isDoNotDisturb,isFocused:g,isLastGroupTab:l,isMultiCompany:c,isNewMessageTab:A&&A.isNewMessageTab,membershipParticipants:A.membershipParticipants,onClose:this.$1,pageIndicatorDescription:A.pageIndicatorDescription,participants:A.participants,thread:B,threadHref:A&&A.threadHref,threadID:C,uri:A.uri,viewer:D,focusOnClick:this.$21}),b("React").jsxs("div",{className:"_1ia _2sz2",ref:function(b){a.$4=b},style:w,children:[N?b("React").jsx("div",{}):t,b("React").jsx(b("FantaConversationScroller.react"),{forGameChat:e,hasFetchedAll:f,isFocused:g,isEmptyLocalThread:J,messages:r,onFocus:function(){return a.refs.composer&&a.refs.composer.focusInput()},onLoadMoreMessages:s,readReceipts:x,showContextBanner:y,thread:B,threadID:C,viewer:D,jumpToMessage:A.jumpToMessage}),b("React").jsx("div",{className:"_2hc2",children:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:E?b("React").jsx(o,{isVisible:!0,otherUserID:E,threadID:C}):b("React").jsx(o,{isVisible:!0,threadID:C})})}),b("React").jsx("div",{className:"_4g6x",children:b("React").jsxs("div",{className:"_4g6y",children:[b("React").jsx("div",{className:"_4g6z _4g71",children:h._("K\u00e9o li\u00ean k\u1ebft\/file v\u00e0o \u0111\u00e2y")}),b("React").jsx("div",{className:"_4g6z _4g6- _4g6_",children:h._("Th\u1ea3 t\u1ec7p t\u1ea1i \u0111\u00e2y")}),b("React").jsx("div",{className:"_4g6z _4g6- _4g70",children:h._("Th\u1ea3 li\u00ean k\u1ebft t\u1ea1i \u0111\u00e2y")})]})}),N?N:I?b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(p,{originalElement:F,pageID:I,playLinkClassName:"_2xh6 _2h_r",showGameImage:!0,threadFBID:(u=this.props)!=null?(u=u.thread)!=null?u.thread_fbid:u:u,threadID:C})}):F,b("React").jsx(b("FantaDragAndDrop.react"),{composer:A.composer,threadID:C}),O,P]})]});return b("React").jsx(k,{subscribeToIDs:[D],children:function(c){return b("React").jsx("div",{className:b("joinClasses")((a.state.closing?"_2suj":"")+" _3_9e _s0f _50mz _50m_"+(B&&!M&&b("MessengerParticipantUtils.bs").findIntersection(D,c,B).length>0&&!a.state.isDoNotDisturb?" _4-0b":"")+(a.state.isDoNotDisturb?" _1oh2":"")+" fbNub _50-v"+(g?" focusedTab":"")+(j?" hoveredTab":"")+" opened _27_3","fantaTabMain-"+C),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.CHAT_FLYOUT),onBlur:a.$22,onFocus:a.$21,onKeyDown:a.$17,onKeyPress:a.$18,onMouseEnter:a.$23,onMouseLeave:a.$24,ref:function(b){return a.$5=b},children:b("React").jsx("div",{className:"fbNubFlyout fbDockChatTabFlyout uiContextualLayerParent",role:"complementary",children:b("React").jsx("div",{className:"fbNubFlyoutOuter",children:Q})})})}})};d.$14=function(){var a=this,c=b("MercuryIDs").getUserIDFromThreadID(this.props.tab.id);c&&b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){var d=b.store;a.$9=d.addListener(function(){a.setState({isDoNotDisturb:d.getIsDoNotDisturb(c)})})})};d.$25=function(a){b("FantaDispatcher").isDispatching()||b("FantaTabActions").blurTab(this.props.tab.id),this.$8&&(b("clearTimeout")(this.$8),this.$8=null),b("setTimeout")(function(){b("FantaTabActions").unhoveredTab(a)})};d.$15=function(){var a=this,c=b("getPageIDFromThreadID")(this.props.tab.id);c&&b("MessengerBotMenuDataFetcher").getHasPageSetting(c,function(b){a.setState({disableInput:b})},function(){a.setState({disableInput:!1})},b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED)};d.$10=function(){__p&&__p();if(b("WorkFileUploadsGating").canUploadFiles&&!this.$3){var a=b("ReactDOM").findDOMNode(this.$4);if(a){a=new(b("DragDropTarget"))(a);this.$3=a;a.setOnFilesDropCallback(this.$26);a.setOnURLDropCallback(this.$27);a.enable()}}};d.$2=function(a,c){a||(c?b("FantaTabActions").focusPreviousTab():b("FantaTabActions").focusNextTab())};d.$29=function(){var a=this.props.tab.id;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger"],function(b){return b.endFunnel(a)},"FantaTabMain.react")};d.$28=function(){return this.$32()||this.$33()};d.$32=function(){var a,b=this.props.tabContent;a=((a=b)!=null?(a=a.composer)!=null?(a=a.fileUploader)!=null?a.uploadedFiles:a:a:a)||{size:0};b=((b=b)!=null?(b=b.composer)!=null?(b=b.fileUploader)!=null?b.uploadingFiles:b:b:b)||{size:0};return a.size>0||b.size>0};d.$33=function(){var a=this.props.tabContent;a=(a=a)!=null?(a=a.composer)!=null?a.sharePreview:a:a;return!!(a&&a.params&&a.type)};d.$20=function(){var a=this.props,c=a.tab;a=a.tabContent;a=a==null?void 0:a.participants;a&&(a=a.toList().toArray());var d=b("getPageIDFromThreadID")(c.id);return!d||!a||!((c=a)==null?void 0:c.length)?null:a.find(function(a){return a.fbid===d})};d.$30=function(a){var c=this,d=this.props.tab,e=d.id;b("FantaTabActions").blurTab(e);d=h._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n \u0111\u00f3ng c\u1eeda s\u1ed5 chat n\u00e0y kh\u00f4ng?");var f=h._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn c\u1ee7a m\u00ecnh.");b("SimpleXUIDialog").showConfirm(d,f,function(d){d?(c.$29(),a?b("FantaTabActions").closeAndTabNext(e):b("FantaTabActions").closeTab(e)):b("FantaTabActions").focusTab(e)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};d.$13=function(){this.$7=Math.floor(Date.now()/1e3)};d.$31=function(){var a=this.props,c=a.thread,d=a.tab,e=c?c.other_user_fbid:null,f=Math.floor(Date.now()/1e3),g=this.$7;c&&e&&!b("FBIDCheck").isUser_deprecated(e)&&b("Bootloader").loadModules(["PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesEventObserver","PagesEventType"],function(a,b,h,i,j){a.log(e,b.CLICK,h.MESSAGE_FANTA_TAB_CLOSE,"",["pages_surface_team"],{open_tab_timestamp:g,close_tab_timestamp:f,last_message_timestamp:c.last_message_timestamp,message_count:c.message_count,snippet_sender:c.snippet_sender,participants:c.participants,entrypoint:d.entryPoint}),i.notify(j.MESSAGES_FANTA_TAB_CLOSE,e,{open_tab_timestamp:g,close_tab_timestamp:f,last_message_timestamp:c.last_message_timestamp,message_count:c.message_count,snippet_sender:c.snippet_sender,participants:c.participants,entrypoint:d.entryPoint})},"FantaTabMain.react")};d.$12=function(a){__p&&__p();var c=this;if(!b("MercuryIDs").isValidThreadID(a))return;b("Bootloader").loadModules(["GroupChatMessageBlockAlert","GroupChatMessageIgnoreAlert","MercuryIgnoredBlockedParticipants.bs","MercuryThreadActions"],function(d,e,f,g){__p&&__p();var h=g.get();b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){var g=c.props,i=g.fbid,j=g.ignoredIds;b("MessengerState.bs").compute(i,function(c){c=c.blocked_ids;c=f.isPresentInGroupThread(i,c,d);var g=b("MessengerParticipantUtils.bs").areParticipantsInGroupThread(i,j,d)&&d.folder==="inbox";!c&&g&&e.show(b("MessengerParticipantUtils.bs").participantsInGroupThread(i,j,d),b("MercuryIDs").getThreadFBIDFromThreadID(a),function(){b("FantaTabActions").focusTab(a)},function(){b("FantaTabActions").closeTab(a),b("Bootloader").loadModules(["IgnoreMessagesTypedLogger","IgnoreMessagesLoggingEvent","IgnoreMessagesPlatforms"],function(c,d,e){h.changeFolder(a,b("MessagingTagConstants").other),new c().setEvent(d.IGNORE_CONFIRMED).setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform(e.CHAT_TABS).log()},"FantaTabMain.react")})})})},"FantaTabMain.react")};return c}(b("React").Component);f.propTypes={hasFetchedAll:d.bool.isRequired,isFocused:d.bool.isRequired,isHovered:d.bool.isRequired,isLastGroupTab:d.bool.isRequired,onLoadMoreMessages:d.func.isRequired,onSelectSticker:d.func.isRequired,onSendHotLike:d.func.isRequired,onSendMessage:d.func.isRequired,onSendPhoto:d.func.isRequired,nonMinimizedRaisedTabCount:d.number,showContextBanner:d.bool,tab:d.object.isRequired,tabContent:d.object,thread:d.object,forGameChat:d.bool.isRequired};e.exports=f}),null);
__d("FantaTabMainLoader.react",["Bootloader","CurrentUser","FantaAppStore","FantaGetMessageActions","FantaMessageActions","FantaTabMain.react","MercuryThreadActions","MessageRequestUtils","MessagingTag","MessengerState.bs","React","TimeSlice","emptyFunction","requestIdleCallback","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;function g(a){return!!a.preview_attachments[0].preview_url}var h=function(a){__p&&__p();b("FantaAppStore").addReducers(a);a=b("FantaAppStore").getState();a=(a=a)!=null?(a=a.mercury)!=null?a.tabContents:a:a;if(a){var c=a.reduce(function(a,b){b=b.thread;b&&a.push(b);return a},[]);b("setImmediate")(function(){return b("FantaGetMessageActions").threadsUpdated(c)})}h=b("emptyFunction")};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.tab;b("MessengerState.bs").fetchMoreMessages(b("CurrentUser").getID(),a.id,0,d.props.messages.length+10,b("emptyFunction"))},d.$2=function(a,c){var e=d.props.tab;b("FantaMessageActions").sendSticker(e.id,a,c)},d.$3=function(a,c,e,f){var g=d.props.tab;b("FantaMessageActions").sendHotLike(g.id,a,c,e,f)},d.$4=function(a,c,e){var f=d.props.tabContent.thread,g=d.props.tab;f&&b("MessageRequestUtils").isMessageRequest(f)&&b("MercuryThreadActions").get().changeFolder(f.thread_id,b("MessagingTag").INBOX);b("FantaMessageActions").sendMessage(g.id,a,c,e)},d.$5=function(a,c){var e=d.props.tab;g(a)?b("FantaMessageActions").sendGif(e.id,a,c):b("FantaMessageActions").sendPhoto(e.id,a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props;return b.isFocused!==a.isFocused||b.isHovered!==a.isHovered||b.isLastTabOfType!==a.isLastTabOfType||b.messengerState!==a.messengerState||!b.tab.equals(a.tab)||!b.tabContent.equals(a.tabContent)};d.componentDidMount=function(){var a=function(){b("Bootloader").loadModules(["FantaReducersTabSheets"],h,"FantaTabMainLoader.react")};b("TimeSlice").guard(function(){b("requestIdleCallback")(a)},"additional request not needed for initial display",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};d.render=function(){var a=this.props,c=a.isFocused,d=a.isHovered,e=a.isLastTabOfType,f=a.messengerState,g=a.nonMinimizedRaisedTabCount,h=a.tab,i=a.tabContent,j=a.forGameChat,k=a.messages;a=a.hasFetchedAll;var l=i.showContextBanner,m=i.thread,n=i.threadPreviewID;n=n?h.id+"-"+n:h.id;return!i?b("React").jsx("div",{},"noContent-"+n):b("React").jsx(b("FantaTabMain.react"),{blockedIDs:b("MessengerState.bs").blockedIds(f),fbid:b("MessengerState.bs").fbid(f),forGameChat:j,hasFetchedAll:a,ignoredIds:b("MessengerState.bs").ignoredIds(f),isFocused:c,isHovered:d,isLastGroupTab:e,messages:k,onLoadMoreMessages:this.$1,onSelectSticker:this.$2,onSendHotLike:this.$3,onSendMessage:this.$4,onSendPhoto:this.$5,nonMinimizedRaisedTabCount:g,readReceipts:b("MessengerState.bs").readReceiptsPerThread(f),showContextBanner:l,tab:h,tabContent:i,thread:m},n)};return c}(b("React").Component);c.propTypes={isFocused:a.bool.isRequired,isHovered:a.bool.isRequired,isLastTabOfType:a.bool.isRequired,messengerState:a.array,nonMinimizedRaisedTabCount:a.number,tab:a.object.isRequired,tabContent:a.object};e.exports=c}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){return b("intlNumUtils").formatNumber(a,c)}function h(a,c){c=g._({"*":"{number}+"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function i(a,c){c=g._({"*":"\u003C{number}"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function c(a,c,d){return a>c?h(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}function d(a,c,d){return a<c?i(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}a.withThousandDelimiters=b("intlNumUtils").formatNumberWithThousandDelimiters;a.withMaxLimit=c;a.withMinLimit=d;e.exports=a}),null);
__d("FantaM4HeaderMinimized.bs",["cx","fbt","bs_block","bs_curry","React","qex","bs_belt_Set","setTimeout","bs_belt_Option","bs_caml_option","ReasonReact.bs","FantaM4Header.bs","ParticipantId.bs","XUIBadgeReact.bs","ChatThreadName.bs","ChatDetailStack.bs","MercuryThreadInfo","FantaProfilePresence.bs","FantaCloseActionButton.bs","MessengerCustomColorUtils.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponentWithRetainedProps("FantaM4HeaderMinimized");function j(a,c,d,e,f,g,j,k,l,m){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],function(a){var c=a[1];if(!a[0][2][0]&&c[2][0]){b("bs_curry")._1(c[3],0);b("setTimeout")(function(a){return b("bs_curry")._1(c[3],1)},1e3);return 0}else return 0},i[6],i[7],function(i){__p&&__p();var m=b("FantaM4Header.bs").getProfileImages(f,e,g),n=f!==void 0?b("bs_caml_option").valFromOption(f).unread_count:0,o=b("FantaM4Header.bs").getTooltip(f);if(f!==void 0){var p=b("bs_caml_option").valFromOption(f).header_color;p=p==null?b("MessengerCustomColorUtils.bs").defaultColor(0):p}else p=b("MessengerCustomColorUtils.bs").defaultColor(0);var q=a&&i[1][0],r,s=0;q?p!==void 0?r=[0,p,"_69pt _2mgn _6d6l"]:s=1:p!==void 0?r=[2,"","_69pt _6d6l"]:s=1;s===1&&(r=[1,"","_69pt _6d6l"]);var t=r[1];if(f!==void 0){q=b("bs_caml_option").valFromOption(f);p=[q.thread_fbid,q.is_canonical]}else p=[null,!0];var u=p[1],v=p[0];s=b("bs_belt_Option").map(f,function(a){return b("bs_belt_Set").fromArray(a.participants,b("ParticipantId.bs"))});var w=function(a){return 0};if(j)q=null;else{p={children:function(c){var a=b("qex")._("967984");return b("ReasonReact.bs").element(void 0,void 0,b("FantaProfilePresence.bs").make(m,20,l!==void 0?a:f!==void 0?b("MessengerParticipantUtils.bs").areParticipantsInThread(g,c,b("bs_caml_option").valFromOption(f))&&!k:!1,!0,"",o,t,!1,void 0,u,v==null?void 0:b("bs_caml_option").some(v),e,w,[]))}};s!==void 0&&(p.subscribeToIDs=b("bs_caml_option").valFromOption(s));q=b("React").createElement(b("MessengerPresenceProvider.bs").make,p)}s=j?h._("Tin nh\u1eafn m\u1edbi"):b("React").createElement(b("ChatThreadName.bs").make,{thread:f,threadHref:"",tooltip:o,viewer:g,className:"_2mgq",isNewMessageTab:j,onHeaderClick:w});p=n>0&&!(a&&i[1][0]);i=b("qex")._("830274");p=p?i?b("React").createElement("div",{className:"_7joc"},b("React").createElement("div",{className:"_7joj"})):b("ReasonReact.bs").element(void 0,void 0,b("XUIBadgeReact.bs").make(0,"_429n",n,99,[])):null;i=b("bs_belt_Option").mapWithDefault(f,!1,function(a){return b("MercuryThreadInfo").isMuted(a)});return b("React").createElement("div",{className:r[2],style:{backgroundColor:t},onClick:d},b("React").createElement("div",{className:"_66n2"},q,b("React").createElement("div",{className:"_66n3"},b("React").createElement(b("ChatDetailStack.bs").make,{topDetail:s,bottomDetail:null}),b("React").createElement("div",{className:"_69ae"},p,i?b("React").createElement("div",{className:"_66n5"},b("React").createElement("i",{className:"_7kxx"})):null,b("React").createElement("div",{className:"_66n5"},b("React").createElement(b("FantaCloseActionButton.bs").make,{iconStyle:r[0],onClose:c,isFocused:!1}))))))},function(a){return[!1]},[a],function(a,c){if(a)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.highlightNewMessage,a.onClose,a.onHeaderToggle,b("bs_caml_option").nullable_to_opt(a.participants),b("bs_caml_option").nullable_to_opt(a.thread),a.viewer,a.isNewMessageTab,a.isMessengerOnlyUser,b("bs_caml_option").nullable_to_opt(a.pageIndicatorDescription),[])});c=20;d=1e3;f.component=i;f.small_profile_image_size=c;f.blink_threshold_ms=d;f.make=j;f.jsComponent=a}),null);
__d("FantaTabMinimized.react",["cx","fbt","Bootloader","CurrentUser","FantaAvailableStatus","FantaM4HeaderMinimized.bs","FantaTabActions","MercuryIDs","React","ShortProfiles","SimpleXUIDialog"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FantaM4HeaderMinimized.bs").jsComponent;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a=d.props;var c=a.tab;a=a.tabContent;!a||a&&a.composer.text.length===0&&!d.$4()?(d.$5(),b("FantaTabActions").closeTab(c.id)):d.$6()},d.$3=function(a){var c=a.target;c&&c.classList&&!c.classList.contains("button")&&(a.stopPropagation(),b("FantaTabActions").unminimizeTab(d.props.tab.id),b("FantaTabActions").focusTab(d.props.tab.id))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props;return!b.tab.equals(a.tab)||!b.tabContent&&!!a.tabContent||!!b.tabContent&&!b.tabContent.equals(a.tabContent)};d.$1=function(){var a=this.props.tabContent,c=a&&a.thread,d=b("CurrentUser").getID(),e=a?b("MercuryIDs").getUserIDFromThreadID(a.id):null;e=e?b("ShortProfiles").getNow(e):null;e=e&&e.is_messenger_only;return b("React").jsx("div",{className:"clearfix titlebar",children:b("React").jsx(i,{highlightNewMessage:a&&a.highlightNewMessage,isNewMessageTab:a&&a.isNewMessageTab,onClose:this.$2,onHeaderToggle:this.$3,isMessengerOnlyUser:e,pageIndicatorDescription:a&&a.pageIndicatorDescription,participants:a&&a.participants,thread:c,viewer:d})})};d.render=function(){var a=this.props,c=a.tab;a=a.tabContent;c=c.id;a=a&&!!a.thread&&b("FantaAvailableStatus").isAvailable(a.thread,c);return b("React").jsx("div",{className:"_4cd8 _50mz _50m_ fbNub _50-v"+(a?" _4-0b":"")+" _27_3",ref:"root",children:this.$1()})};d.$5=function(){var a=this.props.tab.id;b("Bootloader").loadModules(["MessengerShareFilePreviewFunnelLogger"],function(b){return b.endFunnel(a)},"FantaTabMinimized.react")};d.$4=function(){return this.$7()||this.$8()};d.$7=function(){var a,b=this.props.tabContent;a=((a=b)!=null?(a=a.composer)!=null?(a=a.fileUploader)!=null?a.uploadedFiles:a:a:a)||{size:0};b=((b=b)!=null?(b=b.composer)!=null?(b=b.fileUploader)!=null?b.uploadingFiles:b:b:b)||{size:0};return a.size>0||b.size>0};d.$8=function(){var a=this.props.tabContent;a=(a=a)!=null?(a=a.composer)!=null?a.sharePreview:a:a;return!!(a&&a.params&&a.type)};d.$6=function(){var a=this.props.tab,c=h._("B\u1ea1n c\u00f3 ch\u1eafc b\u1ea1n mu\u1ed1n \u0111\u00f3ng c\u1eeda s\u1ed5 chat n\u00e0y kh\u00f4ng?");b("FantaTabActions").blurTab(a.id);var d=h._("B\u1ea1n ch\u01b0a g\u1eedi tin nh\u1eafn c\u1ee7a m\u00ecnh.");b("SimpleXUIDialog").showConfirm(c,d,function(c){c?b("FantaTabActions").closeTab(a.id):b("FantaTabActions").focusTab(a.id)},{autofocusConfirm:!0,useReactFocusBehavior:!0})};return c}(b("React").Component);c.propTypes={tab:a.object.isRequired,tabContent:a.object};e.exports=c}),null);
__d("FantaMercuryTabsWithMain.react",["Bootloader","CurrentUser","FantaAppStore","FantaCookieUtil","FantaMercuryTabOverflowBootloader.react","FantaTabActions","FantaTabGroup.react","FantaTabMainLoader.react","FantaTabMinimized.react","FluxContainer","LazyComponent.react","LoadOnRender.react","MercuryIDs","MessengerState.bs","PresenceState","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerState.bs").jsComponent,h=function(a){b("Bootloader").loadModules(["MessengerReasonDialogContainerReact.bs"],function(b){b=b.jsComponent;return a(b)},"FantaMercuryTabsWithMain.react")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("FantaAppStore")]};c.calculateState=function(){return{tabGroup:b("FantaAppStore").getState().tabGroup,tabContents:b("FantaAppStore").getState().mercury.tabContents}};var d=c.prototype;d.componentDidMount=function(){this.props.loadDataOnMount&&b("FantaTabActions").loadFromData(b("FantaCookieUtil").convertCookieData(b("PresenceState").get()))};d.render=function(){var a=this;return b("React").jsx(g,{fbid:b("CurrentUser").getID(),children:function(c){var d;return[(d=b("React")).jsx(b("FantaTabGroup.react"),{messengerState:c,MainComponent:b("FantaTabMainLoader.react"),MinimizedComponent:b("FantaTabMinimized.react"),OverflowComponent:b("FantaMercuryTabOverflowBootloader.react"),tabGroup:a.state.tabGroup,tabContents:a.state.tabContents,isLastOfTypeChecker:a.$1},"tabgroup"),d.jsx(b("LoadOnRender.react"),{component:d.jsx(b("LazyComponent.react"),{}),loader:h,placeholder:d.jsx("span",{})},"dialog")]}})};d.$1=function(a){return b("MercuryIDs").isGroupChat(a.id)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("FantaMercuryThreadEventsBootloaded",["Bootloader","CurrentUser","MercuryThreadInformer","MercuryViewer","MessengerState.bs","WorkplaceChatHelper","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryThreadInformer").get(),h=60*60*1e3;function i(a,c,d){var e=b("gkx")("793912")&&d.timestamp<Date.now()-h;d.author!==b("MercuryViewer").getID()&&d.is_unread&&!e&&b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),c,function(e){b("Bootloader").loadModules(["ChatTabPolicy"],function(b){b.messageIsAllowed(e,d,function(){a(c,d)})},"FantaMercuryThreadEventsBootloaded")})}a={registerForNewMessage:function(a){g.subscribe("new-message",function(c,d){c=d.threadID;d=d.message;b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()||i(a,c,d)})},registerForNewLogMessage:function(a){g.subscribe("new-log-message",function(c,d){c=d.threadID;d=d.message;b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()||i(a,c,d)})},registerForMessagesReceived:function(a){g.subscribe("messages-received",function(c,d){if(!b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())for(var e in d){c=d[e];for(var f=0;f<c.length;f++){var g=c[f];i(a,e,g)}}})}};e.exports=a}),null);
__d("FantaTabViewportManager",["Arbiter","DockTabsViewportCalculator","DockTabsViewportFantaTabUtils","FantaTabActions","ifRequired","immutable","isWebMessengerURI","qex","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("qex")._("830597");function a(a){__p&&__p();var c=b("DockTabsViewportCalculator").getInstance(a);if(!c)return;c.registerFantaTabCallbacks({fantaTabModelStateGetter:function(){var a=b("immutable").Map({});b("ifRequired")("FantaAppStore",function(b){a=b.getState().tabGroup.tabs});return a},onAvailableWidthChanged:function(a){var c=g?1:b("DockTabsViewportFantaTabUtils").getTabCountToFitWidth(a),d=function(){b("FantaTabActions").setAllowedRaisedTabs(c)};b("ifRequired")("FantaAppStore",function(a){a=a.getState().tabGroup.allowedRaisedTabs;c!==a&&b("setImmediate")(d)},function(){b("setImmediate")(d)})}});b("Arbiter").subscribe("FantaReducersDockCalculator/shouldRecalculate",function(){c.forceRecalculateChatTabs()});c.forceRecalculateFBDockWidth();b("Arbiter").subscribe("page_transition",function(a,c){b("isWebMessengerURI")(c.uri)&&b("setImmediate")(function(){return b("FantaTabActions").minimizeAllTabs()})})}e.exports={init:a}}),null);
__d("MercuryDeliveryState",["MercuryIDs","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInformer","UserActivity","debounceAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){__p&&__p();var c=this;this.$8=function(){if(c.$5.length===0&&Object.keys(c.$6).length===0)return;var a=c.$5.map(function(a){return a.message_id});a&&c.$2.sendDeliveryReceipts(a,c.$6);c.$6={};c.$5=[]};this.$1=a;this.$2=b("MercuryServerRequests").getForFBID(this.$1);this.$3=b("MercuryThreadInformer").getForFBID(this.$1);this.$4=b("MercuryThreadIDMap").getForFBID(this.$1);this.$5=[];this.$6={};this.$3.subscribe("messages-received",this.$7.bind(this));b("UserActivity").subscribe(b("debounceAcrossTransitions")(this.$8,300,this))}var c=a.prototype;c.$7=function(a,b){var c=this;for(var d in b){a=b[d];a.forEach(function(a){c.$9(a)&&(c.$5.push(a),c.$4.getServerIDFromClientID(d,function(b){c.$6[b]||(c.$6[b]=[]),c.$6[b].push(a.message_id)}))})}this.$8()};c.$9=function(a){var c=a.author?b("MercuryIDs").getUserIDFromParticipantID(a.author):null;if(c===this.$1)return!1;return!a.is_unread?!1:!0};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncEnvironment",["Arbiter","ChannelInitialData","CurrentUser","MercurySyncDeltaHandler","MessengerMQTTGating"],(function(a,b,c,d,e,f){"use strict";function a(){if(!b("ChannelInitialData").channelConfig&&!b("MessengerMQTTGating").isEnabled())return;b("MercurySyncDeltaHandler").get();b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:b("CurrentUser").getAccountID(),seqID:b("ChannelInitialData").channelConfig?b("ChannelInitialData").channelConfig.sequenceId:0})}e.exports={setUp:a}}),null);
__d("FantaTabsAppBase",["Bootloader","ChatAppActions","ChatAppStore","ChatPerfInstrumentation","CSS","JSLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.init=function(a,c,d){__p&&__p();if(this.isInitialized()){b("JSLogger").create("chat_app").error("repeated_init");return}this.$1=a;this.tabsElem=c;var e=b("ChatAppStore").addListener(function(){var a=b("ChatAppStore").getPreviousState(),c=b("ChatAppStore").getState();a.initialDisplayDone===!1&&c.initialDisplayDone===!0&&(b("ChatPerfInstrumentation").logDisplayDone(),e.remove())});b("ChatPerfInstrumentation").init();this.$2(d);this.initializeFantaData(d.interstitial_data);this.initializeFantaUI();this.$3();b("ChatAppActions").tti();b("ChatPerfInstrumentation").logTTI()};c.isInitialized=function(){return!!b("ChatAppStore").getState().isInitialized};c.isHidden=function(){var a=b("ChatAppStore").getState();return!!(!a.isInitialized||a.isHidden)};c.hide=function(){if(this.isHidden())return;b("CSS").hide(this.$1);b("ChatAppActions").hide()};c.unhide=function(){var a=b("ChatAppStore").getState();a.isInitialized?a.isHidden&&(b("CSS").show(this.$1),d(["Dock"],function(a){a.resizeAllFlyouts()}),b("ChatAppActions").unhide()):a.isLoaded||(d(["UIPagelet"],function(a){a.loadFromEndpoint("ChatTabsPagelet","ChatTabsPagelet"),a.loadFromEndpoint("BuddylistPagelet","BuddylistPagelet")}),b("ChatAppActions").load())};c.initializeFantaData=function(a){};c.initializeFantaUI=function(){};c.$2=function(a){d(["MercuryDeliveryState","MessengerParticipants.bs","MercuryServerPayloadPreprocessor","MessengerState.bs","MercurySyncEnvironment","P2PSendMoneyDialogStore"],function(c,d,e,f,g,h){c.get(),d,g.setUp(),b("ChatPerfInstrumentation").logInitStores(),a.graphql_payload?b("Bootloader").loadModules(["ChatInitialDataTransformer.bs"],function(b){var c=a.graphql_payload;b=b.transform(c);b.message_blocked_ids=c.message_blocked_ids;b.message_ignored_ids=c.message_ignored_ids;b.payload_source=c.payload_source;e.get().handleUpdate(b)},"FantaTabsAppBase"):e.get().handleUpdate(a.initial_data)})};c.$3=function(){d(["HotLikeSound","ChatOptions"],function(a,c){a.setCheckSoundEnabledFunc(function(){return c.getSetting("sound")}),b("ChatPerfInstrumentation").logInitSound()})};return a}();e.exports=a}),null);
__d("MqttEnv",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=Object.freeze({mqtt_waterfall_log_client_sampling:1,messenger_uses_mqtt_rollout:2,mqtt_ws_polling_enabled:3,mqtt_ws_forced_polling_only:4,mqtt_send_unload_event:6,mqtt_ws_reconnect_reset:7,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13});b=function(){__p&&__p();var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.clearTimeout=function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){if(this.$3!=null){this.$3(a);return}clearTimeout(a)});a.setTimeout=function(a){function b(b,c){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):setTimeout.apply(null,arguments)});a.getLoggerInstance=function(){return this.$5!=null?this.$5():g.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var g=function(){__p&&__p();function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){a.sessionID,a.connectionStatus,a.duration,a.hostname,a.attemptNumber,a.failTotal,a.successTotal,a.subscribedTopics,a.publishes,a.errorCode,a.errorMessage};b.eventLogPull=function(a){a.pullEventName,a.sessionID,a.status,a.duration,a.hostname,a.errorMessage};b.eventLogPullFinish=function(a){a.pullEventName,a.sessionID,a.duration,a.errorMessage,a.publishReceived,a.publishSent};b.eventLogDisconnect=function(a){a.sessionID,a.errorCode,a.errorMessage,a.duration};b.eventLogSocketError=function(a){a.sessionID,a.errorCode,a.errorMessage};b.eventLogPublish=function(a){a.topic,a.qos,a.payloadSizeBytes,a.success,a.protocol,a.errorMessage};b.eventLogPublishTimeout=function(a){a.topic};b.eventLogMiscellaneousError=function(a){a.errorMessage};b.logIfLoggedOut=function(){};b.logError=function(a,b){};b.logErrorWarn=function(a,b){};b.logWarn=function(a,b){};b.debugTrace=function(a,b){};b.bumpCounter=function(a){};return a}();e.exports={Env:new b(),MqttGkNames:a}}),null);
__d("IrisSubscribeChecker",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames;a=function(){__p&&__p();function a(a){__p&&__p();this.$1=g.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}g.genGk(h.messenger_uses_mqtt_rollout)||(this.$6=!1)}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=g.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$1.eventLogMiscellaneousError({errorMessage:a});this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();e.exports=a}),null);
__d("MqttAnalyticsHook",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env;a=function(){__p&&__p();function a(){this.$1=g.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$1.bumpCounter("session_start"),g.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt")};b.onConnectFailure=function(){this.$3++,this.$1.bumpCounter("ws_connect_failure")};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$2===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$2++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send")};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$4===0&&this.$1.bumpCounter("polling_first_success"),this.$4++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish")};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$5++};return a}();e.exports=a}),null);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();e.exports=a}),null);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MqttEnv").Env;function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a,b){__p&&__p();b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{value:c,offset:b}}function d(a){__p&&__p();a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b){return 256*a[b]+a[b+1]}function i(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function j(a,b,c,d){d=h(b,c,d);k(a,c,d);return d+b}function k(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function l(a,b,c){__p&&__p();var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}b=function(){"use strict";__p&&__p();function a(a,b,c){this.$1=a*1e3,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;this.$3?(this.$3=!1,this.$4(),this.$2=g.setTimeout(function(){a.$6()},this.$1)):this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(g.clearTimeout(this.$2),this.$2=null);this.$1>0&&(this.$2=g.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};return a}();e.exports={UTF8Length:i,convertStringToUTF8:k,concatBuffers:a,decodeMultiByteInt:c,convertUTF8ToString:l,encodeMultiByteInt:d,writeUInt16BE:h,readUInt16BE:f,writeString:j,Pinger:b}}),null);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h={endpointWithSessionId:function(a,b){return this.endpointWithExtraParameter(a,"sid",b.toString())},endpointWithExtraParameters:function(a,b){var c=this,d=a;b.forEach(function(a,b,e){d=c.endpointWithExtraParameter(d,b,a)});return d},endpointWithExtraParameter:function(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c},generateSessionId:function(){return Math.floor(g.random()*Number.MAX_SAFE_INTEGER)},promiseDone:function(a,b,c){var d=arguments.length>1?a.then(b,c):a;d.then(null,function(a){g.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})},promiseDoneWithTimeout:function(a,b,c,d){var e=!1;g.setTimeout(function(){e||(e=!0,c(new Error("promise timeout")))},d);h.promiseDone(a,function(a){e||(e=!0,b(a))},function(a){e||(e=!0,c(a))})},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype},getWSAvailability:function(){var b="";if("WebSocket"in a&&a.WebSocket!==null)b+="W";else return"none";"CLOSING"in a.WebSocket.prototype&&(b+="C");return b}};e.exports=h}),null);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=(c=b("MqttProtocolUtils")).UTF8Length,h=c.convertStringToUTF8,i=c.convertUTF8ToString,j=c.decodeMultiByteInt,k=c.encodeMultiByteInt,l=c.readUInt16BE,m=c.writeString,n=c.writeUInt16BE,o=b("MqttUtils").sprintf,p=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),q=[0,6,77,81,73,115,100,112,3];function r(a,b){__p&&__p();b=b;var c=b,d=a[b],e=d>>4;b+=1;var f=j(a,b);if(f==null)return{wireMessage:null,position:c};b=f.offset;f=b+f.value;if(f>a.length)return{wireMessage:null,position:c};var g;switch(e){case p.CONNACK:c=a[b++];c=!!(c&1);var h=a[b++];g=new u(c,h);break;case p.PUBLISH:c=d&15;h=c>>1&3;d=l(a,b);b+=2;var k=i(a,b,d);b+=d;d=null;h===1&&(d=l(a,b),b+=2);var m=w.createWithBytes(a.subarray(b,f)),n=(c&1)===1;c=(c&8)===8;g=new x(k,m,h,d,n,c);break;case p.PINGREQ:g=new s("PINGREQ");break;case p.PINGRESP:g=new s("PINGRESP");break;case p.PUBACK:case p.UNSUBACK:k=l(a,b);g=new v(e===p.PUBACK?"PUBACK":"UNSUBACK",k);break;case p.SUBACK:m=l(a,b);b+=2;h=a.subarray(b,f);g=new t(m,h);break;default:throw new Error(o("Invalid MQTT message type %s.",e))}return{wireMessage:g,position:f}}function a(a){__p&&__p();var b=[],c=0;while(c<a.length){var d=r(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}d=function(){"use strict";function a(a){this.messageType=p[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var s=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(d);f=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(k(0),1);return b};return b}(d);var t=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(d),u=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(d),v=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=k(b),d=c.length+1;b=new ArrayBuffer(b+d);var e=new Uint8Array(b);e[0]=a;e.set(c,1);d=n(this.messageIdentifier,e,d);return b};return a}(d);c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4,b=q.length+3;b+=g(this.clientId)+2;b+=g(this.connectOptions.userName)+2;var c=k(b);b=new ArrayBuffer(1+c.length+b);var d=new Uint8Array(b);d[0]=a;a=1;d.set(c,1);a+=c.length;d.set(q,a);a+=q.length;c=2|128;d[a++]=c;a=n(this.connectOptions.keepAliveInterval,d,a);a=m(this.clientId,g(this.clientId),d,a);a=m(this.connectOptions.userName,g(this.connectOptions.userName),d,a);return b};return b}(d);b=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this,b)||this;f.topic=c;if(d<0&&d>1||d===1&&e==null)throw new TypeError(o("Argument Invalid. qos: %s messageType: %s.",d,b));f.qos=d;f.messageIdentifier=e;return f}var c=b.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4;a|=2;var b=g(this.topic),c=2+b+2;this.messageType===p.SUBSCRIBE&&(c+=1);var d=k(c);c=new ArrayBuffer(1+d.length+c);var e=new Uint8Array(c);e[0]=a;a=1;e.set(d,1);a+=d.length;this.messageIdentifier!=null&&(a=n(this.messageIdentifier,e,a));a=m(this.topic,b,e,a);this.messageType===p.SUBSCRIBE&&this.qos!=null&&(e[a++]=this.qos);return c};return b}(d);var w=function(){"use strict";__p&&__p();function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(g(b)));h(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=i(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),x=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){__p&&__p();var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=g(this.topic),c=b+2;c+=this.messageIdentifier==null?0:2;var d=this.payloadMessage.bytes();c+=d.byteLength;var e=k(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;f.set(e,1);a=1+e.length;a=m(this.topic,b,f,a);this.messageIdentifier!=null&&(a=n(this.messageIdentifier,f,a));f.set(d,a);return c};return a}(d);e.exports={MESSAGE_TYPE:p,WireMessage:{Base:d,PubAckUnsubAck:v,Ping:s,ConnAck:u,Connect:c,Disconnect:f,Subscription:b,Publish:x},createMessageWithString:w.createWithString,decodeMessage:r,decodeByteMessages:a}}),null);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));e.exports={MqttError:a,MqttChannelError:c,ConnectFailure:b}}),null);
__d("MqttProtocolClient",["MqttEnv","MqttProtocolCodec","MqttTypes","MqttProtocolUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=30,h=6e4,i=b("MqttEnv").Env;b("MqttEnv").MqttGkNames;var j=(a=b("MqttProtocolCodec")).MESSAGE_TYPE,k=a.WireMessage,l=a.createMessageWithString,m=a.decodeByteMessages;c=b("MqttTypes").MqttError;var n=b("MqttTypes").ConnectFailure,o=b("MqttProtocolUtils").concatBuffers,p=b("MqttProtocolUtils").Pinger,q={SOCKET_ERROR:new c(1,"Socket error"),SOCKET_MESSAGE:new c(2,"Unable to parse invalid socket message"),INVALID_DATA_TYPE:new c(3,"Received non-arraybuffer from socket."),CONNECT_TIMEOUT:new c(4,"Connect timed out"),CONNACK_FAILURE:new c(5,"Connection failure due to connack"),PING_TIMEOUT:new c(6,"Ping timeout"),APP_DISCONNECT:new c(7,"Disconnect initiated by app"),SERVER_DISCONNECT:new c(8,"Disconnect message sent my server"),SOCKET_CLOSE:new c(9,"Socket connection closed")};d=function(){__p&&__p();function a(a){this.$3=a,this.$2={userName:"",mqttVersion:3,keepAliveInterval:10,ignoreSubProtocol:!1,onConnectSuccess:function(){},onConnectFailure:function(a){},onConnection:function(){},onConnectionError:function(a){},onConnectionLost:function(a){},onMessageArrived:function(a,b){},onMessageDelivered:function(a,b){}},this.$1="mqttwsclient",this.$4=0,this.$5=!1,this.$9=i.getLoggerInstance()}var b=a.prototype;b.connect=function(a){__p&&__p();var b=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null);this.$7=i.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$11(q.CONNECT_TIMEOUT)},g*1e3);this.$6=i.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$12(new k.Connect(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){__p&&__p();a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$11(q.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=o(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=m(a);var c=a.messages;b.$10=a.remaining;for(var a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,q.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$11(q.SOCKET_MESSAGE)}};this.$6.onerror=function(a){var c;try{c=parseInt(JSON.parse(b.$2.userName).s,10)}catch(a){c=-1}b.$9.eventLogSocketError({sessionID:c,errorCode:1,errorMessage:"socket.onerror "+a.type});b.$9.bumpCounter("protocol.error.socket");b.$11(q.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),b.$11(q.SOCKET_CLOSE)};this.$8!=null&&this.$8.cancel();this.$8=new p(a.keepAliveInterval,this.$12.bind(this,new k.Ping("PINGREQ")),this.$11.bind(this,q.PING_TIMEOUT))};b.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(a){},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(a){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(a){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(a){},this.$2.onConnectionLost=function(a){},this.$2.onMessageArrived=function(a,b){},this.$2.onMessageDelivered=function(a,b){}};b.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new k.Disconnect());this.$9.bumpCounter("protocol.debug.disconnect");this.$11(q.APP_DISCONNECT)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw new Error("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new k.Subscription("SUBSCRIBE",a,0,this.$14());this.$12(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw new Error("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new k.Subscription("UNSUBSCRIBE",a,0,this.$14());this.$12(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var d=this.$14();a=new k.Publish(a,l(b),c,d);this.$12(a);return d};b.$14=function(){++this.$4===h&&(this.$4=1);return this.$4};b.$11=function(a,b){this.$9.bumpCounter("protocol.debug.disconnect.internal");var c=this.$5,d=this.$2,e=d.onConnectionLost,f=d.onConnectFailure;this.setConnected(!1);this.$13();c?i.scheduleCallback(function(){e(a)}):i.scheduleCallback(function(){f(new n(a,b!=null?b:-1))})};b.$12=function(a){var b=this.$6;if(b==null)return;if(b.readyState!=b.OPEN)return;b.send(a.encode())};b.handleMessage=function(a){__p&&__p();var b=this;switch(a.messageType){case j.CONNACK:this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null);if(a instanceof k.ConnAck){var c=a;if(c.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$11(q.CONNACK_FAILURE,c.returnCode);return}i.scheduleCallback(function(){b.$2.onConnectSuccess()});this.$8!=null&&this.$8.reset()}break;case j.PUBLISH:if(a instanceof k.Publish){var d=a;i.scheduleCallback(function(){b.$2.onMessageArrived(d.topic,d.payloadMessage.payloadString)});c=d.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(d.qos===1&&c!=null){c=new k.PubAckUnsubAck("PUBACK",c);this.$12(c)}}break;case j.PUBACK:if(a instanceof k.PubAckUnsubAck){c=a;var e=c.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");i.scheduleCallback(function(){b.$2.onMessageDelivered("",e)})}break;case j.PINGRESP:this.$8!=null&&this.$8.reset();break;case j.DISCONNECT:this.$11(q.SERVER_DISCONNECT);break;case j.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case j.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();e.exports=d}),null);
__d("MqttUserName",["gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f,g,h){h===void 0&&(h=null),this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=b("gkx")("1166607")?!1:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus(),this.$8=h}var c=a.prototype;c.gen=function(a,c,d){var e=b("gkx")("1166607")?!1:this.$7;a={u:this.$1,s:a,cp:this.$3,ecp:this.$2,chat_on:this.$6,fg:e,d:this.$4,ct:"websocket",mqtt_sid:"",aid:this.$5,st:c,pm:d,dc:"",no_auto_fg:!0,gas:this.$8};return JSON.stringify(a)};c.setForegroundState=function(a){this.$7=a};c.setChatVisibility=function(a){this.$6=a};c.getEndpointCapabilities=function(){return this.$2};c.setEndpointCapabilities=function(a){this.$2=a};c.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();e.exports=a}),null);
__d("MqttConnection",["Promise","MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttTypes","MqttUserName","MqttUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames;b("MqttTypes").ConnectFailure;var i=b("MqttTypes").MqttChannelError;b("MqttTypes").MqttError;var j=10,k="publish",l="subscribe",m="unsubscribe",n=function(a){},o=18e4,p=5*1e3,q=15,r=21;a=function(){__p&&__p();function a(){__p&&__p();this.$8=!1;this.$10=g.getLoggerInstance();this.$11="Disconnected";this.$14=new Set();this.$15=new Map();this.$18=0;this.$19=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(b("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$7=null;var a=function(){};this.$1=a;this.$2=a;this.$3=a;this.$16=!1;this.$17=!1;this.$20=new(b("MqttConnectionHookCollection"))();this.$4=function(){return[]}}var c=a.prototype;c.run=function(a){__p&&__p();var b=this,c=a.onStateChange,d=a.onJSError,e=a.onMessageReceived,f=a.endpoint,g=a.mqttUserName,h=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=c;this.$3=e;this.$5=f;this.$6=g;this.$8=!0;this.$12=0;this.$2=d||n;h&&h.forEach(function(a){return b.$14.add(a)});this.$4=a;this.$21();this.$22()};c.shutdown=function(){this.$23(),this.$24("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};c.subscribe=function(a){this.$14.add(a);this.ensureConnected(l)&&this.$25(a);return!0};c.publish=function(a,c,d){var e={resolve:function(){},reject:function(a){}},f=new(b("Promise"))(function(a,b){e.resolve=a,e.reject=b}),g=this.ensureConnected(k);if(!g)e.reject(new Error("Client disconnected"));else{g=this.$26(a,c,d,e);g===!0?"connection_published":"connection_failed"}return f};c.unsubscribe=function(a){this.$14["delete"](a);this.ensureConnected(m)&&this.$27(a);return!0};c.addHook=function(a){this.$20.addHook(a)};c.removeHook=function(a){this.$20.removeHook(a)};c.isRunning=function(){return this.$8};c.getSessionId=function(){return this.$9};c.hasFatal=function(){return this.$16};c.hasConnectSuccess=function(){return this.$17};c.canPublish=function(){return this.ensureConnected("canPublish")};c.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};c.connectionState=function(){return this.$11};c.testOnlyGetSubscribedTopics=function(){return this.$14};c.$21=function(){var a=this;g.genGk(h.mqtt_send_unload_event)&&typeof window!=="undefined"&&window.addEventListener("unload",function(b){return a.$28(b)})};c.$28=function(a){this.publish("/browser_close","{}",0)};c.$23=function(){this.$8&&this.$7!=null&&(this.$29("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};c.$29=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};c.$22=function(){__p&&__p();var a=this;if(!this.$8)return;this.$29("Connecting");var c=Date.now();this.$9=b("MqttUtils").generateSessionId();var d=Array.from(this.$14),e=b("MqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(b("MqttProtocolClient"))(e);var f=this.$30(),g=f.map(function(a){return a.topic});e=this.$6.gen(this.$9,d,f);this.$7!=null&&(this.$7.connect({userName:e,mqttVersion:3,keepAliveInterval:j,ignoreSubProtocol:!0,onConnectFailure:function(b){return a.$31(b,c,d,g)},onConnectSuccess:function(){return a.$32(c,d,g)},onConnection:function(){return a.$33(f,d)},onConnectionError:function(b){return a.$34(b)},onConnectionLost:function(b){return a.$35(b)},onMessageArrived:function(b,c){return a.$36(b,c)},onMessageDelivered:function(b,c){return a.$37(b,c)}}),this.$10.bumpCounter("protocol.connectattempt"),this.$20.onConnectAttempt(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"))}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$29("Disconnected"),this.$38(!1,c,d,[],14,a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$20.onWSFatal(),this.$39(new i(!1,"ws_js_error",a),"client_init")}};c.$30=function(){var a=this.$4(),b=65536;a=a.map(function(a){a.messageId=b--;return a});return a};c.$25=function(a){__p&&__p();try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$20.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};c.$27=function(a){__p&&__p();try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$20.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};c.$26=function(a,b,c,d){__p&&__p();if(this.$7!=null)try{b=this.$7.publish(a,b,c);this.$10.bumpCounter("protocol.publish");var e=b!=null?b:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+e+" qos:"+c);this.$20.onPublish(a);b!=null?this.$15.set(b,d):d.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);d.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};c.$40=function(a){__p&&__p();var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$23();this.$24("reconnect");this.$41();this.$9=-1;this.$13=0;a=a!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+g.random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+a+" ms");g.setTimeout(function(){b.$22()},a);this.$12+=1};c.$41=function(){if(!g.genGk(h.mqtt_ws_reconnect_reset))return;var a=Date.now()-this.$13,b=this.$13!==0&&a>p,c=this.$12>q;(b||c)&&(this.$12=0);this.$13!==0&&a<=p&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};c.$38=function(a,b,c,d,e,f){a===!0?this.$19++:this.$18++,this.$10.eventLogConnect({sessionID:this.$9,connectionStatus:a,duration:Date.now()-b,hostname:this.$5,attemptNumber:this.$12,failTotal:this.$18,successTotal:this.$19,subscribedTopics:c,publishes:d,errorCode:e,errorMessage:f})};c.$31=function(a,b,c,d){__p&&__p();var e=a.mqttError,f=e.errorMessage;this.$10.debugTrace("connect","Connect failed "+f);this.$10.bumpCounter("protocol.onconnectfailure");this.$20.onConnectFailure();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$38(!1,b,c,d,e.errorCode,f);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===r){this.$40(o);return}}this.$40()};c.$33=function(a,b){__p&&__p();var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$20.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$20.onSubscribe(a)});a.forEach(function(a){c.$20.onPublish(a.topic)});this.$29("TransportConnected")};c.$32=function(a,b,c){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$20.onConnectSuccess(),this.$17=!0,this.$38(!0,a,b,c),this.$29("Connected"),this.$42(b),g.genGk(h.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()};c.$35=function(a){this.$10.bumpCounter("protocol.onconnectionlost"),a.errorCode&&this.$10.eventLogDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:a.errorMessage,duration:Date.now()-this.$13}),this.$10.debugTrace("connect","connection lost"),this.$20.onConnectionLost(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost"),this.$40()};c.$34=function(a){};c.$36=function(a,b){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$20.onMessage(a);try{this.$3(a,b)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};c.$37=function(a,b){__p&&__p();this.$10.bumpCounter("protocol.onmessagedelivered");a=b!=null?b:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+a+"}");if(b==null)return;a=this.$15.get(b);if(a==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$15["delete"](b);a.resolve()};c.$24=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$15.forEach(function(b,c,d){b.reject(new Error(a))}),this.$15.clear()};c.$42=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};c.$39=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$16=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();e.exports=a}),null);
__d("MqttChannel",["Promise","requireDeferred","ChannelClientID","IrisSubscribeChecker","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishTimeoutConfig","MqttUserName","MqttUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames,i=b("MqttPublishTimeoutConfig").mqttPublishTimeoutMs||60*1e3;a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.endpoint,e=a.pollingEndpoint,f=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;a=a.guestAuthString;a=a===void 0?null:a;this.$10=g.getLoggerInstance();this.$10.setAppId(h);this.$11=new(b("MqttUserName"))(f,j,k,b("ChannelClientID").getID(),h,l,a);this.$1=d;this.$2=e;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new(b("MqttConnection"))();this.$12=null;this.$15=new(b("MqttAnalyticsHook"))();this.$9.addHook(this.$15);this.$9.addHook(new(b("IrisSubscribeChecker"))(function(){return c.$4.size>0}));this.$14=new Map();this.$13=[];this.$16(i);this.$17();this.$10.logIfLoggedOut()}var c=a.prototype;c.$16=function(a){__p&&__p();var c=this;if(this.$9.isRunning()){this.$18("run","Connection started calling run again");return}if(g.genGk(h.mqtt_ws_polling_enabled))if(g.genGk(h.mqtt_ws_forced_polling_only)){this.$18("MqttChannel","Websocket disabled, will do long polling only");return}else if(!b("MqttUtils").hasWSSupport()){this.$18("MqttChannel","Websocket Unavailable, will do long polling only");this.$10.bumpCounter("ws_unavailable_polling");return}this.$9.run({onStateChange:function(a){c.$19(a)},onJSError:function(a){c.$20(a)},onMessageReceived:function(a,b){c.$21(a,b)},endpoint:this.$1,mqttUserName:this.$11,subscribedTopics:a,extraConnectMessageProvider:function(){return c.$22()}})};c.shutdown=function(){this.$9&&this.$9.shutdown()};c.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});if(c.qos===0)return this.$23(a,b);else return this.$24(a,b,c)};c.$23=function(a,b){return this.$25(a,b,0)};c.$24=function(a,c,d){var e={resolve:function(){},reject:function(a){}},f=new(b("Promise"))(function(a,b){e.resolve=a,e.reject=b}),h=g.random();a={topic:a,payload:c,options:d,ack:e,publishToken:h,timeoutId:null};d.skipBuffer?this.$9.connectionState()==="Connecting"?this.$13.push(a):this.$26(a):(a.timeoutId=this.$27(h),this.$14.set(h,a),this.$28(a));return f};c.$26=function(a){b("MqttUtils").promiseDone(this.$25(a.topic,a.payload,a.options.qos),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};c.$28=function(a){var c=this;b("MqttUtils").promiseDone(this.$25(a.topic,a.payload,a.options.qos),function(){return c.$29(a)},function(a){})};c.$25=function(a,c,d){var e=this,f,g;!this.$9.canPublish()&&this.$12&&this.$12.canPublish()?(f=this.$12.publish(a,c,d),g="lp",this.$10.bumpCounter("try_publish_lp")):(f=this.$9.publish(a,c,d),g="ws",this.$10.bumpCounter("try_publish_ws"));b("promiseDone")(f,function(){e.$10.eventLogPublish({topic:a,qos:d,payloadSizeBytes:c.length*2,success:!0,protocol:g,errorMessage:null})},function(b){e.$10.eventLogPublish({topic:a,qos:d,payloadSizeBytes:c.length*2,success:!1,protocol:g,errorMessage:b.toString()})});return f};c.subscribe=function(a,b){__p&&__p();var c=this;this.$9.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};c.subscribeChannelEvents=function(a){this.$3.push(a)};c.registerExtraConnectPayloadProvider=function(a){var b=this;this.$18("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$9.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};c.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};c.unsubscribeAll=function(a){this.$9.unsubscribe(a),this.$8["delete"](a)};c.getConnectionState=function(){return this.$5};c.getLongPollingStatus=function(){return this.$7};c.getEndpoint=function(){return this.$1};c.addHook=function(a){this.$9.addHook(a)};c.removeHook=function(a){this.$9.removeHook(a)};c.testOnlyMessageReceived=function(a,b){this.$21(a,b)};c.$30=function(a){var b=this.$14.get(a);b!=null&&b.timeoutId!=null&&g.clearTimeout(b.timeoutId);this.$14["delete"](a)};c.$27=function(a){__p&&__p();var b=this;a=g.setTimeout(function(a){var c=b.$14.get(a);if(!c)return;var d=c.topic;b.$10.bumpCounter("publish_timeout."+d);b.$10.debugTrace("publish_timeout","Timeout publishing topic: "+d+" publishToken: "+a);b.$10.eventLogPublishTimeout({topic:d});b.$30(a);c.ack.reject(new Error("Publish Timed Out"))},i,a);return a};c.$29=function(a){var b=a.publishToken,c=this.$14.get(b);if(!c)return;this.$30(b);a.ack.resolve();this.$10.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$10.bumpCounter("publish_success."+a.topic)};c.$21=function(a,b){__p&&__p();var c=this.$8.get(a);if(!c)this.$10.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var a=c,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e(b)}catch(a){this.$10.logError(a,"Listener exception"),this.$10.bumpCounter("listener_error")}}};c.$20=function(a){if(g.genGk(h.mqtt_ws_polling_enabled)){a.isRecoverable?this.$10.bumpCounter("recoverable_error_skipped"):this.$10.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$10.bumpCounter("recoverable_error_not_skipped"):this.$10.bumpCounter("unrecoverable_error_not_skipped");this.$31(a)};c.$32=function(a){this.$31(a)};c.$31=function(a){__p&&__p();for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};c.$33=function(){var a=this;this.$13.forEach(function(b){a.$26(b)});this.$13=[];this.$14.forEach(function(b,c,d){a.$28(b)})};c.$19=function(a){a==="Connecting"?(this.$13.forEach(function(a){a.ack.reject(new Error("Client Reconnecting"))}),this.$13=[]):a==="TransportConnected"&&this.$33(),this.$18("_changeState","Connection state = "+a),this.$34(a,this.$7)};c.$35=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw new Error("Unknown state "+a)};c.$36=function(a,b){this.$12&&this.$12.canPublish()&&this.$33(),this.$18("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$34(this.$6,a)};c.$34=function(a,b){var c=this.$35(a);this.$12&&this.$12.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$37(c))};c.$37=function(a){__p&&__p();for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};c.$22=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$10.logError(b,"ConnectPayload provider exception"),a.$10.bumpCounter("connectPayloadProvider_error")}});return b};c.$17=function(){__p&&__p();var a=this;g.genGk(h.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&b("requireDeferred")("MqttLongPollingRunner").onReady(function(b){__p&&__p();b=new b(a.$2,a.$11,a.$9.hasFatal(),a.$9.hasConnectSuccess(),function(b,c){return a.$21(b,c)},function(){return Array.from(a.$8.keys())},function(){return a.$22()},function(b){a.$32(b)},function(b,c){a.$36(b,c)});b.start();a.$9.addHook(b);b.addHook(a.$15);a.$12=b;a.$10.debugTrace("MqttChannel","longPollingRunner loaded")})};c.$18=function(a,b){this.$10.debugTrace(a,"Mqtt channel: "+b)};c.setForegroundState=function(a){this.$11&&this.$11.setForegroundState(a)};c.setChatVisibility=function(a){this.$11&&this.$11.setChatVisibility(a)};c.getEndpointCapabilities=function(){return this.$11.getEndpointCapabilities()};c.setEndpointCapabilities=function(a){this.$11.setEndpointCapabilities(a)};return a}();e.exports=a}),null);
__d("MessengerRTCMessageHandler",["Bootloader","FBRTCCallSummaryUploader","FBRTCExperiment","FBRTCMessageListener","URI","isFacebookURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=!1,i=!1;function j(){b("isFacebookURI")(new(g||(g=b("URI")))(window.top.location.href))&&b("FBRTCExperiment").getIncomingCallExperiments().logExposure()}a={init:function(){b("FBRTCCallSummaryUploader").init(),b("FBRTCMessageListener").init(!1),b("FBRTCMessageListener").listenOnce("messageReceived",function(a){k()}),b("FBRTCMessageListener").listenOnce("multiwayMessageReceived",function(a){l(a)})}};function k(){h||(h=!0,j(),b("Bootloader").loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){var f=new a(c,e,d);b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"MessengerRTCMessageHandler"))}function l(a){i||(i=!0,j(),b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(c,d){var e=new c(d,!1);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"MessengerRTCMessageHandler"))}e.exports=a}),null);
__d("FantaTabsReactApp",["ChatPerfInstrumentation","FantaMercuryTabsWithMain.react","FantaTabsAppBase","React","ReactDOM","UserActivity","gkx","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500,h;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.initializeFantaData=function(a){__p&&__p();d(["FantaAppStore","FantaCookieUtil","FantaGetMessageActions","FantaTabActions","MercuryThreadInformer","PresenceState"],function(c,d,e,f,i,j){__p&&__p();f.loadFromData(d.convertCookieData(j.get(),null,a)),j.registerStateLoader(function(b){f.loadFromData(d.convertCookieData(b,c.getState().tabGroup,a))}),j.registerStateStorer(function(a){if(!b("UserActivity").isOnTab()&&!b("UserActivity").isActive(g)&&!b("gkx")("678595"))return a;var e=c.getState().tabGroup;if(!h||h&&!h.equals(e)){h=e;return d.createCookieData(e,a)}else return a}),i.get().subscribe("threads-updated",function(a,c){Object.keys(c).forEach(function(a){b("setImmediate")(function(){e.refreshThread(a)})})}),b("ChatPerfInstrumentation").logInitData()})};e.initializeFantaUI=function(){__p&&__p();var a=this;d(["FantaAppStore","FantaMercuryThreadEventsBootloaded","FantaMessageActions","FantaTabActions","FantaTabViewportManager","FBRTCMessageHandler","MercuryBrowserAlerts"],function(c,d,e,f,g,h,i){__p&&__p();h.init();i.init();b("ReactDOM").render(a.getViewComponent(),a.tabsElem);f=function(a,c){b("setImmediate")(function(){e.receivedNewMessage(a,c)})};d.registerForNewLogMessage(f);d.registerForNewMessage(f);g.init(a.tabsElem);b("ChatPerfInstrumentation").logInitUI();h=c.getState().tabGroup.tabs;h.toArray().length===0&&b("ChatPerfInstrumentation").logDisplayDone()})};e.getViewComponent=function(){return b("React").jsx(b("FantaMercuryTabsWithMain.react"),{loadDataOnMount:!1})};return c}(b("FantaTabsAppBase"));e.exports=new a()}),null);
__d("ChatInitialDataTransformer.bs",["bs_js_dict","bs_caml_format","bs_caml_option","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.viewer,d=a.is_page,e=[],f=[],g={},h=[],i={},j=[];a.threads.forEach(function(a){__p&&__p();if(a==null)return 0;else{var k,l=(k=b("MessengerServerPayloadTransformer.bs")).getThreadFBID(a),m=k.getOtherUserID(a),n=k.transformThread(c,a,d);e.push(n);k=k.transformMessages(c,a,d);k!==void 0&&k.forEach(function(a){f.push(a);return 0});k=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);k!==void 0&&(b("bs_caml_option").valFromOption(k).has_previous_page||(l==null?m==null||j.push({type:"thread",fbid:m}):j.push({type:"thread",fbid:l})));k=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(c,a);if(k!==void 0){k=b("bs_caml_option").valFromOption(k);l==null||(g[l]=k);m==null||(g[m]=k)}l=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(l.length!==0){m=l[0];if(n.is_canonical){k=n.other_user_fbid;k==null||h.push({other_user_fbid:k,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(m.timestamp_precise)})}else{l=n.thread_fbid;l==null||h.push({other_user_fbid:null,thread_fbid:l,time:b("bs_caml_format").caml_float_of_string(m.timestamp_precise)})}}k=b("MessengerServerPayloadTransformer.bs").transformParticipants(a);k.forEach(function(a){i[a.fbid]=a;return 0});return 0}});return{threads:e,actions:f,roger:g,delivery_receipts:h,participants:b("bs_js_dict").values(i),end_of_history:j}}f.transform=a}),null);
__d("SearchI18nArabic",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/[\u0600-\u06FF]/;function h(a){return g.test(a)}var i={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},j=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function k(a){return Object.prototype.hasOwnProperty.call(i,a)?String.fromCharCode(i[a]):j.indexOf(a)!=-1?"":String.fromCharCode(a)}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(k(d))}return b.join("")}b={hasArabicCharacters:h,normalizeCharCode:k,arabicNormalization:a};e.exports=b}),null);
__d("UnicodeCJK",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();f="a-zA-Z";var g="\uff21-\uff3a\uff41-\uff5a",h=f+g;f="\u3040-\u309f";g="\u30a0-\u30ff";var i="\u31f0-\u31ff",j="\uff65-\uff9f";g=g+i+j;var k=f+g,l=[12352,12447];i=[12448,12543];var m=i[0]-l[0];j="\u4e00-\u9fcf";f="\u3400-\u4dbf";var n=j+f;g="\uac00-\ud7af";var o=n+k+g,p=null,q=null,r=null,s=null;function t(a){q=q||new RegExp("["+k+"]");return q.test(a)}function a(a){p=p||new RegExp("["+n+"]");return p.test(a)}function b(a){r=r||new RegExp("["+o+"]");return r.test(a)}function u(a){a=a.charCodeAt(0);return String.fromCharCode(a<l[0]||a>l[1]?a:a+m)}function c(a){return!t(a)?a:a.split("").map(u).join("")}function v(a){s=s||new RegExp("^["+k+"]+["+h+"]$");return s.test(a)}function d(a){return v(a)?a.substr(0,a.length-1):a}i={hasKana:t,hasIdeograph:a,hasIdeoOrSyll:b,hiraganaToKatakana:c,isKanaWithTrailingLatin:v,kanaRemoveTrailingLatin:d};e.exports=i}),null);
__d("UnicodeHangulKorean",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/[\u3130-\u318F\uAC00-\uD7AF]/;function h(a){return g.test(a)}var i=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],j=12593;b=i.length;var k=j+b;function l(a){return String.fromCharCode(i[a-j])}var m=4352,n=4449,o=4519,p=44032;c=19;d=21;var q=28,r=d*q;f=c*r;var s=p+f;function t(a){a=a-p;var b=a%q;return String.fromCharCode(m+a/r)+String.fromCharCode(n+a%r/q)+(b>0?String.fromCharCode(o+b):"")}function a(a){if(!h(a))return a;var b=[];for(var c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b.push(j<=e&&e<k?l(e):p<=e&&e<s?t(e):d)}return b.join("")}b={toConjoiningJamo:a};e.exports=b}),null);
__d("browserUserLanguage",[],(function(a,b,c,d,e,f){b=a.navigator;c=(b.userLanguage||b.language).replace("-","_");e.exports=c}),null);
__d("unicodeStringSplitter",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g;return a.match(b)||[]}e.exports=a}),null);
__d("tryToRemoveStringAccents",["IntlBCP47LocaleConfig","browserUserLanguage","memoizeWithArgs","unicodeStringSplitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="a".charCodeAt(0),h="z".charCodeAt(0),i=b("IntlBCP47LocaleConfig").bcp47Locale||b("browserUserLanguage"),j=!1;try{j="a".localeCompare("A",i,{sensitivity:"base"})===0}catch(a){j=!1}var k=b("memoizeWithArgs")(function(a){var b=a.charCodeAt(0);if(!a||g<=b&&b<=h)return a;for(var b=g;b<=h;b++){var c=String.fromCharCode(b);if(c.localeCompare(a,i,{sensitivity:"base"})===0)return c}return a},function(a){return a});function a(a){return j?b("unicodeStringSplitter")(a).map(k).join(""):a}a.isBrowserSupported=j;e.exports=a}),null);
__d("SearchI18nMatch",["invariant","SearchI18nArabic","UnicodeCJK","UnicodeHangulKorean","forEachObject","tryToRemoveStringAccents"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.config={prefix_hangul_conjoining_jamo:!1,prefix_kana_drop_trailing_latin:!1,prefix_kana_hiragana_to_katakana:!1,prefix_try_ignoring_accents:!1,search_i18n_prefix_arabic_normalization:!1},a!=null&&this.setConfigs(a)}var c=a.prototype;c.setConfigs=function(a){var c=this;b("forEachObject")(a,function(a,b){return c.setConfig(b,a)},this)};c.setConfig=function(a,b){a in this.config||g(0,5344,a),b!=null&&(this.config[a]=b)};c.prefixMatchPrepare=function(a){if(a){var c=this.config;c.prefix_hangul_conjoining_jamo&&(a=b("UnicodeHangulKorean").toConjoiningJamo(a));c.prefix_kana_drop_trailing_latin&&(a=b("UnicodeCJK").kanaRemoveTrailingLatin(a));c.prefix_kana_hiragana_to_katakana&&(a=b("UnicodeCJK").hiraganaToKatakana(a));c.search_i18n_prefix_arabic_normalization&&(a=b("SearchI18nArabic").arabicNormalization(a));c.prefix_try_ignoring_accents&&(a=b("tryToRemoveStringAccents")(a))}return a};c.prefixMatch=function(a,b){a=this.prefixMatchPrepare(a);b=this.prefixMatchPrepare(b);return a.startsWith(b)};return a}();e.exports=a}),null);
__d("DataSource",["ArbiterMixin","AsyncRequest","SearchI18nMatch","TokenizeUtil","createArrayFromMixed","createObjectFrom","emptyFunction","killswitch","mixin","str2rstr"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d._maxResults=c.maxResults||10;d.token=c.token;d.queryData=c.queryData||{};d.queryEndpoint=c.queryEndpoint||"";d.bootstrapData=c.bootstrapData||{};d.bootstrapEndpoint=c.bootstrapEndpoint||"";d.globalKeywordsEndpoint=c.globalKeywordsEndpoint||"";d._indexedFields=c.indexedFields||["text","tokens"];d._titleFields=c.titleFields||[];d._alwaysPrefixMatch=c.alwaysPrefixMatch||!1;d._deduplicationKey=c.deduplicationKey||null;d._enabledLocalCache=c.enabledLocalCache!=null?c.enabledLocalCache:!0;d._enabledQueryCache=c.enabledQueryCache!=null?c.enabledQueryCache:!0;d._disableAllCaches=c.disableAllCaches!=null?c.disableAllCaches:!1;d._enabledMergeUids=c.enabledMergeUids!=null?c.enabledMergeUids:!1;d._queryExactMatch=c.queryExactMatch||!1;d._acrossTransitions=c.acrossTransitions||!1;d._minQueryLength=c.minQueryLength||-1;d._enforceNewRequestIDUponFetch=c.enforceNewRequestIDUponFetch||!1;d._minExactMatchLength=4;d._filters=[];d._headerflags=c.headerflags||new Map();d.transport=null;d.setExclusions(c.exclusions);d.backendUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});d.cacheUnicodeMatch=new(b("SearchI18nMatch"))({prefix_kana_hiragana_to_katakana:!!c.kanaNormalization});return d}var d=c.prototype;d.init=function(){this.init=b("emptyFunction"),this._fields=b("createObjectFrom")(this._indexedFields),this._activeQueries=0,this.dirty()};d.dirty=function(){this.value="";this._bootstrapped=!1;this._bootstrapping=!1;this._data=Object.create(null);this.localCache={};this.queryCache={};this.queryIDs={};this.inform("dirty",{});return this};d.bootstrap=function(a){a===void 0&&(a=!1);if(this._bootstrapped&&!a)return;this.bootstrapWithoutToken();this._bootstrapped=!0;this._bootstrapping=!0;this.inform("bootstrap",{bootstrapping:!0})};d.bootstrapWithoutToken=function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:!0,token:this.token})};d.bootstrapWithToken=function(){var a=babelHelpers["extends"]({},this.bootstrapData);a.token=this.token;var c=b("killswitch")("DATA_SOURCE_USE_FETCH_CONTEXT_EMPTY_STRING")?{bootstrap:!0,replaceCache:!0,value:""}:{bootstrap:!0,replaceCache:!0};this.fetch(this.bootstrapEndpoint,a,c)};d.query=function(a,b,c,d,e){__p&&__p();this.inform("beforeQuery",babelHelpers["extends"]({value:a,local_only:b,exclusions:c,time_waited:d},e));d=Date.now();if(this._disableAllCaches){this.dirty();if(!a){this.bootstrap();return!0}}else this._enabledQueryCache||(this.queryCache={},this.queryIDs={});var f=this.buildUids(a,[],c),g=this.respond(a,f);this.value=a;this.inform("query",babelHelpers["extends"]({value:a,results:g},e));var h=this.tokenizeBackend(a).flatValue;if(b||!h||this._isQueryTooShort(h)||!this.queryEndpoint||Object.prototype.hasOwnProperty.call(this.getQueryCache(),h)||!this.shouldFetchMoreResults(g)){this.inform("logPerformanceTiming",babelHelpers["extends"]({field:"cache_keypress_render",value:Date.now()-d},e));this.inform("completeCacheFetch");return!1}this.inform("queryEndpoint",babelHelpers["extends"]({value:a},e));this.fetch(this.queryEndpoint,this.getQueryData(a,f),babelHelpers["extends"]({value:a,exclusions:c},e));return!0};d._isQueryTooShort=function(a){return a.length<this._minQueryLength};d._tokenize=function(a,c){return b("TokenizeUtil").parse(a,c)};d.tokenizeBackend=function(a,b){a=this.backendUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.tokenizeCache=function(a,b){a=this.cacheUnicodeMatch.prefixMatchPrepare(a);return this._tokenize(a,b)};d.shouldFetchMoreResults=function(a){return a.length<this._maxResults};d.getQueryData=function(a,b){a=babelHelpers["extends"]({value:a},this.queryData);b=b||[];b.length&&(a.existing_ids=b.join(","));this._bootstrapping&&(a.bsp=!0);return a};d.setQueryData=function(a,b){b&&(this.queryData={});Object.assign(this.queryData,a);return this};d.setBootstrapData=function(a,b){b&&(this.bootstrapData={});Object.assign(this.bootstrapData,a);return this};d.getExclusions=function(){return b("createArrayFromMixed")(this._exclusions)};d.setExclusions=function(a){this._exclusions=a?a.map(String):[]};d.addFilter=function(a){var b=this._filters;b.push(a);return{remove:function(){b.splice(b.indexOf(a),1)}}};d.clearFilters=function(){this._filters=[]};d.notify=function(a,b,c,d){b=this.buildData(b);this.inform("notify",{value:a,results:b,isAsync:!!c,rootid:d});return b};d.respond=function(a,b,c){b=this.buildData(b);this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.respondWithResults=function(a,b,c){this.processResults(a,b,c);this.inform("respond",{value:a,results:b,isAsync:!!c});return b};d.processResults=function(a,b,c){__p&&__p();if(this.bootstrapData.alwaysShowEcho){c=-1;for(var d=0;d<b.length;++d)if(b[d].text.toLowerCase()===a.toLowerCase()){c=d;break}d={};c===-1?(d={bootstrapped:!1,index:0,query:a,render_type:"hashtag",text:a,type:"hashtag",uid:this.getUniqueID()},b.map(function(a){a.index+=1}),b.unshift(d)):c>0&&(d=b.splice(c,1)[0],b.unshift(d),b.map(function(a,b){a.index=b}))}};d.getUniqueID=function(){var a="_"+Math.random().toString(36).substr(2,9);while(this._data[a]!==void 0)a="_"+Math.random().toString(36).substr(2,9);return a};d.fetch=function(a,c,d){__p&&__p();var e=this;if(!a)return;(this._enforceNewRequestIDUponFetch||c.request_id===void 0)&&(c.request_id=this._guid(),d.request_id=c.request_id);c=new(b("AsyncRequest"))().setURI(a).setData(c).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(a){this.fetchHandler(a,d||{})}.bind(this));if(a===this.queryEndpoint){for(var f=this._headerflags,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];c.setRequestHeader(j,i)}c.setFinallyHandler(function(){this._activeQueries--,this._activeQueries||this.inform("activity",{activity:!1})}.bind(this))}c.setErrorHandler(function(a){return e.asyncErrorHandler(a,d)});this.inform("beforeFetch",{request:c,fetch_context:d});c.send();this.transport=c.transport;a===this.queryEndpoint&&(this._activeQueries||this.inform("activity",{activity:!0}),this._activeQueries++)};d.fetchHandler=function(a,b){__p&&__p();var c=b.value,d=b.exclusions;a.getPayload().requestID!==void 0&&(b.request_id=a.getPayload().requestID);var e=this.getQueryIDs(),f=this.tokenizeBackend(c||"").flatValue;e[f]=b.request_id;!c&&b.replaceCache&&(this.localCache={});this.inform("buildQueryCache",{});e=a.getPayload().entries;this.addEntries(e,c);this.inform("fetchComplete",{entries:e,response:a,value:c,fetch_context:b});f=!c&&this.value?this.value:c;this.respond(f,this.buildUids(f,[],d),!0);c||(this._bootstrapping&&(this._bootstrapping=!1,this.inform("bootstrap",{bootstrapping:!1})),b.token&&a.getPayload().token!==b.token&&this.bootstrapWithToken())};d.addEntries=function(a,c){__p&&__p();a=this.processEntries(b("createArrayFromMixed")(a||[]),c);var d=a;this._enabledMergeUids&&(d=this.buildUids(c,a));if(c){var e=this.getQueryCache();c=this.tokenizeBackend(c).flatValue;e[c]=d}else this.fillCache(d);return a};d.processEntries=function(a,b){return a.map(function(a,c){var d=a.uid=a.uid+"",e=this.getEntry(d);!e?(e=a,e.query=b,e.bootstrapped=!b,this.setEntry(d,e)):Object.assign(e,a);this.processEntry(e,b);e.index===void 0&&(e.index=c);return d},this)};d.processEntry=function(a,b){};d.getAllEntries=function(){return this._data||{}};d.getEntry=function(a){return this._data[a]||null};d.setEntry=function(a,b){this._data[a]=b};d.fillCache=function(a){__p&&__p();if(!this._enabledLocalCache)return;var b=this.localCache;a.forEach(function(a){var c=this.getEntry(a);if(!c)return;c=this.tokenizeCache(this.getTextToIndex(c)).tokens;for(var d=0,e=c.length;d<e;++d){var f=c[d];Object.prototype.hasOwnProperty.call(b,f)||(b[f]={});b[f][a]=!0}},this)};d.getTextToIndex=function(a){if(a.textToIndex&&!a.needs_update)return a.textToIndex;a.needs_update=!1;a.textToIndex=this.getTextToIndexFromFields(a,this._indexedFields);return a.textToIndex};d.getTextToIndexFromFields=function(a,b){var c=[];for(var d=0;d<b.length;++d){var e=a[b[d]];e&&c.push(e.join?e.join(" "):e)}return c.join(" ")};d.mergeUids=function(a,b,c,d){this.inform("mergeUids",{local_uids:a,query_uids:b,new_uids:c,value:d});this._checkExtendedMatch(d,a);return this.deduplicateByKey(a.sort(this.bootstrapSort.bind(this)).concat(b,c))};d.bootstrapSort=function(a,b){a=this.getEntry(a);b=this.getEntry(b);if(a.extended_match!==b.extended_match)return a.extended_match?1:-1;if(a.index!==b.index)return a.index-b.index;if(a.text.length!==b.text.length)return a.text.length-b.text.length;return a.text===b.text?a.uid<b.uid?-1:1:a.text<b.text?-1:1};d._checkExtendedMatch=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;for(var e=0;e<c.length;++e){var f=this.getEntry(c[e]);f.extended_match=f.tokens?!d(a,f.text):!1}};d.buildUids=function(a,c,d){__p&&__p();c||(c=[]);if(!a)return c;d||(d=[]);var e=this.buildCacheResults(a,this.localCache),f=this.buildQueryResults(a);e=this.mergeUids(e,f,c,a);var g=b("createObjectFrom")(d.concat(this._exclusions));f=e.filter(function(b){if(Object.prototype.hasOwnProperty.call(g,b)||!this.getEntry(b))return!1;for(var c=0;c<this._filters.length;++c)if(!this._filters[c](this.getEntry(b),a))return!1;return g[b]=!0},this);return this.uidsIncludingExact(a,f)};d.uidsIncludingExact=function(a,c){__p&&__p();var d=c.length;if(d<=this._maxResults||b("str2rstr")(a).length<this._minExactMatchLength)return c;for(var e=0;e<d;++e){var f=this.getEntry(c[e]);if(f.text==null&&f.text_lower==null)continue;f.text_lower||(f.text_lower=f.text.toLowerCase());if(f.text_lower===this.tokenizeCache(a).flatValue){if(e>=this._maxResults){f=c.splice(e,1)[0];c.splice(this._maxResults-1,0,f)}break}}return c};d.buildData=function(a){var b=[],c=Math.min(a.length,this._maxResults);for(var d=0;d<c;++d)b.push(this.getEntry(a[d]));return b};d.findBestPreviousQuery=function(a,b){var c=0,d=null;if(this._queryExactMatch)return Object.prototype.hasOwnProperty.call(b,a)?a:null;for(var e in b)a.indexOf(e)===0&&e.length>c&&(c=e.length,d=e);return d};d.findQueryCache=function(a){a=this.findBestPreviousQuery(a,this.getQueryCache());return this.getQueryCache()[a]||[]};d.buildQueryResults=function(a){a=this.tokenizeBackend(a).flatValue;var b=this.findQueryCache(a);if(Object.prototype.hasOwnProperty.call(this.getQueryCache(),a))return b;a=this.filterQueryResults(a,b);return a};d.filterQueryResults=function(a,c){var d=this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch:b("TokenizeUtil").isQueryMatch;return c.filter(function(b){return d(a,this.getTextToIndex(this.getEntry(b)))},this)};d.buildCacheResults=function(a,b){__p&&__p();var c=this.tokenizeCache(a,this._alwaysPrefixMatch),d=this._alwaysPrefixMatch?c.sortedTokens:c.tokens,e=d.length;c=c.isPrefixQuery?e-1:null;var f={},g={},h={},i=[],j=!1,k={},l=0;for(var m=0;m<e;++m){var n=d[m];if(!Object.prototype.hasOwnProperty.call(k,n))l++,k[n]=!0;else continue;for(var o in b)if(!Object.prototype.hasOwnProperty.call(f,o)&&o===n||(this._alwaysPrefixMatch||c===m)&&this.cacheUnicodeMatch.prefixMatch(o,n)){o===n?(Object.prototype.hasOwnProperty.call(g,o)&&(j=!0),f[o]=!0):((Object.prototype.hasOwnProperty.call(f,o)||Object.prototype.hasOwnProperty.call(g,o))&&(j=!0),g[o]=!0);for(var p in b[o])(m===0||Object.prototype.hasOwnProperty.call(h,p)&&h[p]==l-1)&&(h[p]=l)}}for(var q in h)h[q]==l&&i.push(q);(j||l<e)&&(i=this.filterQueryResults(a,i));this._titleFields&&this._titleFields.length>0&&(i=this.filterNonTitleMatchQueryResults(a,i));return i};d.filterNonTitleMatchQueryResults=function(a,c){return c.filter(function(c){var d=this.tokenizeCache(a),e=d.tokens.length;if(e===0)return!0;c=this.getTitleTerms(this.getEntry(c));d=d.tokens[0];return e===1||this._alwaysPrefixMatch?b("TokenizeUtil").isPrefixMatch(d,c)||this.cacheUnicodeMatch.prefixMatch(c,d):b("TokenizeUtil").isQueryMatch(d,c)},this)};d.getTitleTerms=function(a){a.titleToIndex||(a.titleToIndex=this.getTextToIndexFromFields(a,this._titleFields));return a.titleToIndex};d.deduplicateByKey=function(a){if(!this._deduplicationKey)return a;var c=b("createObjectFrom")(a.map(this._getDeduplicationKey.bind(this)),a);return a.filter(function(a){return c[this._getDeduplicationKey(a)]==a}.bind(this))};d._getDeduplicationKey=function(a){var b=this.getEntry(a);if(b[this._deduplicationKey])return b[this._deduplicationKey]+"";else return"__"+a+"__"};d.getQueryCache=function(){return this.queryCache};d.getQueryIDs=function(){return this.queryIDs};d.setMaxResults=function(a){this._maxResults=a,this.value&&this.respond(this.value,this.buildUids(this.value))};d.getMaxResults=function(){return this._maxResults};d.updateToken=function(a){this.token=a;this.dirty();return this};d.getResponseHeaderValue=function(a){var b="";this.transport&&(b=this.transport.getResponseHeader(a),b||(b=""));return b};d._guid=function(){var a=Date.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=Math.floor((a+Math.random()*16)%16);a=Math.floor(a/16);b=(b=="x"?c:c&7|8).toString(16);return b});return b};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{events:["bootstrap","query","respond"],asyncErrorHandler:b("emptyFunction")});e.exports=a}),null);
__d("MercuryAudienceRestrictedTypeaheadDataSource",["CurrentUser","DataSource","OrderedFriendsList","ShortProfiles"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();b=b||{};b.kanaNormalization=!0;b.maxResults=5;b.minQueryLength=2;b=a.call(this,b)||this;b.$MercuryAudienceRestrictedTypeaheadDataSource1=!1;b.$MercuryAudienceRestrictedTypeaheadDataSource2=!1;b.$MercuryAudienceRestrictedTypeaheadDataSource3={};b.$MercuryAudienceRestrictedTypeaheadDataSource4=!0;b.queryCache={};b.localCache={};b.queryIDs={};return b}var d=c.prototype;d.dirty=function(){return this};d.buildData=function(b){return a.prototype.buildData.call(this,b)};d.query=function(b,c,d,e){c=c||b.length===1;return a.prototype.query.call(this,b,c,d,e)};d.getQueryData=function(b,c){return babelHelpers["extends"]({},a.prototype.getQueryData.call(this,b,c))};d.setEntry=function(a,b){this.$MercuryAudienceRestrictedTypeaheadDataSource3[a]=b};d.getEntry=function(a){return this.$MercuryAudienceRestrictedTypeaheadDataSource3[a]||null};d.getCachedShortProfileIDs=function(){var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c&&(c.type==="friend"||c.type==="fb4c")});return a};d.isBootstrapped=function(){return this.$MercuryAudienceRestrictedTypeaheadDataSource1};d.isBootstrapping=function(){return this.$MercuryAudienceRestrictedTypeaheadDataSource2};d.processEntries=function(c,d){c=c&&c.map(function(a){a.index==null&&(a.render_type==="friend"||a.render_type==="fb4c")&&(a.index=b("OrderedFriendsList").getActiveRank(a.uid));return a});return a.prototype.processEntries.call(this,c)};d.mergeUids=function(b,c,d,e){var f=this;c=c.sort(function(a,b){a=f.getEntry(a);b=f.getEntry(b);return a&&a.index&&b&&b.index?a.index-b.index:0});return a.prototype.mergeUids.call(this,b,c,d,e)};d.setQueryData=function(b,c){return a.prototype.setQueryData.call(this,b)};d.respond=function(b,c,d){return a.prototype.respond.call(this,b,c,d)};d.setShowThreads=function(a){this.$MercuryAudienceRestrictedTypeaheadDataSource4=a};return c}(b("DataSource"));e.exports=a}),null);
__d("ContextualLayerHideOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("contextchange",this._handleContextChange.bind(this)),this._layer.subscribe("show",this.attach.bind(this)),this._layer.subscribe("hide",this.detach.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach()};c.attach=function(){if(this._listener)return;var a=this._layer.getContextScrollParent();if(a===window)return;this._listener=b("Event").listen(a,"scroll",this._layer.hide.bind(this._layer))};c.detach=function(){this._listener&&this._listener.remove(),this._listener=null};c._handleContextChange=function(){this.detach(),this._layer.isShown()&&this.attach()};return a}();Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("SUIInternalDisplay",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=["block","inline","unset_DEPRECATED"];d=[].concat(c,["truncateInline","truncateBlock"]);var h={propType:a.oneOf(c),propTypeWithTruncate:a.oneOf(d),get:function(a){return(a==="block"?"_4yee":"")+(a==="inline"?" _4yef":"")},getWithTruncate:function(a){if(a==="truncateInline")return"_4yeg";return a==="truncateBlock"?"_3tep":h.get(a)},getFlex:function(a){return(a==="block"?"_4yeh":"")+(a==="inline"?" _4yei":"")},getTable:function(a){return(a==="block"?"_4yg0":"")+(a==="inline"?" _4yg1":"")}};e.exports=h}),null);
__d("SUILink.react",["cx","React","SUIComponent","SUIInternalDisplay","SUITheme","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=["always","hover","never"];d={display:"unset_DEPRECATED",isInverseColor:!1,showUnderline:"hover"};f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.anchorRef=b("React").createRef();c.$SUILink1=function(){c.setState({isHovering:!0})};c.$SUILink2=function(){c.setState({isHovering:!1})};c.state={isHovering:!1};return c}var d=c.prototype;d.focus=function(){this.anchorRef.current!==null&&this.anchorRef.current.focus()};d.render=function(){var a=b("SUITheme").get(this).SUILink,c=this.props,d=c.children,e=c.className,f=c.display,g=c.href,h=c.isInverseColor,i=c.margin,j=c.showUnderline;c.theme;var k=c.width;c=babelHelpers.objectWithoutPropertiesLoose(c,["children","className","display","href","isInverseColor","margin","showUnderline","theme","width"]);var l=a.inverseColor!=null&&a.inverseColor!==""?a.inverseColor:a.normalColor,m=a.inverseHoverColor!=null&&a.inverseHoverColor!==""?a.inverseHoverColor:a.hoverColor;m={color:this.state.isHovering?h?m:a.hoverColor:h?l:a.normalColor,width:k};h={};(f==="truncateInline"||f==="truncateBlock")&&(h["data-hover"]="tooltip",h["data-tooltip-display"]="overflow");return b("React").jsx("a",babelHelpers["extends"]({},c,h,{className:b("joinClasses")("_231w"+(j==="always"?" _231y":"")+(j==="hover"?" _231z":""),b("SUIInternalDisplay").getWithTruncate(f),e,i),href:g!=null&&g!==""?g.toString():"#",onMouseEnter:this.$SUILink1,onMouseLeave:this.$SUILink2,ref:this.anchorRef,style:m,children:d}))};return c}(b("SUIComponent"));f.propTypes={display:b("SUIInternalDisplay").propTypeWithTruncate.isRequired,margin:a.string,showUnderline:a.oneOf(c),theme:a.instanceOf(b("SUITheme")),width:a.oneOfType([a.number,a.string])};f.defaultProps=d;e.exports=f}),null);
__d("SUITooltip.react",["cx","AlignmentEnum","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","FDSTooltipContext","LayerFadeOnShow","PositionEnum","React","SUIComponent","SUIErrorBoundary.react","SUILink.react","SUITheme","getElementRect","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=4,i={LayerFadeOnShow:b("LayerFadeOnShow"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll")},j=100;c=["block","inline","inline-block"];d=["normal","break-word"];var k=null;f=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.label,d=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","value"]);return b("React").jsxs("li",babelHelpers["extends"]({},a,{children:[c!=null&&c!==""&&b("React").jsx("strong",{children:c})," ",d]}))};return c}(b("SUIComponent"));f.propTypes={value:a.node.isRequired,label:a.string};g=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:b("joinClasses")(this.props.className,"_2pif"),children:[this.props.description," ",b("React").jsx(b("SUILink.react"),{onClick:this.props.onClick,children:this.props.label})]})};return c}(b("SUIComponent"));g.propTypes={label:a.node.isRequired,onClick:a.func.isRequired,description:a.node,theme:a.instanceOf(b("SUITheme"))};var l={alignment:"left",display:"inline",offset:4,position:"above",tooltipDelay:0,tooltipWidth:"auto"},m=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={isTextHover:!1,isTooltipHover:!1,isTooltipVisible:!1},d.$SUITooltip4=b("uniqueID")(),d.$SUITooltip6=function(){d.props.tooltipDelay?d.$SUITooltip5=window.setTimeout(d.$SUITooltip7,d.props.tooltipDelay):d.$SUITooltip7()},d.$SUITooltip9=function(){d.$SUITooltip2=window.setTimeout(d.$SUITooltip7,j)},d.$SUITooltip7=function(){d.state.isTextHover||d.state.isTooltipHover?d.show():d.hide()},d.$SUITooltip8=function(){d.props.onToggle&&d.props.onToggle(d.state.isTooltipVisible)},d.$SUITooltip10=function(){d.setState({isTextHover:!1},d.$SUITooltip9)},d.$SUITooltip11=function(){d.setState({isTooltipHover:!1},d.$SUITooltip9)},d.$SUITooltip12=function(){d.setState({isTextHover:!0},d.$SUITooltip6)},d.$SUITooltip13=function(){d.setState({isTextHover:!1},d.$SUITooltip9)},d.$SUITooltip14=function(){d.setState({isTooltipHover:!0})},d.$SUITooltip15=function(){d.setState({isTooltipHover:!1},d.$SUITooltip9)},d.$SUITooltip16=function(a){d.$SUITooltip1=a},d.$SUITooltip17=function(){return d.$SUITooltip1},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.componentDidMount=function(){this.$SUITooltip3=!0};d.componentWillUnmount=function(){this.$SUITooltip3=!1,this.$SUITooltip5&&window.clearTimeout(this.$SUITooltip5),this.$SUITooltip2&&window.clearTimeout(this.$SUITooltip2),k===this&&(k=null)};d.show=function(){if(this.state.isTooltipVisible)return;k&&k!==this&&k.hide();k=this;this.$SUITooltip3&&this.setState({isTooltipVisible:!0},this.$SUITooltip8)};d.hide=function(){if(!this.state.isTooltipVisible)return;k=null;this.$SUITooltip3&&this.setState({isTooltipVisible:!1},this.$SUITooltip8)};d.$SUITooltip18=function(){__p&&__p();var a=this,c=this.props.tooltip!=null&&this.props.tooltip!==""&&this.state.isTooltipVisible;if(!c)return null;c=this.props.position==="above";var d=this.props.position==="below",e=this.props.position==="left",f=this.props.position==="right",g=c||d,j=b("SUITheme").get(this).SUITooltip,k=0;d?k=this.props.offset:c&&(k=-1*this.props.offset);var l=0;f?l=this.props.offset+h:e&&(l=-1*(this.props.offset+h));var m=babelHelpers["extends"]({},j.typeStyle,{backgroundColor:j.backgroundColor,borderRadius:(d=j.borderRadius)!=null?d:2,boxShadow:(c=j.boxShadow)!=null?c:"none",color:j.color,width:this.props.tooltipWidth!=="auto"?this.props.tooltipWidth:null,maxWidth:this.props.maxWidth,overflowWrap:this.props.overflowWrap}),n=0;f=this.$SUITooltip1;if(!g&&f){e=b("getElementRect")(f);d=e.bottom-e.top;n=d/2}return b("React").jsx(b("FDSTooltipContext").Consumer,{children:function(c){return b("React").jsx(b("ContextualLayer.react"),{alignment:a.props.alignment,behaviors:a.props.behaviors?babelHelpers["extends"]({},i,a.props.behaviors):i,contextRef:a.$SUITooltip17,offsetX:l,offsetY:k,position:a.props.position,shown:!0,children:b("React").jsxs("div",{className:"_4_gw"+(c?"":" _7mx9"),id:a.$SUITooltip4,onBlur:a.$SUITooltip11,onMouseEnter:a.$SUITooltip14,onMouseLeave:a.$SUITooltip15,style:{top:n+"px"},children:[b("React").jsx("ul",{className:"_3b5i",style:m,children:a.props.tooltip}),j.showArrow&&b("React").jsx("div",{"aria-hidden":!0,className:"_3b61"+(c?"":" _7mxa")+(c?" _7mxb":""),style:{borderTopColor:j.backgroundColor}})]})})}})};d.render=function(){var a=babelHelpers["extends"]({display:this.props.display},this.props.style);return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("div",{"aria-describedby":this.state.isTextHover?this.$SUITooltip4:void 0,className:b("joinClasses")(this.props.className,this.props.margin,"_3b62"),onBlur:this.$SUITooltip10,onMouseEnter:this.$SUITooltip12,onMouseLeave:this.$SUITooltip13,ref:this.$SUITooltip16,style:a,children:b("React").jsx(b("SUIErrorBoundary.react"),{componentName:"SUITooltip",children:this.props.children})}),this.$SUITooltip18()]})};return a}(b("SUIComponent"));m.Row=f;m.ActionDEPRECATED=g;m.propTypes={alignment:b("AlignmentEnum").propType.isRequired,behaviors:a.object,className:a.string,display:a.oneOf(c).isRequired,margin:a.string,maxWidth:a.number,offset:a.number.isRequired,overflowWrap:a.oneOf(d),position:b("PositionEnum").propType.isRequired,theme:a.instanceOf(b("SUITheme")),tooltip:a.node,tooltipDelay:a.number,tooltipWidth:a.oneOfType([a.oneOf(["auto"]),a.number])};m.defaultProps=l;e.exports=m}),null);
__d("ChatGroupCannotAddBackDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("FDSModal.react"),{isShown:!0,onHide:this.props.onHide,footer:a.jsx(b("FDSModalFooter.react"),{primaryButton:a.jsx(b("FDSButton.react"),{use:"primary",label:g._("\u0110\u00f3ng"),onClick:this.props.onHide})}),header:a.jsx(b("FDSModalHeader.react"),{title:g._("{name} left the group",[g._param("name",this.props.name)])}),width:410,children:a.jsx(b("FDSSection.react"),{children:a.jsx(b("FDSText.react"),{size:"body1",children:g._("{name} can't be added to this group again.",[g._param("name",this.props.name)])})})})};return c}(b("React").Component);e.exports=a}),null);
__d("ChatTabAddBackPreventedQuery",["RelayFBEnvironment","RelayModern","promiseDone","ChatTabAddBackPreventedQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=function(){return b("ChatTabAddBackPreventedQuery.graphql")};a={fetch:function(a,c){b("promiseDone")(g(b("RelayFBEnvironment"),h,{thread_id:a}),function(a){c(a.message_thread.non_addable_recipients.nodes.map(function(a){return a.id}))})}};e.exports=a}),null);
__d("MercuryTypeaheadDataSource",["CurrentUser","DataSource","OrderedFriendsList","ShortProfiles"],(function(a,b,c,d,e,f){__p&&__p();var g=[],h={},i={},j={},k=[],l=[],m=[],n=!1,o=!1;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;b=b||{};b.kanaNormalization=!0;c=a.call(this,b)||this;c.showDefaultList=b.showDefaultList||!1;return c}var d=c.prototype;d.dirty=function(){this.$MercuryTypeaheadDataSource1=g;this.localCache=i;this.queryCache=h;this.queryIDs=j;this.defaultList=k;this.topEntryIDs=l;this.nullStateExclusions=m;return this};d.bootstrap=function(){if(n||o)return!1;o=!0;b("ShortProfiles").fetchAll().then(function(){this.updateBootstrapData(),o=!1,n=!0,this.showDefaultList&&this.inform("show-default",{impressions:this.defaultList})}.bind(this),function(){}.bind(this));return!0};d.updateBootstrapData=function(){__p&&__p();var a=this.getCachedShortProfileIDs(),c=b("CurrentUser").isWorkUser()?"fb4c":"friend";a=a.map(function(a){var d=b("ShortProfiles").getNow(a),e=a==b("CurrentUser").getID()?c:d.type,f=[d.additionalName,d.alternateName].concat(d.searchTokens||[]).join(" "),g=d.name,h=null;return{uid:a,index:b("OrderedFriendsList").getActiveRank(a),text:g,subtext:h,tokens:f,localized_text:d.name,additional_text:d.additionalName,photo:d.thumbSrc,render_type:e,type:"user"}});a.length&&this.addEntries(a);if(!this.showDefaultList)return;l=a.sort(function(a,b){return a.index-b.index}).map(function(a){return a.uid});this.defaultList=this.buildData(l.slice(0,5));this.topEntryIDs=l};d.updateDefaultList=function(a){var b=this;if(!a)return;this.nullStateExclusions.includes(a)?this.nullStateExclusions=this.nullStateExclusions.filter(function(b){return b!==a}):this.nullStateExclusions.push(a);k=this.topEntryIDs.filter(function(a){return!b.nullStateExclusions.includes(a)});this.defaultList=this.buildData(k.slice(0,5))};d.query=function(b,c,d,e){c=c||b.length===1;return a.prototype.query.call(this,b,c,d,e)};d.getQueryData=function(b,c){return babelHelpers["extends"]({},a.prototype.getQueryData.call(this,b,c))};d.setEntry=function(a,b){this.$MercuryTypeaheadDataSource1[a]=b};d.getEntry=function(a){return this.$MercuryTypeaheadDataSource1[a]||null};d.getCachedShortProfileIDs=function(){var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c.type==="friend"||c.type==="fb4c"});return a};d.isBootstrapped=function(){return n};d.isBootstrapping=function(){return o};d.processEntries=function(c,d){c=c.map(function(a){a.index==null&&(a.render_type==="friend"||a.render_type==="fb4c")&&(a.index=b("OrderedFriendsList").getActiveRank(a.uid));return a});return a.prototype.processEntries.call(this,c)};d.mergeUids=function(b,c,d,e){var f=this;c=c.sort(function(a,b){return f.getEntry(a).index-f.getEntry(b).index});return a.prototype.mergeUids.call(this,b,c,d,e)};d.setShowDefaultList=function(a){this.showDefaultList=a};return c}(b("DataSource"));e.exports=a}),null);
__d("ChatTabTypeaheadDataSource",["MercuryConfig","MercuryTypeaheadDataSource"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=c||{};c.maxResults=5;c.showDefaultList=b("MercuryConfig").ChatComposer;c=a.call(this,c)||this;c.$ChatTabTypeaheadDataSource1=!0;return c}var d=c.prototype;d.buildData=function(b){__p&&__p();var c=this,d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=!this.$ChatTabTypeaheadDataSource1;b.forEach(function(b){__p&&__p();var i=a.prototype.getEntry.call(c,b);switch(i.render_type){case"friend":d.push(b);break;case"thread":c.$ChatTabTypeaheadDataSource1&&e.push(b);break;case"commerce_page":k||h.push(b);break;case"non_friend":f.push(b);break;case"fb4c":g.push(b);break;case"page":k||h.push(b);break;case"internal_bot_page":i=!k||i.can_add_to_group_chat;i&&j.push(b);break;default:break}},this);b=i.concat(d,g,e,h,f,j);return a.prototype.buildData.call(this,b)};d.query=function(b,c,d,e){return a.prototype.query.call(this,b,c,d,e)};d.respond=function(b,c,d){return a.prototype.respond.call(this,b,c,d)};d.setShowThreads=function(a){this.$ChatTabTypeaheadDataSource1=a};return c}(b("MercuryTypeaheadDataSource"));e.exports=a}),null);
__d("ChatTabTypeaheadAddMemberDataSource",["fbt","ChatGroupCannotAddBackDialog.react","ChatTabAddBackPreventedQuery","ChatTabTypeaheadDataSource","DOM","React","ReactDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DOM").create("div",{id:"ChatTabTypeaheadAddMemberDataSource_dialog"}),i=!1,j=new Map();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.setQueryData=function(c,d){c.thread_id&&b("ChatTabAddBackPreventedQuery").fetch(c.thread_id,function(a){j.set(c.thread_id,new Set(a))});return a.prototype.setQueryData.call(this,c,d)};d.processResults=function(b,c,d){var e=j.get(this.queryData.thread_id);e&&c.forEach(function(a,b,c){e.has(a.uid)&&(c[b]=babelHelpers["extends"]({},a,{disabled:!0,subtext:g._("Left the group"),onSelectDisabled:function(){return k(a.text)}}))});a.prototype.processResults.call(this,b,c,d)};return c}(b("ChatTabTypeaheadDataSource"));function k(a){if(i)return;i=!0;b("ReactDOM").render(b("React").jsx(b("ChatGroupCannotAddBackDialog.react"),{name:a,onHide:function(){b("ReactDOM").unmountComponentAtNode(h),i=!1}}),h)}e.exports=a}),null);
__d("EnvironmentTimezoneDecisionTree-tz2019c",[],(function(a,b,c,d,e,f){"use strict";e.exports={instant:1132117200,0:{instant:1531536300,0:{timezone:0},3600:{instant:1191290400,0:{instant:2019715200,3600:{timezone:86},0:{timezone:189}},3600:{timezone:54}},7200:{timezone:300}},10800:{instant:1087737300,10800:{instant:2019715200,10800:{timezone:20},7200:{timezone:170}},14400:{instant:2019715200,10800:{instant:1309636800,10800:{timezone:72},14400:{timezone:116}},14400:{instant:1472363100,14400:{timezone:402},10800:{instant:1487156400,14400:{timezone:416},10800:{timezone:423}}}}},3600:{instant:1309636800,3600:{instant:1191290400,3600:{timezone:96},7200:{timezone:133}},7200:{timezone:12}},7200:{instant:1982731950,7200:{instant:1250463600,7200:{instant:1354016700,7200:{timezone:141},3600:{timezone:190}},10800:{instant:1191290400,7200:{instant:1309636800,7200:{timezone:53},10800:{instant:1317033450,7200:{timezone:108},10800:{timezone:319}}},10800:{instant:1783022400,10800:{instant:1161703800,10800:{timezone:76},7200:{timezone:315}},7200:{timezone:115}}},3600:{timezone:191}},10800:{instant:1995497490,10800:{instant:2019715200,7200:{instant:1191290400,10800:{instant:1099178844,7200:{timezone:81},10800:{timezone:404}},7200:{timezone:70}},10800:{instant:1396198884,7200:{timezone:134},10800:{timezone:411},14400:{timezone:417}}},7200:{instant:1487156400,10800:{timezone:318},7200:{timezone:19}}}},"-36000":{instant:1309636800,"-32400":{timezone:192},"-36000":{timezone:3}},"-32400":{instant:1309636800,"-28800":{timezone:4},"-32400":{timezone:449}},"-14400":{instant:1331826750,"-14400":{timezone:21},"-16200":{timezone:139},"-10800":{instant:1130643321,"-10800":{timezone:37},"-14400":{instant:2019715200,"-14400":{instant:1257050196,"-14400":{timezone:227},"-10800":{timezone:257}},"-10800":{timezone:276}}},"-18000":{timezone:232}},"-10800":{instant:1205159083,"-10800":{instant:1250463600,"-10800":{instant:1324430100,"-10800":{instant:1354016700,"-7200":{timezone:195},"-10800":{timezone:24}},"-7200":{timezone:206}},"-7200":{timezone:226},"-14400":{instant:1309636800,"-14400":{instant:1783022400,"-10800":{timezone:271},"-14400":{timezone:41}},"-10800":{timezone:354}}},"-7200":{instant:1087274990,"-10800":{instant:1235670300,"-7200":{instant:1086812715,"-10800":{timezone:10},"-14400":{timezone:203}},"-10800":{timezone:11}},"-14400":{instant:1086003636,"-10800":{timezone:196},"-14400":{instant:1087737300,"-14400":{instant:1095133950,"-14400":{timezone:200},"-10800":{timezone:202}},"-10800":{timezone:204}}},"-7200":{timezone:256}},"-14400":{instant:2019715200,"-10800":{instant:1309636800,"-10800":{timezone:9},"-14400":{timezone:111}},"-14400":{instant:1076642325,"-10800":{timezone:23},"-14400":{timezone:218}}}},"-18000":{instant:1191290400,"-18000":{instant:1331449671,"-18000":{timezone:33},"-14400":{instant:1783022400,"-18000":{timezone:222},"-14400":{instant:1309636800,"-14400":{timezone:236},"-18000":{timezone:269}}},"-21600":{timezone:234}},"-14400":{instant:1087737300,"-14400":{instant:1487156400,"-18000":{timezone:7},"-14400":{timezone:228}},"-18000":{instant:1161703800,"-14400":{timezone:233},"-18000":{timezone:240}}},"-21600":{timezone:40}},"-25200":{instant:1333269930,"-18000":{instant:1427983200,"-21600":{timezone:207},"-18000":{timezone:263}},"-21600":{instant:1206083700,"-21600":{timezone:2},"-25200":{timezone:266}},"-25200":{instant:1309636800,"-21600":{timezone:93},"-25200":{timezone:5}}},"-21600":{instant:1427983200,"-21600":{instant:1154307150,"-21600":{timezone:32},"-18000":{instant:1309636800,"-21600":{instant:1117323900,"-21600":{instant:1146910500,"-18000":{timezone:61},"-21600":{timezone:63}},"-18000":{timezone:97}},"-18000":{timezone:94}}},"-18000":{instant:1206083700,"-21600":{instant:2019715200,"-18000":{timezone:213},"-21600":{timezone:252}},"-18000":{instant:1169100450,"-21600":{instant:1099207737,"-21600":{timezone:6},"-18000":{timezone:142}},"-18000":{timezone:274}}}},"-28800":{instant:1206083700,"-25200":{instant:2019715200,"-28800":{timezone:1},"-25200":{timezone:223}},"-28800":{instant:1836470418,"-32400":{timezone:255},"-25200":{timezone:91},"-28800":{timezone:464}}},"-7200":{instant:2019715200,"-10800":{instant:1546329600,"-10800":{timezone:138},"-7200":{timezone:25}},"-7200":{timezone:22}},"-3600":{instant:1309636800,0:{timezone:109},"-3600":{timezone:349}},"-12600":{timezone:38},28800:{instant:1087737300,28800:{instant:1487156400,39600:{timezone:291},28800:{instant:1206083700,28800:{timezone:42},32400:{timezone:13}}},32400:{instant:1309636800,32400:{timezone:121},28800:{timezone:342}}},25200:{instant:1087737300,25200:{instant:1265256900,18e3:{timezone:292},25200:{timezone:66}},28800:{instant:1309636800,25200:{instant:1191290400,25200:{timezone:320},28800:{timezone:326}},28800:{timezone:120}}},36e3:{instant:2019715200,36e3:{instant:1309636800,36e3:{timezone:293},39600:{timezone:123}},32400:{timezone:323},39600:{instant:1309636800,39600:{timezone:334},36e3:{timezone:441}}},39600:{instant:1191290400,36e3:{instant:1161703800,39600:{instant:1309636800,39600:{timezone:294},36e3:{timezone:357}},36e3:{timezone:15}},43200:{instant:2019715200,39600:{instant:1427983200,36e3:{timezone:124},39600:{timezone:336}},36e3:{timezone:344}},37800:{timezone:362},39600:{timezone:444}},21600:{instant:1256011038,18e3:{timezone:295},21600:{instant:1080340650,21600:{instant:1087737300,21600:{timezone:301},25200:{timezone:304}},18e3:{instant:2019715200,21600:{instant:1102530600,18e3:{timezone:311},21600:{timezone:332}},18e3:{timezone:333}}},25200:{instant:2019715200,25200:{instant:1464966450,25200:{instant:1461268125,25200:{timezone:310},21600:{timezone:341}},21600:{timezone:327}},21600:{instant:1309636800,21600:{timezone:17},25200:{timezone:119}}},19800:{timezone:82}},46800:{instant:1309636800,43200:{timezone:100},46800:{instant:1479759750,46800:{timezone:445},50400:{timezone:471}}},43200:{instant:1294843500,39600:{timezone:125},46800:{timezone:447},43200:{timezone:448}},18e3:{instant:1080340650,14400:{timezone:306},18e3:{instant:1250463600,18e3:{instant:1087737300,21600:{timezone:307},18e3:{timezone:90}},21600:{instant:1309636800,18e3:{timezone:105},21600:{timezone:118}}}},14400:{instant:1087737300,18e3:{instant:1309636800,18e3:{instant:1427983200,18e3:{timezone:146},14400:{timezone:347}},14400:{instant:1191290400,14400:{timezone:338},18e3:{timezone:117}}},14400:{instant:1235670300,14400:{timezone:8},18e3:{timezone:89}}},32400:{instant:1309636800,36e3:{instant:1427983200,28800:{timezone:313},32400:{timezone:122}},28800:{timezone:314},32400:{instant:1487156400,32400:{timezone:68},30600:{timezone:331}}},16200:{timezone:322},20700:{timezone:145},19800:{timezone:71},12600:{timezone:339},23400:{timezone:346},37800:{timezone:14},34200:{timezone:358},31500:{timezone:359},"-39600":{instant:2019715200,50400:{timezone:440},46800:{timezone:446},"-39600":{timezone:457}},49500:{timezone:442},50400:{timezone:452},"-34200":{timezone:456},41400:{timezone:460}}}),null);
__d("TimezoneNamesData-tz2019c",[],(function(a,b,c,d,e,f){e.exports={version:"2019c",zoneNames:{0:"Etc/UTC",1:"America/Los_Angeles",2:"America/Denver",3:"Pacific/Honolulu",4:"America/Anchorage",5:"America/Phoenix",6:"America/Chicago",7:"America/New_York",8:"Asia/Dubai",9:"America/Argentina/San_Luis",10:"America/Argentina/Buenos_Aires",11:"America/Argentina/Salta",12:"Europe/Vienna",13:"Australia/Perth",14:"Australia/Broken_Hill",15:"Australia/Sydney",16:"Europe/Sarajevo",17:"Asia/Dhaka",18:"Europe/Brussels",19:"Europe/Sofia",20:"Asia/Bahrain",21:"America/La_Paz",22:"America/Noronha",23:"America/Campo_Grande",24:"America/Belem",25:"America/Sao_Paulo",26:"America/Nassau",27:"America/Dawson",28:"America/Vancouver",29:"America/Dawson_Creek",30:"America/Edmonton",31:"America/Rainy_River",32:"America/Regina",33:"America/Atikokan",34:"America/Iqaluit",35:"America/Toronto",36:"America/Blanc-Sablon",37:"America/Halifax",38:"America/St_Johns",39:"Europe/Zurich",40:"Pacific/Easter",41:"America/Santiago",42:"Asia/Shanghai",43:"America/Bogota",44:"America/Costa_Rica",45:"Asia/Nicosia",46:"Europe/Prague",47:"Europe/Berlin",48:"Europe/Copenhagen",49:"America/Santo_Domingo",50:"Pacific/Galapagos",51:"America/Guayaquil",52:"Europe/Tallinn",53:"Africa/Cairo",54:"Atlantic/Canary",55:"Europe/Madrid",56:"Europe/Helsinki",57:"Europe/Paris",58:"Europe/London",59:"Africa/Accra",60:"Europe/Athens",61:"America/Guatemala",62:"Asia/Hong_Kong",63:"America/Tegucigalpa",64:"Europe/Zagreb",65:"Europe/Budapest",66:"Asia/Jakarta",67:"Asia/Makassar",68:"Asia/Jayapura",69:"Europe/Dublin",70:"Asia/Jerusalem",71:"Asia/Kolkata",72:"Asia/Baghdad",73:"Atlantic/Reykjavik",74:"Europe/Rome",75:"America/Jamaica",76:"Asia/Amman",77:"Asia/Tokyo",78:"Africa/Nairobi",79:"Asia/Seoul",80:"Asia/Kuwait",81:"Asia/Beirut",82:"Asia/Colombo",83:"Europe/Vilnius",84:"Europe/Luxembourg",85:"Europe/Riga",86:"Africa/Casablanca",87:"Europe/Skopje",88:"Europe/Malta",89:"Indian/Mauritius",90:"Indian/Maldives",91:"America/Tijuana",92:"America/Hermosillo",93:"America/Mazatlan",94:"America/Mexico_City",95:"Asia/Kuala_Lumpur",96:"Africa/Lagos",97:"America/Managua",98:"Europe/Amsterdam",99:"Europe/Oslo",100:"Pacific/Auckland",101:"Asia/Muscat",102:"America/Panama",103:"America/Lima",104:"Asia/Manila",105:"Asia/Karachi",106:"Europe/Warsaw",107:"America/Puerto_Rico",108:"Asia/Gaza",109:"Atlantic/Azores",110:"Europe/Lisbon",111:"America/Asuncion",112:"Asia/Qatar",113:"Europe/Bucharest",114:"Europe/Belgrade",115:"Europe/Kaliningrad",116:"Europe/Moscow",117:"Europe/Samara",118:"Asia/Yekaterinburg",119:"Asia/Omsk",120:"Asia/Krasnoyarsk",121:"Asia/Irkutsk",122:"Asia/Yakutsk",123:"Asia/Vladivostok",124:"Asia/Magadan",125:"Asia/Kamchatka",126:"Asia/Riyadh",127:"Europe/Stockholm",128:"Asia/Singapore",129:"Europe/Ljubljana",130:"Europe/Bratislava",131:"America/El_Salvador",132:"Asia/Bangkok",133:"Africa/Tunis",134:"Europe/Istanbul",135:"America/Port_of_Spain",136:"Asia/Taipei",137:"Europe/Kiev",138:"America/Montevideo",139:"America/Caracas",140:"Asia/Ho_Chi_Minh",141:"Africa/Johannesburg",142:"America/Winnipeg",143:"America/Detroit",144:"Australia/Melbourne",145:"Asia/Kathmandu",146:"Asia/Baku",147:"Africa/Abidjan",148:"Africa/Addis_Ababa",149:"Africa/Algiers",150:"Africa/Asmara",151:"Africa/Bamako",152:"Africa/Bangui",153:"Africa/Banjul",154:"Africa/Bissau",155:"Africa/Blantyre",156:"Africa/Brazzaville",157:"Africa/Bujumbura",158:"Africa/Ceuta",159:"Africa/Conakry",160:"Africa/Dakar",161:"Africa/Dar_es_Salaam",162:"Africa/Djibouti",163:"Africa/Douala",164:"Africa/El_Aaiun",165:"Africa/Freetown",166:"Africa/Gaborone",167:"Africa/Harare",168:"Africa/Juba",169:"Africa/Kampala",170:"Africa/Khartoum",171:"Africa/Kigali",172:"Africa/Kinshasa",173:"Africa/Libreville",174:"Africa/Lome",175:"Africa/Luanda",176:"Africa/Lubumbashi",177:"Africa/Lusaka",178:"Africa/Malabo",179:"Africa/Maputo",180:"Africa/Maseru",181:"Africa/Mbabane",182:"Africa/Mogadishu",183:"Africa/Monrovia",184:"Africa/Ndjamena",185:"Africa/Niamey",186:"Africa/Nouakchott",187:"Africa/Ouagadougou",188:"Africa/Porto-Novo",189:"Africa/Sao_Tome",190:"Africa/Tripoli",191:"Africa/Windhoek",192:"America/Adak",193:"America/Anguilla",194:"America/Antigua",195:"America/Araguaina",196:"America/Argentina/Catamarca",197:"America/Argentina/Cordoba",198:"America/Argentina/Jujuy",199:"America/Argentina/La_Rioja",200:"America/Argentina/Mendoza",201:"America/Argentina/Rio_Gallegos",202:"America/Argentina/San_Juan",203:"America/Argentina/Tucuman",204:"America/Argentina/Ushuaia",205:"America/Aruba",206:"America/Bahia",207:"America/Bahia_Banderas",208:"America/Barbados",209:"America/Belize",210:"America/Boa_Vista",211:"America/Boise",212:"America/Cambridge_Bay",213:"America/Cancun",214:"America/Cayenne",215:"America/Cayman",216:"America/Chihuahua",217:"America/Creston",218:"America/Cuiaba",219:"America/Curacao",220:"America/Danmarkshavn",221:"America/Dominica",222:"America/Eirunepe",223:"America/Fort_Nelson",224:"America/Fortaleza",225:"America/Glace_Bay",226:"America/Godthab",227:"America/Goose_Bay",228:"America/Grand_Turk",229:"America/Grenada",230:"America/Guadeloupe",231:"America/Guyana",232:"America/Havana",233:"America/Indiana/Indianapolis",234:"America/Indiana/Knox",235:"America/Indiana/Marengo",236:"America/Indiana/Petersburg",237:"America/Indiana/Tell_City",238:"America/Indiana/Vevay",239:"America/Indiana/Vincennes",240:"America/Indiana/Winamac",241:"America/Indianapolis",242:"America/Inuvik",243:"America/Juneau",244:"America/Kentucky/Louisville",245:"America/Kentucky/Monticello",246:"America/Kralendijk",247:"America/Lower_Princes",248:"America/Maceio",249:"America/Manaus",250:"America/Marigot",251:"America/Martinique",252:"America/Matamoros",253:"America/Menominee",254:"America/Merida",255:"America/Metlakatla",256:"America/Miquelon",257:"America/Moncton",258:"America/Monterrey",259:"America/Montreal",260:"America/Montserrat",261:"America/Nipigon",262:"America/Nome",263:"America/North_Dakota/Beulah",264:"America/North_Dakota/Center",265:"America/North_Dakota/New_Salem",266:"America/Ojinaga",267:"America/Pangnirtung",268:"America/Paramaribo",269:"America/Port-au-Prince",270:"America/Porto_Velho",271:"America/Punta_Arenas",272:"America/Rankin_Inlet",273:"America/Recife",274:"America/Resolute",275:"America/Rio_Branco",276:"America/Santarem",277:"America/Scoresbysund",278:"America/Sitka",279:"America/St_Barthelemy",280:"America/St_Kitts",281:"America/St_Lucia",282:"America/St_Thomas",283:"America/St_Vincent",284:"America/Swift_Current",285:"America/Thule",286:"America/Thunder_Bay",287:"America/Tortola",288:"America/Whitehorse",289:"America/Yakutat",290:"America/Yellowknife",291:"Antarctica/Casey",292:"Antarctica/Davis",293:"Antarctica/DumontDUrville",294:"Antarctica/Macquarie",295:"Antarctica/Mawson",296:"Antarctica/McMurdo",297:"Antarctica/Palmer",298:"Antarctica/Rothera",299:"Antarctica/Syowa",300:"Antarctica/Troll",301:"Antarctica/Vostok",302:"Arctic/Longyearbyen",303:"Asia/Aden",304:"Asia/Almaty",305:"Asia/Anadyr",306:"Asia/Aqtau",307:"Asia/Aqtobe",308:"Asia/Ashgabat",309:"Asia/Atyrau",310:"Asia/Barnaul",311:"Asia/Bishkek",312:"Asia/Brunei",313:"Asia/Chita",314:"Asia/Choibalsan",315:"Asia/Damascus",316:"Asia/Dili",317:"Asia/Dushanbe",318:"Asia/Famagusta",319:"Asia/Hebron",320:"Asia/Hovd",321:"Asia/Istanbul",322:"Asia/Kabul",323:"Asia/Khandyga",324:"Asia/Kuching",325:"Asia/Macau",326:"Asia/Novokuznetsk",327:"Asia/Novosibirsk",328:"Asia/Oral",329:"Asia/Phnom_Penh",330:"Asia/Pontianak",331:"Asia/Pyongyang",332:"Asia/Qostanay",333:"Asia/Qyzylorda",334:"Asia/Sakhalin",335:"Asia/Samarkand",336:"Asia/Srednekolymsk",337:"Asia/Tashkent",338:"Asia/Tbilisi",339:"Asia/Tehran",340:"Asia/Thimphu",341:"Asia/Tomsk",342:"Asia/Ulaanbaatar",343:"Asia/Urumqi",344:"Asia/Ust-Nera",345:"Asia/Vientiane",346:"Asia/Yangon",347:"Asia/Yerevan",348:"Atlantic/Bermuda",349:"Atlantic/Cape_Verde",350:"Atlantic/Faroe",351:"Atlantic/Madeira",352:"Atlantic/South_Georgia",353:"Atlantic/St_Helena",354:"Atlantic/Stanley",355:"Australia/Adelaide",356:"Australia/Brisbane",357:"Australia/Currie",358:"Australia/Darwin",359:"Australia/Eucla",360:"Australia/Hobart",361:"Australia/Lindeman",362:"Australia/Lord_Howe",363:"CET",364:"CST6CDT",365:"EET",366:"EST",367:"EST5EDT",368:"Etc/GMT",369:"Etc/GMT+0",370:"Etc/GMT+1",371:"Etc/GMT+10",372:"Etc/GMT+11",373:"Etc/GMT+12",374:"Etc/GMT+2",375:"Etc/GMT+3",376:"Etc/GMT+4",377:"Etc/GMT+5",378:"Etc/GMT+6",379:"Etc/GMT+7",380:"Etc/GMT+8",381:"Etc/GMT+9",382:"Etc/GMT-0",383:"Etc/GMT-1",384:"Etc/GMT-10",385:"Etc/GMT-11",386:"Etc/GMT-12",387:"Etc/GMT-13",388:"Etc/GMT-14",389:"Etc/GMT-2",390:"Etc/GMT-3",391:"Etc/GMT-4",392:"Etc/GMT-5",393:"Etc/GMT-6",394:"Etc/GMT-7",395:"Etc/GMT-8",396:"Etc/GMT-9",397:"Etc/GMT0",398:"Etc/Greenwich",399:"Etc/Universal",400:"Etc/Zulu",401:"Europe/Andorra",402:"Europe/Astrakhan",403:"Europe/Busingen",404:"Europe/Chisinau",405:"Europe/Gibraltar",406:"Europe/Guernsey",407:"Europe/Isle_of_Man",408:"Europe/Jersey",409:"Europe/Kirov",410:"Europe/Mariehamn",411:"Europe/Minsk",412:"Europe/Monaco",413:"Europe/Nicosia",414:"Europe/Podgorica",415:"Europe/San_Marino",416:"Europe/Saratov",417:"Europe/Simferopol",418:"Europe/Tirane",419:"Europe/Ulyanovsk",420:"Europe/Uzhgorod",421:"Europe/Vaduz",422:"Europe/Vatican",423:"Europe/Volgograd",424:"Europe/Zaporozhye",425:"GMT",426:"HST",427:"Indian/Antananarivo",428:"Indian/Chagos",429:"Indian/Christmas",430:"Indian/Cocos",431:"Indian/Comoro",432:"Indian/Kerguelen",433:"Indian/Mahe",434:"Indian/Mayotte",435:"Indian/Reunion",436:"MET",437:"MST",438:"MST7MDT",439:"PST8PDT",440:"Pacific/Apia",441:"Pacific/Bougainville",442:"Pacific/Chatham",443:"Pacific/Chuuk",444:"Pacific/Efate",445:"Pacific/Enderbury",446:"Pacific/Fakaofo",447:"Pacific/Fiji",448:"Pacific/Funafuti",449:"Pacific/Gambier",450:"Pacific/Guadalcanal",451:"Pacific/Guam",452:"Pacific/Kiritimati",453:"Pacific/Kosrae",454:"Pacific/Kwajalein",455:"Pacific/Majuro",456:"Pacific/Marquesas",457:"Pacific/Midway",458:"Pacific/Nauru",459:"Pacific/Niue",460:"Pacific/Norfolk",461:"Pacific/Noumea",462:"Pacific/Pago_Pago",463:"Pacific/Palau",464:"Pacific/Pitcairn",465:"Pacific/Pohnpei",466:"Pacific/Port_Moresby",467:"Pacific/Rarotonga",468:"Pacific/Saipan",469:"Pacific/Tahiti",470:"Pacific/Tarawa",471:"Pacific/Tongatapu",472:"Pacific/Wake",473:"Pacific/Wallis",474:"UTC",475:"WET",476:"Asia/Calcutta"}}}),null);
__d("TimezoneRulesFrom2009-tz2019c",[],(function(a,b,c,d,e,f){e.exports={version:"2019c",fromYear:2009,ruleSets:["1980 1 4 25 0 1 1980 1 10 31 2 0","2008 3 4 lastFri 0s 1 2008 1 8 lastThu 24 0 2009 1 8 20 24 0 2010 1 8 10 24 0 2010 1 9 9 24 1 2010 1 9 lastThu 24 0 2014 1 5 15 24 1 2014 1 6 26 24 0 2014 1 7 31 24 1 2014 1 9 lastThu 24 0","1942 1 9 1 0 0:20 1942 1 12 31 0 0","1997 1 4 4 0 1 1997 1 10 4 0 0 2013 1 3 lastFri 1 1 2013 1 10 lastFri 2 0","2008 1 10 lastSun 2 1 2009 1 3 lastSun 2 0","2008 1 6 1 0 1 2008 1 9 1 0 0 2009 1 6 1 0 1 2009 1 8 21 0 0 2010 1 5 2 0 1 2010 1 8 8 0 0 2011 1 4 3 0 1 2011 1 7 31 0 0 2012 2 4 lastSun 2 1 2012 1 7 20 3 0 2012 1 8 20 2 1 2012 1 9 30 3 0 2013 1 7 7 3 0 2013 1 8 10 2 1 2013 6 10 lastSun 3 0 2014 5 3 lastSun 2 1 2014 1 6 28 3 0 2014 1 8 2 2 1 2015 1 6 14 3 0 2015 1 7 19 2 1 2016 1 6 5 3 0 2016 1 7 10 2 1 2017 1 5 21 3 0 2017 1 7 2 2 1 2018 1 5 13 3 0 2018 1 6 17 2 1 2019 1 5 5 3 -1 2019 1 6 9 2 0 2020 1 4 19 3 -1 2020 1 5 24 2 0 2021 1 4 11 3 -1 2021 1 5 16 2 0 2022 1 3 27 3 -1 2022 1 5 8 2 0 2023 1 3 19 3 -1 2023 1 4 23 2 0 2024 1 3 10 3 -1 2024 1 4 14 2 0 2025 1 2 23 3 -1 2025 1 4 6 2 0 2026 1 2 15 3 -1 2026 1 3 22 2 0 2027 1 2 7 3 -1 2027 1 3 14 2 0 2028 1 1 23 3 -1 2028 1 2 27 2 0 2029 1 1 14 3 -1 2029 1 2 18 2 0 2029 1 12 30 3 -1 2030 1 2 10 2 0 2030 1 12 22 3 -1 2031 1 1 26 2 0 2031 1 12 14 3 -1 2032 1 1 18 2 0 2032 1 11 28 3 -1 2033 1 1 9 2 0 2033 1 11 20 3 -1 2033 1 12 25 2 0 2034 1 11 5 3 -1 2034 1 12 17 2 0 2035 1 10 28 3 -1 2035 1 12 2 2 0 2036 1 10 19 3 -1 2036 1 11 23 2 0 2037 1 10 4 3 -1 2037 1 11 15 2 0 2038 1 9 26 3 -1 2038 1 10 31 2 0 2039 1 9 18 3 -1 2039 1 10 23 2 0 2040 1 9 2 3 -1 2040 1 10 14 2 0 2041 1 8 25 3 -1 2041 1 9 29 2 0 2042 1 8 10 3 -1 2042 1 9 21 2 0 2043 1 8 2 3 -1 2043 1 9 6 2 0 2044 1 7 24 3 -1 2044 1 8 28 2 0 2045 1 7 9 3 -1 2045 1 8 20 2 0 2046 1 7 1 3 -1 2046 1 8 5 2 0 2047 1 6 23 3 -1 2047 1 7 28 2 0 2048 1 6 7 3 -1 2048 1 7 19 2 0 2049 1 5 30 3 -1 2049 1 7 4 2 0 2050 1 5 15 3 -1 2050 1 6 26 2 0 2051 1 5 7 3 -1 2051 1 6 11 2 0 2052 1 4 28 3 -1 2052 1 6 2 2 0 2053 1 4 13 3 -1 2053 1 5 25 2 0 2054 1 4 5 3 -1 2054 1 5 10 2 0 2055 1 3 28 3 -1 2055 1 5 2 2 0 2056 1 3 12 3 -1 2056 1 4 23 2 0 2057 1 3 4 3 -1 2057 1 4 8 2 0 2058 1 2 17 3 -1 2058 1 3 31 2 0 2059 1 2 9 3 -1 2059 1 3 16 2 0 2060 1 2 1 3 -1 2060 1 3 7 2 0 2061 1 1 16 3 -1 2061 1 2 27 2 0 2062 1 1 8 3 -1 2062 1 2 12 2 0 2062 1 12 31 3 -1 2063 1 2 4 2 0 2063 1 12 16 3 -1 2064 1 1 20 2 0 2064 1 12 7 3 -1 2065 1 1 11 2 0 2065 1 11 22 3 -1 2066 1 1 3 2 0 2066 1 11 14 3 -1 2066 1 12 19 2 0 2067 1 11 6 3 -1 2067 1 12 11 2 0 2068 1 10 21 3 -1 2068 1 12 2 2 0 2069 1 10 13 3 -1 2069 1 11 17 2 0 2070 1 10 5 3 -1 2070 1 11 9 2 0 2071 1 9 20 3 -1 2071 1 10 25 2 0 2072 1 9 11 3 -1 2072 1 10 16 2 0 2073 1 8 27 3 -1 2073 1 10 8 2 0 2074 1 8 19 3 -1 2074 1 9 23 2 0 2075 1 8 11 3 -1 2075 1 9 15 2 0 2076 1 7 26 3 -1 2076 1 9 6 2 0 2077 1 7 18 3 -1 2077 1 8 22 2 0 2078 1 7 10 3 -1 2078 1 8 14 2 0 2079 1 6 25 3 -1 2079 1 7 30 2 0 2080 1 6 16 3 -1 2080 1 7 21 2 0 2081 1 6 1 3 -1 2081 1 7 13 2 0 2082 1 5 24 3 -1 2082 1 6 28 2 0 2083 1 5 16 3 -1 2083 1 6 20 2 0 2084 1 4 30 3 -1 2084 1 6 11 2 0 2085 1 4 22 3 -1 2085 1 5 27 2 0 2086 1 4 14 3 -1 2086 1 5 19 2 0 2087 1 3 30 3 -1 2087 1 5 4 2 0","2008 10 9 Sun>=1 2 0 2008 10 4 Sun>=1 2 -1","1944 1 3 Sun>=15 2 0","1985 1 10 15 0 0 1985 1 4 lastSun 0 1","2008 1 3 lastSun 2s 1 2008 1 10 lastSun 2s 0","2008 - 3 lastSun 1u 2 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 1u 1 2008 - 10 lastSun 1u 0","2008 - 3 lastSun 0 1 2008 - 10 lastSun 0 0","2008 3 3 lastSun 2s 1 2008 3 10 lastSun 2s 0","2011 1 3 lastSun 2s 1 2011 1 10 lastSun 2s 0","2008 8 3 lastSun 4 1 2008 8 10 lastSun 5 0","2009 1 6 19 23 1 2009 1 12 31 24 0","1949 1 5 1 0 1 1949 1 9 30 24 0","1991 1 9 Sun>=11 2 0 1991 1 4 Sun>=11 2 1","1979 1 5 13 3:30 1 1979 1 10 21 3:30 0","1979 1 7 1 0 1 1979 1 10 1 0 0","1979 1 5 13 3:30 1 1979 1 10 Sun>=16 3:30 0","1998 1 3 lastSun 0 1","2008 1 3 20 24 1 2008 1 9 20 24 0 2009 3 3 21 24 1 2009 3 9 21 24 0 2012 1 3 20 24 1 2012 1 9 20 24 0 2013 3 3 21 24 1 2013 3 9 21 24 0 2016 1 3 20 24 1 2016 1 9 20 24 0 2017 3 3 21 24 1 2017 3 9 21 24 0 2020 1 3 20 24 1 2020 1 9 20 24 0 2021 3 3 21 24 1 2021 3 9 21 24 0 2024 1 3 20 24 1 2024 1 9 20 24 0 2025 3 3 21 24 1 2025 3 9 21 24 0 2028 2 3 20 24 1 2028 2 9 20 24 0 2030 2 3 21 24 1 2030 2 9 21 24 0 2032 2 3 20 24 1 2032 2 9 20 24 0 2034 2 3 21 24 1 2034 2 9 21 24 0 2036 2 3 20 24 1 2036 2 9 20 24 0 2038 2 3 21 24 1 2038 2 9 21 24 0 2040 2 3 20 24 1 2040 2 9 20 24 0 2042 2 3 21 24 1 2042 2 9 21 24 0 2044 2 3 20 24 1 2044 2 9 20 24 0 2046 2 3 21 24 1 2046 2 9 21 24 0 2048 2 3 20 24 1 2048 2 9 20 24 0 2050 2 3 21 24 1 2050 2 9 21 24 0 2052 2 3 20 24 1 2052 2 9 20 24 0 2054 2 3 21 24 1 2054 2 9 21 24 0 2056 2 3 20 24 1 2056 2 9 20 24 0 2058 2 3 21 24 1 2058 2 9 21 24 0 2060 3 3 20 24 1 2060 3 9 20 24 0 2063 1 3 21 24 1 2063 1 9 21 24 0 2064 3 3 20 24 1 2064 3 9 20 24 0 2067 1 3 21 24 1 2067 1 9 21 24 0 2068 3 3 20 24 1 2068 3 9 20 24 0 2071 1 3 21 24 1 2071 1 9 21 24 0 2072 3 3 20 24 1 2072 3 9 20 24 0 2075 1 3 21 24 1 2075 1 9 21 24 0 2076 3 3 20 24 1 2076 3 9 20 24 0 2079 1 3 21 24 1 2079 1 9 21 24 0 2080 3 3 20 24 1 2080 3 9 20 24 0 2083 1 3 21 24 1 2083 1 9 21 24 0 2084 3 3 20 24 1 2084 3 9 20 24 0 2087 1 3 21 24 1 2087 1 9 21 24 0 2088 - 3 20 24 1 2088 - 9 20 24 0","2007 1 4 1 3s 1 2007 1 10 1 3s 0","2008 5 4 Fri<=1 2 1 2008 1 10 5 2 0 2009 1 9 27 2 0 2010 1 9 12 2 0 2011 1 10 2 2 0 2012 1 9 23 2 0 2013 - 3 Fri>=23 2 1 2013 - 10 lastSun 2 0","1951 1 9 Sat>=8 25 0 1951 1 5 Sat>=1 24 1","2008 5 3 lastThu 24 1 2008 4 10 lastFri 0s 0 2013 1 12 20 0 0 2014 - 3 lastThu 24 1 2014 - 10 lastFri 0s 0","2005 1 3 lastSun 2:30 1","1988 1 5 Sun>=8 2 1 1988 1 10 Sun>=8 3 0","1941 1 9 14 0 0:20 1941 1 12 14 0 0","2006 1 9 lastSat 2 0 2006 1 3 lastSat 2 1 2015 2 3 lastSat 2 1 2015 2 9 lastSat 0 0","2008 1 6 1 0 1 2008 2 11 1 0 0 2009 1 4 15 0 1","1967 1 5 1 1 1","2008 2 3 lastFri 0 1 2008 1 9 1 0 0 2009 1 9 Fri>=1 1 0 2010 1 3 26 0 1 2010 1 8 11 0 0 2011 1 4 1 0:1 1 2011 1 8 1 0 0 2011 1 8 30 0 1 2011 1 9 30 0 0 2012 3 3 lastThu 24 1 2012 1 9 21 1 0 2013 1 9 Fri>=21 0 0 2014 2 10 Fri>=21 0 0 2015 1 3 lastFri 24 1 2016 3 3 Sat>=24 1 1 2016 - 10 lastSat 1 0 2019 - 3 lastFri 0 1","1978 1 3 22 0 1 1978 1 9 21 0 0","2008 1 4 Fri>=1 0 1 2008 1 11 1 0 0 2009 1 3 lastFri 0 1 2010 2 4 Fri>=1 0 1 2012 - 3 lastFri 0 1 2009 - 10 lastFri 0 0","1944 1 3 lastSun 2 0","2008 2 3 lastSun 2s 0 2008 1 10 lastSun 2s 1","1992 1 3 Sun>=1 2s 0","1994 1 3 Sun>=1 2s 0","2008 - 4 Sun>=1 2s 0 2008 - 10 Sun>=1 2s 1","2008 - 10 Sun>=1 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 4 Sun>=1 2 0 2008 - 10 Sun>=1 2 0:30","2000 1 2 lastSun 3 0 2009 1 11 29 2 1 2010 1 3 lastSun 3 0 2010 4 10 Sun>=21 2 1 2011 1 3 Sun>=1 3 0 2012 2 1 Sun>=18 3 0 2014 1 1 Sun>=18 2 0 2014 5 11 Sun>=1 2 1 2015 - 1 Sun>=12 3 0 2019 - 11 Sun>=8 2 1","1977 1 4 24 2 1 1977 1 8 28 2 0","1997 1 3 2 2s 0","2008 - 9 lastSun 2s 1 2008 - 4 Sun>=1 2s 0","2008 - 9 lastSun 2:45s 1 2008 - 4 Sun>=1 2:45s 0","1991 1 3 Sun>=1 0 0","2010 1 9 lastSun 0 1 2011 1 4 Sat>=1 4 0 2011 1 9 lastSat 3 1 2012 - 4 Sun>=1 4 0 2012 - 9 lastSun 3 1","2002 1 1 lastSun 2 0 2016 1 11 Sun>=1 2 1 2017 1 1 Sun>=15 3 0","1993 1 1 Sun>=23 0 0","1995 1 3 lastSun 1u 1 1995 1 10 Sun>=22 1u 0","2008 - 3 lastSun 1u 0 2008 - 10 lastSun 1u -1","2008 - 3 lastSun 1s 1 2008 - 10 lastSun 1s 0","2008 - 3 lastSun 2s 1 2008 - 10 lastSun 2s 0","1984 1 4 1 0 1","1980 1 4 6 0 1 1980 1 9 28 0 0","1946 1 5 19 2s 1 1946 1 10 7 2s 0","1982 1 4 Sat>=1 23 1","1949 1 10 Sun>=1 2s 0 1949 1 4 9 2s 1","1948 1 5 9 2s 1 1948 1 8 8 2s 0","2008 - 3 Sun>=8 2 1 2008 - 11 Sun>=1 2 0","1982 1 3 lastSun 2 1 1982 1 9 lastSun 3 0","1976 1 3 28 1 1 1976 1 9 26 1 0","1949 1 10 Sun>=1 2s 0 1949 1 4 10 2s 1","1945 1 5 24 2 2 1945 1 9 24 3 1 1945 1 11 18 2s 0","1980 1 4 1 0 1 1980 1 9 28 0 0","1980 1 4 6 1 1","1967 1 4 Sun>=1 1s 1 1967 1 10 29 1s 0","1979 1 5 Sun>=22 0s 1 1979 1 9 30 0s 0","1996 1 3 lastSun 2s 1 1996 1 9 lastSun 2s 0","1929 1 4 20 23 1","1980 1 9 Sun>=15 2 0 1980 1 3 31 2 1","2008 - 3 lastSun 2 1 2008 - 10 lastSun 3 0","1945 1 4 2 2s 1 1945 1 9 16 2s 0","1965 1 9 Sun>=15 2s 0 1965 1 4 25 2s 1","1964 1 5 lastSun 1s 1 1964 1 9 lastSun 1s 0","1983 1 3 lastSun 2s 1","1993 1 3 lastSun 0s 1 1993 1 9 lastSun 0s 0","1978 1 4 2 2s 1 1978 1 10 1 2s 0","1978 1 6 1 0 1 1978 1 8 4 0 0","1942 1 5 Mon>=1 1 1 1942 1 10 Mon>=1 2 0","2006 1 3 lastSun 1s 1 2006 1 10 lastSun 1s 0","1966 1 4 lastSun 2 1 1966 1 10 lastSun 2 0","1966 1 4 lastSun 1 1 1966 1 10 lastSun 2 0","1954 1 9 lastSun 2 0 1954 1 4 lastSun 2 1","1960 1 4 lastSun 2 1 1960 1 9 lastSun 2 0","1963 1 4 lastSun 2 1 1963 1 10 lastSun 2 0","1964 1 4 lastSun 2 1 1964 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 10 lastSun 2 0","1948 1 4 lastSun 2 1 1948 1 9 lastSun 2 0","2008 4 3 Sun>=8 0:1 1 2008 3 11 Sun>=1 0:1 0","1973 1 4 lastSun 2 1 1973 1 10 lastSun 2 0","2006 1 4 Sun>=1 0:1 1 2006 1 10 lastSun 0:1 0","2005 1 10 lastSun 2s 0 2005 1 4 Sun>=1 2s 1","1959 1 4 lastSun 2 1 1959 1 10 lastSun 2 0","1961 1 4 lastSun 2 1 1961 1 9 lastSun 2 0","2006 1 10 lastSun 2 0","2006 1 10 lastSun 2 0 2006 1 4 Sun>=1 2 1","2008 - 4 Sun>=1 2 1 2008 - 10 lastSun 2 0","1975 1 10 lastSun 2 0 1975 1 4 lastSun 2 1","1980 1 4 Sun>=15 2 1 1980 1 9 25 2 0","1983 1 2 12 0 0","1992 1 1 Sat>=15 0 1 1992 1 3 15 0 0","2008 3 10 lastSun 0s 0 2008 1 3 Sun>=15 0s 1 2009 2 3 Sun>=8 0s 1 2011 1 3 Sun>=15 0s 1 2011 1 11 13 0s 0 2012 1 4 1 0s 1 2012 - 11 Sun>=1 0s 0 2013 - 3 Sun>=8 0s 1","1974 1 1 21 0 0","1988 1 5 Sun>=1 0 1 1988 1 9 lastSun 0 0","2006 1 4 30 0 1 2006 1 10 1 0 0","2006 1 4 Sun>=1 0 1 2006 1 10 lastSun 0 0 2012 4 3 Sun>=8 2 1 2012 4 11 Sun>=1 2 0 2017 - 3 Sun>=8 2 1 2017 - 11 Sun>=1 2 0","2006 1 5 Sun>=1 0 1 2006 1 8 Mon>=1 0 0","2006 1 4 30 2 1 2006 1 10 Sun>=1 1 0","2008 2 3 Sun>=15 0 0 2008 1 10 Sun>=15 0 1","2008 2 3 Sun>=8 0 0 2008 1 10 Sun>=8 0 1","2008 10 10 Sun>=15 0 1 2008 4 2 Sun>=15 0 0 2012 1 2 Sun>=22 0 0 2013 2 2 Sun>=15 0 0 2015 1 2 Sun>=22 0 0 2016 4 2 Sun>=15 0 0 2018 1 11 Sun>=1 0 1","2008 3 10 Sun>=9 4u 1 2008 1 3 30 3u 0 2009 1 3 Sun>=9 3u 0 2010 1 4 Sun>=1 3u 0 2011 1 5 Sun>=2 3u 0 2011 1 8 Sun>=16 4u 1 2012 3 4 Sun>=23 3u 0 2012 3 9 Sun>=2 4u 1 2016 3 5 Sun>=9 3u 0 2016 3 8 Sun>=9 4u 1 2019 - 4 Sun>=2 3u 0 2019 - 9 Sun>=2 4u 1","1993 1 4 4 0 0","1993 1 2 5 0 0","2008 3 4 Sun>=15 2 0 2008 3 9 Sun>=1 2 1","2008 2 10 Sun>=15 0 1 2008 2 3 Sun>=8 0 0 2010 - 10 Sun>=1 0 1 2010 3 4 Sun>=8 0 0 2013 - 3 Sun>=22 0 0","1994 1 1 1 0 1 1994 1 4 1 0 0","2008 8 3 Sun>=8 2 0 2008 7 10 Sun>=1 2 1"],zones:["0 - -","-8 63 -","-7 63 -","-10 - -","-9 63 -","-7 - -","-6 63 -","-5 63 -","4 - -","-4 114 1255233600 -3 - -","-3 113 -","-3 - -","1 11 -","8 38 -","9:30 41 -","10 41 -",12,"6 16 -",12,"2 11 -","3 - -","-4 - -","-2 - -","-4 115 -",11,"-3 115 -",7,1,1,5,2,6,"-6 - -","-5 - -",7,7,21,"-4 63 -","-3:30 93 1320114600 -3:30 63 -",12,"-6 116 -","-4 116 -","8 18 -","-5 117 -","-6 105 -",19,12,12,12,21,"-6 118 -","-5 118 -",19,"2 1 -","0 11 -",12,19,12,54,"0 2 -",19,"-6 109 -","8 19 -","-6 111 -",12,12,"7 - -","8 - -","9 - -","1 54 -","2 25 -","5:30 - -","3 24 -",0,12,33,"2 27 -","9 26 -",20,"9 29 -",20,"2 12 -",71,19,12,19,"0 5 1540692000 1 5 -",12,12,"4 4 -","5 - -","-8 101 1262332800 -8 63 -",5,"-7 101 -","-6 101 -",67,"1 - -","-6 112 -",12,12,"12 47 -",8,33,"-5 121 -","8 35 -","5 32 -",12,21,"2 34 1262296800 2 - 1269640860 2 34 1312146000 2 - 1325368800 2 34 -","-1 11 -",54,"-4 120 -",20,19,12,"2 13 1301184000 3 - 1414278000 2 - -","3 13 1301180400 4 - 1414274400 3 - -","4 13 1269727200 3 13 1301180400 4 - -","5 13 1301173200 6 - 1414267200 5 - -","6 13 1301169600 7 - 1414263600 6 - -","7 13 1301166000 8 - 1414260000 7 - -","8 13 1301162400 9 - 1414256400 8 - -","9 13 1301158800 10 - 1414252800 9 - -","10 13 1301155200 11 - 1414249200 10 - -","11 13 1301151600 12 - 1414245600 10 - 1461427200 11 - -","12 13 1269698400 11 13 1301151600 12 - -",20,12,67,12,12,"-6 108 -",66,"1 9 -","2 11 1301187600 2 - 1301274000 2 11 1396141200 2 - 1396227600 2 11 1445734800 2 dst:1 1446944400 2 11 1473195600 3 - -",21,"8 20 -",19,"-3 122 -","-4:30 - 1462086000 -4 - -",66,"2 7 -",6,7,15,"5:45 - -","4 15 -",0,20,96,20,0,96,0,0,"2 - -",96,155,12,0,0,20,20,96,86,0,155,155,20,20,"3 - 1509483600 2 - -",155,96,96,0,96,155,155,96,155,141,141,20,0,96,96,0,0,96,"0 - 1514768400 1 - 1546304400 0 - -","2 - 1352505600 1 3 1382659200 2 - -","2 6 -","-10 63 -",21,21,"-3 - 1350788400 -3 115 1378004400 -3 - -",11,10,11,11,11,11,11,10,11,21,"-3 - 1318734000 -3 115 1350788400 -3 - -","-7 101 1270371600 -6 101 -","-4 103 -","-6 104 -",21,2,2,"-6 101 1422777600 -5 - -",11,33,93,5,23,21,0,21,"-4 - 1384056000 -5 - -","-8 63 1425808800 -7 - -",11,37,"-3 11 -","-4 93 1320116400 -4 63 -","-5 63 1446357600 -4 - 1520751600 -5 63 -",21,21,21,"-5 106 -",7,6,7,7,6,7,7,7,7,2,4,7,7,21,21,11,21,21,21,"-6 101 1262325600 -6 63 -",6,94,"-8 - 1446372000 -9 63 1541325600 -8 - 1547978400 -9 63 -","-3 63 -",37,94,7,21,7,4,"-7 63 1289116800 -6 63 -",6,6,"-7 101 1262329200 -7 63 -",7,11,"-5 110 -",21,"-4 116 1480820400 -3 - -",6,11,6,222,11,109,4,21,21,21,21,21,32,37,7,21,1,4,2,"8 - 1255802400 11 - 1267714800 8 - 1319738400 11 - 1329843600 8 - 1477065600 11 - 1520701200 8 - -","7 - 1255806000 5 - 1268251200 7 - 1319742000 5 - 1329854400 7 - -","10 - -","10 42 1270310400 11 - -","6 - 1255809600 5 - -",100,271,11,20,"0 10 -","6 - -",12,20,301,125,90,90,90,90,"6 13 1301169600 7 - 1414263600 6 - 1459022400 7 - -",301,67,"9 13 1301158800 10 - 1414252800 8 - 1459015200 9 - -","8 31 -","2 36 -",68,90,"2 11 1473282000 3 - 1509238800 2 11 -","2 34 -","7 31 -",134,"4:30 - -","10 13 1301155200 11 - 1315832400 10 - 1414252800 9 - -",67,"8 21 -","7 13 1269716400 6 13 1301169600 7 - -","6 13 1301169600 7 - 1414263600 6 - 1469304000 7 - -",90,66,66,"9 - 1439564400 8:30 - 1525446000 9 - -",301,"6 - 1545328800 5 - -","10 13 1301155200 11 - 1414249200 10 - 1459008000 11 - -",90,"11 13 1301151600 12 - 1414245600 11 - -",90,8,"3:30 23 -",301,"6 13 1301169600 7 - 1414263600 6 - 1464465600 7 - -",314,301,"11 13 1301151600 12 - 1315828800 11 - 1414249200 10 - -",66,"6:30 - -","4 13 1293825600 4 14 -",37,"-1 - -",54,54,22,0,"-4 119 1283666400 -3 - -",14,"10 39 -","10 42 -","9:30 37 -","8:45 38 -",357,"10 40 -","10:30 43 -","1 56 -",6,19,33,7,0,0,349,3,"-11 - -","-12 - -",22,11,21,33,32,5,"-8 - -","-9 - -",0,96,293,"11 - -","12 - -","13 - -","14 - -",155,20,8,90,301,66,67,68,0,0,0,0,12,"3 13 1301180400 4 - 1414274400 3 - 1459033200 4 - -",12,"2 75 -",12,54,54,54,116,19,"2 13 1301184000 3 - -",12,19,12,12,"3 13 1301180400 4 - 1414274400 3 - 1480806000 4 - -","2 11 1396137600 4 - 1414274400 3 - -",12,402,19,12,12,"3 13 1301180400 4 - 1414274400 3 - 1540681200 4 - -",19,0,3,20,301,66,346,20,90,8,20,8,363,5,2,1,"-11 50 1325239200 13 50 -","10 - 1419696000 11 - -","12:45 48 -",293,"11 52 -",387,"-11 - 1325242800 13 - -","12 44 -",386,381,385,293,388,385,386,386,"-9:30 - -",372,386,372,"11:30 - 1443882600 11 - 1561899600 11 41 -","11 46 -",372,68,380,385,293,"-10 49 -",293,3,386,"13 51 -",386,386,0,54,71]}}),null);